function xT(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function Vm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ip={exports:{}},rc={},kp={exports:{}},Oe={};var s0;function ST(){if(s0)return Oe;s0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function b(j,Z,Ae){this.props=j,this.context=Z,this.refs=M,this.updater=Ae||T}b.prototype.isReactComponent={},b.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=b.prototype;function q(j,Z,Ae){this.props=j,this.context=Z,this.refs=M,this.updater=Ae||T}var Q=q.prototype=new U;Q.constructor=q,P(Q,b.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,se=Object.prototype.hasOwnProperty,ce={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function k(j,Z,Ae){var Ne,Le={},Ve=null,Ge=null;if(Z!=null)for(Ne in Z.ref!==void 0&&(Ge=Z.ref),Z.key!==void 0&&(Ve=""+Z.key),Z)se.call(Z,Ne)&&!C.hasOwnProperty(Ne)&&(Le[Ne]=Z[Ne]);var Ye=arguments.length-2;if(Ye===1)Le.children=Ae;else if(1<Ye){for(var nt=Array(Ye),cn=0;cn<Ye;cn++)nt[cn]=arguments[cn+2];Le.children=nt}if(j&&j.defaultProps)for(Ne in Ye=j.defaultProps,Ye)Le[Ne]===void 0&&(Le[Ne]=Ye[Ne]);return{$$typeof:r,type:j,key:Ve,ref:Ge,props:Le,_owner:ce.current}}function D(j,Z){return{$$typeof:r,type:j.type,key:Z,ref:j.ref,props:j.props,_owner:j._owner}}function N(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function O(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ae){return Z[Ae]})}var V=/\/+/g;function R(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?O(""+j.key):Z.toString(36)}function Ee(j,Z,Ae,Ne,Le){var Ve=typeof j;(Ve==="undefined"||Ve==="boolean")&&(j=null);var Ge=!1;if(j===null)Ge=!0;else switch(Ve){case"string":case"number":Ge=!0;break;case"object":switch(j.$$typeof){case r:case e:Ge=!0}}if(Ge)return Ge=j,Le=Le(Ge),j=Ne===""?"."+R(Ge,0):Ne,ne(Le)?(Ae="",j!=null&&(Ae=j.replace(V,"$&/")+"/"),Ee(Le,Z,Ae,"",function(cn){return cn})):Le!=null&&(N(Le)&&(Le=D(Le,Ae+(!Le.key||Ge&&Ge.key===Le.key?"":(""+Le.key).replace(V,"$&/")+"/")+j)),Z.push(Le)),1;if(Ge=0,Ne=Ne===""?".":Ne+":",ne(j))for(var Ye=0;Ye<j.length;Ye++){Ve=j[Ye];var nt=Ne+R(Ve,Ye);Ge+=Ee(Ve,Z,Ae,nt,Le)}else if(nt=x(j),typeof nt=="function")for(j=nt.call(j),Ye=0;!(Ve=j.next()).done;)Ve=Ve.value,nt=Ne+R(Ve,Ye++),Ge+=Ee(Ve,Z,Ae,nt,Le);else if(Ve==="object")throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Ge}function Ie(j,Z,Ae){if(j==null)return j;var Ne=[],Le=0;return Ee(j,Ne,"","",function(Ve){return Z.call(Ae,Ve,Le++)}),Ne}function he(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(Ae){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ae)},function(Ae){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ae)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var ge={current:null},G={transition:null},le={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:G,ReactCurrentOwner:ce};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Ie,forEach:function(j,Z,Ae){Ie(j,function(){Z.apply(this,arguments)},Ae)},count:function(j){var Z=0;return Ie(j,function(){Z++}),Z},toArray:function(j){return Ie(j,function(Z){return Z})||[]},only:function(j){if(!N(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Oe.Component=b,Oe.Fragment=t,Oe.Profiler=i,Oe.PureComponent=q,Oe.StrictMode=n,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,Oe.act=ae,Oe.cloneElement=function(j,Z,Ae){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Ne=P({},j.props),Le=j.key,Ve=j.ref,Ge=j._owner;if(Z!=null){if(Z.ref!==void 0&&(Ve=Z.ref,Ge=ce.current),Z.key!==void 0&&(Le=""+Z.key),j.type&&j.type.defaultProps)var Ye=j.type.defaultProps;for(nt in Z)se.call(Z,nt)&&!C.hasOwnProperty(nt)&&(Ne[nt]=Z[nt]===void 0&&Ye!==void 0?Ye[nt]:Z[nt])}var nt=arguments.length-2;if(nt===1)Ne.children=Ae;else if(1<nt){Ye=Array(nt);for(var cn=0;cn<nt;cn++)Ye[cn]=arguments[cn+2];Ne.children=Ye}return{$$typeof:r,type:j.type,key:Le,ref:Ve,props:Ne,_owner:Ge}},Oe.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Oe.createElement=k,Oe.createFactory=function(j){var Z=k.bind(null,j);return Z.type=j,Z},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(j){return{$$typeof:d,render:j}},Oe.isValidElement=N,Oe.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:he}},Oe.memo=function(j,Z){return{$$typeof:p,type:j,compare:Z===void 0?null:Z}},Oe.startTransition=function(j){var Z=G.transition;G.transition={};try{j()}finally{G.transition=Z}},Oe.unstable_act=ae,Oe.useCallback=function(j,Z){return ge.current.useCallback(j,Z)},Oe.useContext=function(j){return ge.current.useContext(j)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(j){return ge.current.useDeferredValue(j)},Oe.useEffect=function(j,Z){return ge.current.useEffect(j,Z)},Oe.useId=function(){return ge.current.useId()},Oe.useImperativeHandle=function(j,Z,Ae){return ge.current.useImperativeHandle(j,Z,Ae)},Oe.useInsertionEffect=function(j,Z){return ge.current.useInsertionEffect(j,Z)},Oe.useLayoutEffect=function(j,Z){return ge.current.useLayoutEffect(j,Z)},Oe.useMemo=function(j,Z){return ge.current.useMemo(j,Z)},Oe.useReducer=function(j,Z,Ae){return ge.current.useReducer(j,Z,Ae)},Oe.useRef=function(j){return ge.current.useRef(j)},Oe.useState=function(j){return ge.current.useState(j)},Oe.useSyncExternalStore=function(j,Z,Ae){return ge.current.useSyncExternalStore(j,Z,Ae)},Oe.useTransition=function(){return ge.current.useTransition()},Oe.version="18.3.1",Oe}var o0;function Fm(){return o0||(o0=1,kp.exports=ST()),kp.exports}var a0;function TT(){if(a0)return rc;a0=1;var r=Fm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,p){var g,_={},x=null,T=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(T=f.ref);for(g in f)n.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:d,key:x,ref:T,props:_,_owner:i.current}}return rc.Fragment=t,rc.jsx=l,rc.jsxs=l,rc}var l0;function IT(){return l0||(l0=1,Ip.exports=TT()),Ip.exports}var E=IT(),B=Fm();const K=Vm(B),jm=xT({__proto__:null,default:K},[B]);var pd={},Cp={exports:{}},_n={},bp={exports:{}},Dp={};var c0;function kT(){return c0||(c0=1,(function(r){function e(G,le){var ae=G.length;G.push(le);e:for(;0<ae;){var j=ae-1>>>1,Z=G[j];if(0<i(Z,le))G[j]=le,G[ae]=Z,ae=j;else break e}}function t(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var le=G[0],ae=G.pop();if(ae!==le){G[0]=ae;e:for(var j=0,Z=G.length,Ae=Z>>>1;j<Ae;){var Ne=2*(j+1)-1,Le=G[Ne],Ve=Ne+1,Ge=G[Ve];if(0>i(Le,ae))Ve<Z&&0>i(Ge,Le)?(G[j]=Ge,G[Ve]=ae,j=Ve):(G[j]=Le,G[Ne]=ae,j=Ne);else if(Ve<Z&&0>i(Ge,ae))G[j]=Ge,G[Ve]=ae,j=Ve;else break e}}return le}function i(G,le){var ae=G.sortIndex-le.sortIndex;return ae!==0?ae:G.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();r.unstable_now=function(){return l.now()-d}}var f=[],p=[],g=1,_=null,x=3,T=!1,P=!1,M=!1,b=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(G){for(var le=t(p);le!==null;){if(le.callback===null)n(p);else if(le.startTime<=G)n(p),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(p)}}function ne(G){if(M=!1,Q(G),!P)if(t(f)!==null)P=!0,he(se);else{var le=t(p);le!==null&&ge(ne,le.startTime-G)}}function se(G,le){P=!1,M&&(M=!1,U(k),k=-1),T=!0;var ae=x;try{for(Q(le),_=t(f);_!==null&&(!(_.expirationTime>le)||G&&!O());){var j=_.callback;if(typeof j=="function"){_.callback=null,x=_.priorityLevel;var Z=j(_.expirationTime<=le);le=r.unstable_now(),typeof Z=="function"?_.callback=Z:_===t(f)&&n(f),Q(le)}else n(f);_=t(f)}if(_!==null)var Ae=!0;else{var Ne=t(p);Ne!==null&&ge(ne,Ne.startTime-le),Ae=!1}return Ae}finally{_=null,x=ae,T=!1}}var ce=!1,C=null,k=-1,D=5,N=-1;function O(){return!(r.unstable_now()-N<D)}function V(){if(C!==null){var G=r.unstable_now();N=G;var le=!0;try{le=C(!0,G)}finally{le?R():(ce=!1,C=null)}}else ce=!1}var R;if(typeof q=="function")R=function(){q(V)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ie=Ee.port2;Ee.port1.onmessage=V,R=function(){Ie.postMessage(null)}}else R=function(){b(V,0)};function he(G){C=G,ce||(ce=!0,R())}function ge(G,le){k=b(function(){G(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){P||T||(P=!0,he(se))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return t(f)},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ae=x;x=le;try{return G()}finally{x=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,le){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ae=x;x=G;try{return le()}finally{x=ae}},r.unstable_scheduleCallback=function(G,le,ae){var j=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?j+ae:j):ae=j,G){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ae+Z,G={id:g++,callback:le,priorityLevel:G,startTime:ae,expirationTime:Z,sortIndex:-1},ae>j?(G.sortIndex=ae,e(p,G),t(f)===null&&G===t(p)&&(M?(U(k),k=-1):M=!0,ge(ne,ae-j))):(G.sortIndex=Z,e(f,G),P||T||(P=!0,he(se))),G},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(G){var le=x;return function(){var ae=x;x=le;try{return G.apply(this,arguments)}finally{x=ae}}}})(Dp)),Dp}var u0;function CT(){return u0||(u0=1,bp.exports=kT()),bp.exports}var d0;function bT(){if(d0)return _n;d0=1;var r=Fm(),e=CT();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)n.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function x(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function T(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,c,h){if(o===null||typeof o>"u"||T(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function M(s,o,c,h,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new M(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new M(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new M(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new M(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new M(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new M(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new M(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new M(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new M(s,5,!1,s.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(U,q);b[o]=new M(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(U,q);b[o]=new M(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(U,q);b[o]=new M(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new M(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new M(s,1,!1,s.toLowerCase(),null,!0,!0)});function Q(s,o,c,h){var m=b.hasOwnProperty(o)?b[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,c,m,h)&&(c=null),h||m===null?x(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):m.mustUseProperty?s[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,h=m.attributeNamespace,c===null?s.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var ne=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),ce=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),O=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),G=Symbol.iterator;function le(s){return s===null||typeof s!="object"?null:(s=G&&s[G]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,j;function Z(s){if(j===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+s}var Ae=!1;function Ne(s,o){if(!s||Ae)return"";Ae=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var h=Y}Reflect.construct(s,[],o)}else{try{o.call()}catch(Y){h=Y}s.call(o.prototype)}else{try{throw Error()}catch(Y){h=Y}s()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),y=h.stack.split(`
`),S=m.length-1,A=y.length-1;1<=S&&0<=A&&m[S]!==y[A];)A--;for(;1<=S&&0<=A;S--,A--)if(m[S]!==y[A]){if(S!==1||A!==1)do if(S--,A--,0>A||m[S]!==y[A]){var L=`
`+m[S].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),L}while(1<=S&&0<=A);break}}}finally{Ae=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Z(s):""}function Le(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=Ne(s.type,!1),s;case 11:return s=Ne(s.type.render,!1),s;case 1:return s=Ne(s.type,!0),s;default:return""}}function Ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case ce:return"Portal";case D:return"Profiler";case k:return"StrictMode";case R:return"Suspense";case Ee:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case V:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ie:return o=s.displayName||null,o!==null?o:Ve(s.type)||"Memo";case he:o=s._payload,s=s._init;try{return Ve(s(o))}catch{}}return null}function Ge(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ye(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function nt(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function cn(s){var o=nt(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Mo(s){s._valueTracker||(s._valueTracker=cn(s))}function cl(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=nt(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function Di(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Oo(s,o){var c=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Zc(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Ye(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Lo(s,o){o=o.checked,o!=null&&Q(s,"checked",o,!1)}function Ms(s,o){Lo(s,o);var c=Ye(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?kt(s,o.type,c):o.hasOwnProperty("defaultValue")&&kt(s,o.type,Ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ul(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function kt(s,o,c){(o!=="number"||Di(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var _t=Array.isArray;function qn(s,o,c,h){if(s=s.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=o.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ye(c),o=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function dl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function hl(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(_t(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Ye(c)}}function eu(s,o){var c=Ye(o.value),h=Ye(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function Pi(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function fl(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vo(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?fl(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ri,tu=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ri.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function Os(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var Ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nu=["Webkit","ms","Moz","O"];Object.keys(Ai).forEach(function(s){nu.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ai[o]=Ai[s]})});function Ni(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ai.hasOwnProperty(s)&&Ai[s]?(""+o).trim():o+"px"}function Fo(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,m=Ni(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,m):s[c]=m}}var pl=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(s,o){if(o){if(pl[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function jo(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mi=null;function Uo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $r=null,qr=null,gt=null;function ml(s){if(s=zl(s)){if(typeof $r!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Du(o),$r(s.stateNode,s.type,o))}}function Oi(s){qr?gt?gt.push(s):gt=[s]:qr=s}function Li(){if(qr){var s=qr,o=gt;if(gt=qr=null,ml(s),o)for(s=0;s<o.length;s++)ml(o[s])}}function ru(s,o){return s(o)}function iu(){}var cr=!1;function su(s,o,c){if(cr)return s(o,c);cr=!0;try{return ru(s,o,c)}finally{cr=!1,(qr!==null||gt!==null)&&(iu(),Li())}}function Ls(s,o){var c=s.stateNode;if(c===null)return null;var h=Du(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Vi=!1;if(d)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Vi=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Vi=!1}function ou(s,o,c,h,m,y,S,A,L){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(c,Y)}catch(te){this.onError(te)}}var Kr=!1,ur=null,Bo=!1,Mn=null,au={onError:function(s){Kr=!0,ur=s}};function lu(s,o,c,h,m,y,S,A,L){Kr=!1,ur=null,ou.apply(au,arguments)}function gl(s,o,c,h,m,y,S,A,L){if(lu.apply(this,arguments),Kr){if(Kr){var Y=ur;Kr=!1,ur=null}else throw Error(t(198));Bo||(Bo=!0,Mn=Y)}}function Qn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function yl(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function cu(s){if(Qn(s)!==s)throw Error(t(188))}function uu(s){var o=s.alternate;if(!o){if(o=Qn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return cu(m),s;if(y===h)return cu(m),o;y=y.sibling}throw Error(t(188))}if(c.return!==h.return)c=m,h=y;else{for(var S=!1,A=m.child;A;){if(A===c){S=!0,c=m,h=y;break}if(A===h){S=!0,h=m,c=y;break}A=A.sibling}if(!S){for(A=y.child;A;){if(A===c){S=!0,c=y,h=m;break}if(A===h){S=!0,h=y,c=m;break}A=A.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function du(s){return s=uu(s),s!==null?Vs(s):null}function Vs(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Vs(s);if(o!==null)return o;s=s.sibling}return null}var vl=e.unstable_scheduleCallback,zo=e.unstable_cancelCallback,Fs=e.unstable_shouldYield,Qr=e.unstable_requestPaint,ot=e.unstable_now,tf=e.unstable_getCurrentPriorityLevel,Wo=e.unstable_ImmediatePriority,_l=e.unstable_UserBlockingPriority,js=e.unstable_NormalPriority,wl=e.unstable_LowPriority,Ho=e.unstable_IdlePriority,Us=null,En=null;function hu(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Us,s,void 0,(s.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Bs,dr=Math.log,On=Math.LN2;function Bs(s){return s>>>=0,s===0?32:31-(dr(s)/On|0)|0}var hr=64,ji=4194304;function Ke(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gr(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,S=c&268435455;if(S!==0){var A=S&~m;A!==0?h=Ke(A):(y&=S,y!==0&&(h=Ke(y)))}else S=c&~m,S!==0?h=Ke(S):y!==0&&(h=Ke(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-xn(o),m=1<<c,h|=s[c],o&=~m;return h}function zs(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-xn(y),A=1<<S,L=m[S];L===-1?((A&c)===0||(A&h)!==0)&&(m[S]=zs(A,o)):L<=o&&(s.expiredLanes|=A),y&=~A}}function El(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function xl(){var s=hr;return hr<<=1,(hr&4194240)===0&&(hr=64),s}function Sl(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Hs(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-xn(o),s[o]=c}function nf(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var m=31-xn(c),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,c&=~y}}function Tl(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-xn(c),m=1<<h;m&o|s[h]&o&&(s[h]|=o),c&=~m}}var We=0;function fr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Il,Yo,kl,Cl,bl,pr=!1,$o=[],mr=null,gr=null,Ut=null,Ys=new Map,Xr=new Map,Sn=[],fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(s,o){switch(s){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Ys.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xr.delete(o.pointerId)}}function Gn(s,o,c,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=zl(o),o!==null&&Yo(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function pu(s,o,c,h,m){switch(o){case"focusin":return mr=Gn(mr,s,o,c,h,m),!0;case"dragenter":return gr=Gn(gr,s,o,c,h,m),!0;case"mouseover":return Ut=Gn(Ut,s,o,c,h,m),!0;case"pointerover":var y=m.pointerId;return Ys.set(y,Gn(Ys.get(y)||null,s,o,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Xr.set(y,Gn(Xr.get(y)||null,s,o,c,h,m)),!0}return!1}function qo(s){var o=Qs(s.target);if(o!==null){var c=Qn(o);if(c!==null){if(o=c.tag,o===13){if(o=yl(c),o!==null){s.blockedOn=o,bl(s.priority,function(){kl(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rt(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Ko(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Mi=h,c.target.dispatchEvent(h),Mi=null}else return o=zl(c),o!==null&&Yo(o),s.blockedOn=c,!1;o.shift()}return!0}function mu(s,o,c){rt(s)&&c.delete(o)}function rf(){pr=!1,mr!==null&&rt(mr)&&(mr=null),gr!==null&&rt(gr)&&(gr=null),Ut!==null&&rt(Ut)&&(Ut=null),Ys.forEach(mu),Xr.forEach(mu)}function Bi(s,o){s.blockedOn===o&&(s.blockedOn=null,pr||(pr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rf)))}function zi(s){function o(m){return Bi(m,s)}if(0<$o.length){Bi($o[0],s);for(var c=1;c<$o.length;c++){var h=$o[c];h.blockedOn===s&&(h.blockedOn=null)}}for(mr!==null&&Bi(mr,s),gr!==null&&Bi(gr,s),Ut!==null&&Bi(Ut,s),Ys.forEach(o),Xr.forEach(o),c=0;c<Sn.length;c++)h=Sn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Sn.length&&(c=Sn[0],c.blockedOn===null);)qo(c),c.blockedOn===null&&Sn.shift()}var Jr=ne.ReactCurrentBatchConfig,Zr=!0;function yr(s,o,c,h){var m=We,y=Jr.transition;Jr.transition=null;try{We=1,Dl(s,o,c,h)}finally{We=m,Jr.transition=y}}function gu(s,o,c,h){var m=We,y=Jr.transition;Jr.transition=null;try{We=4,Dl(s,o,c,h)}finally{We=m,Jr.transition=y}}function Dl(s,o,c,h){if(Zr){var m=Ko(s,o,c,h);if(m===null)mf(s,o,h,vr,c),Ui(s,h);else if(pu(m,s,o,c,h))h.stopPropagation();else if(Ui(s,h),o&4&&-1<fu.indexOf(s)){for(;m!==null;){var y=zl(m);if(y!==null&&Il(y),y=Ko(s,o,c,h),y===null&&mf(s,o,h,vr,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else mf(s,o,h,null,c)}}var vr=null;function Ko(s,o,c,h){if(vr=null,s=Uo(h),s=Qs(s),s!==null)if(o=Qn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=yl(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return vr=s,null}function Qo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tf()){case Wo:return 1;case _l:return 4;case js:case wl:return 16;case Ho:return 536870912;default:return 16}default:return 16}}var Tn=null,Go=null,ei=null;function yu(){if(ei)return ei;var s,o=Go,c=o.length,h,m="value"in Tn?Tn.value:Tn.textContent,y=m.length;for(s=0;s<c&&o[s]===m[s];s++);var S=c-s;for(h=1;h<=S&&o[c-h]===m[y-h];h++);return ei=m.slice(s,1<h?1-h:void 0)}function $s(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function _r(){return!0}function Pl(){return!1}function Jt(s){function o(c,h,m,y,S){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(c=s[A],this[A]=c?c(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?_r:Pl,this.isPropagationStopped=Pl,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Jt(wr),Wi=ae({},wr,{view:0,detail:0}),Xo=Jt(Wi),Jo,Zo,In,Ks=ae({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==In&&(In&&s.type==="mousemove"?(Jo=s.screenX-In.screenX,Zo=s.screenY-In.screenY):Zo=Jo=0,In=s),Jo)},movementY:function(s){return"movementY"in s?s.movementY:Zo}}),Rl=Jt(Ks),vu=ae({},Ks,{dataTransfer:0}),_u=Jt(vu),ea=ae({},Wi,{relatedTarget:0}),Bt=Jt(ea),wu=ae({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Jt(wu),Hi=ae({},wr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=Jt(Hi),v=ae({},wr,{data:0}),w=Jt(v),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=$[s])?!!o[s]:!1}function Pe(){return oe}var wt=ae({},Wi,{key:function(s){if(s.key){var o=I[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$s(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(s){return s.type==="keypress"?$s(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$s(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ze=Jt(wt),Ct=ae({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=Jt(Ct),ti=ae({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe}),Er=Jt(ti),xr=ae({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ta=Jt(xr),Al=ae({},Ks,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),gS=Jt(Al),yS=[9,13,27,32],sf=d&&"CompositionEvent"in window,Nl=null;d&&"documentMode"in document&&(Nl=document.documentMode);var vS=d&&"TextEvent"in window&&!Nl,Xg=d&&(!sf||Nl&&8<Nl&&11>=Nl),Jg=" ",Zg=!1;function ey(s,o){switch(s){case"keyup":return yS.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var na=!1;function _S(s,o){switch(s){case"compositionend":return ty(o);case"keypress":return o.which!==32?null:(Zg=!0,Jg);case"textInput":return s=o.data,s===Jg&&Zg?null:s;default:return null}}function wS(s,o){if(na)return s==="compositionend"||!sf&&ey(s,o)?(s=yu(),ei=Go=Tn=null,na=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Xg&&o.locale!=="ko"?null:o.data;default:return null}}var ES={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ny(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ES[s.type]:o==="textarea"}function ry(s,o,c,h){Oi(h),o=ku(o,"onChange"),0<o.length&&(c=new qs("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var Ml=null,Ol=null;function xS(s){Ey(s,0)}function xu(s){var o=aa(s);if(cl(o))return s}function SS(s,o){if(s==="change")return o}var iy=!1;if(d){var of;if(d){var af="oninput"in document;if(!af){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),af=typeof sy.oninput=="function"}of=af}else of=!1;iy=of&&(!document.documentMode||9<document.documentMode)}function oy(){Ml&&(Ml.detachEvent("onpropertychange",ay),Ol=Ml=null)}function ay(s){if(s.propertyName==="value"&&xu(Ol)){var o=[];ry(o,Ol,s,Uo(s)),su(xS,o)}}function TS(s,o,c){s==="focusin"?(oy(),Ml=o,Ol=c,Ml.attachEvent("onpropertychange",ay)):s==="focusout"&&oy()}function IS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return xu(Ol)}function kS(s,o){if(s==="click")return xu(o)}function CS(s,o){if(s==="input"||s==="change")return xu(o)}function bS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Xn=typeof Object.is=="function"?Object.is:bS;function Ll(s,o){if(Xn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!f.call(o,m)||!Xn(s[m],o[m]))return!1}return!0}function ly(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cy(s,o){var c=ly(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ly(c)}}function uy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?uy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function dy(){for(var s=window,o=Di();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=Di(s.document)}return o}function lf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function DS(s){var o=dy(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&uy(c.ownerDocument.documentElement,c)){if(h!==null&&lf(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=c.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=cy(c,y);var S=cy(c,h);m&&S&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var PS=d&&"documentMode"in document&&11>=document.documentMode,ra=null,cf=null,Vl=null,uf=!1;function hy(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;uf||ra==null||ra!==Di(h)||(h=ra,"selectionStart"in h&&lf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Vl&&Ll(Vl,h)||(Vl=h,h=ku(cf,"onSelect"),0<h.length&&(o=new qs("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=ra)))}function Su(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ia={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},df={},fy={};d&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Tu(s){if(df[s])return df[s];if(!ia[s])return s;var o=ia[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in fy)return df[s]=o[c];return s}var py=Tu("animationend"),my=Tu("animationiteration"),gy=Tu("animationstart"),yy=Tu("transitionend"),vy=new Map,_y="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(s,o){vy.set(s,o),a(o,[s])}for(var hf=0;hf<_y.length;hf++){var ff=_y[hf],RS=ff.toLowerCase(),AS=ff[0].toUpperCase()+ff.slice(1);Yi(RS,"on"+AS)}Yi(py,"onAnimationEnd"),Yi(my,"onAnimationIteration"),Yi(gy,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(yy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function wy(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,gl(h,o,void 0,s),s.currentTarget=null}function Ey(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var A=h[S],L=A.instance,Y=A.currentTarget;if(A=A.listener,L!==y&&m.isPropagationStopped())break e;wy(m,A,Y),y=L}else for(S=0;S<h.length;S++){if(A=h[S],L=A.instance,Y=A.currentTarget,A=A.listener,L!==y&&m.isPropagationStopped())break e;wy(m,A,Y),y=L}}}if(Bo)throw s=Mn,Bo=!1,Mn=null,s}function at(s,o){var c=o[Ef];c===void 0&&(c=o[Ef]=new Set);var h=s+"__bubble";c.has(h)||(xy(o,s,2,!1),c.add(h))}function pf(s,o,c){var h=0;o&&(h|=4),xy(c,s,h,o)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function jl(s){if(!s[Iu]){s[Iu]=!0,n.forEach(function(c){c!=="selectionchange"&&(NS.has(c)||pf(c,!1,s),pf(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Iu]||(o[Iu]=!0,pf("selectionchange",!1,o))}}function xy(s,o,c,h){switch(Qo(o)){case 1:var m=yr;break;case 4:m=gu;break;default:m=Dl}c=m.bind(null,o,c,s),m=void 0,!Vi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,c,{capture:!0,passive:m}):s.addEventListener(o,c,!0):m!==void 0?s.addEventListener(o,c,{passive:m}):s.addEventListener(o,c,!1)}function mf(s,o,c,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var A=h.stateNode.containerInfo;if(A===m||A.nodeType===8&&A.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;S=S.return}for(;A!==null;){if(S=Qs(A),S===null)return;if(L=S.tag,L===5||L===6){h=y=S;continue e}A=A.parentNode}}h=h.return}su(function(){var Y=y,te=Uo(c),re=[];e:{var ee=vy.get(s);if(ee!==void 0){var de=qs,ye=s;switch(s){case"keypress":if($s(c)===0)break e;case"keydown":case"keyup":de=Ze;break;case"focusin":ye="focus",de=Bt;break;case"focusout":ye="blur",de=Bt;break;case"beforeblur":case"afterblur":de=Bt;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Er;break;case py:case my:case gy:de=Eu;break;case yy:de=ta;break;case"scroll":de=Xo;break;case"wheel":de=gS;break;case"copy":case"cut":case"paste":de=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=kn}var ve=(o&4)!==0,Et=!ve&&s==="scroll",z=ve?ee!==null?ee+"Capture":null:ee;ve=[];for(var F=Y,H;F!==null;){H=F;var ie=H.stateNode;if(H.tag===5&&ie!==null&&(H=ie,z!==null&&(ie=Ls(F,z),ie!=null&&ve.push(Ul(F,ie,H)))),Et)break;F=F.return}0<ve.length&&(ee=new de(ee,ye,null,c,te),re.push({event:ee,listeners:ve}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",ee&&c!==Mi&&(ye=c.relatedTarget||c.fromElement)&&(Qs(ye)||ye[ni]))break e;if((de||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,de?(ye=c.relatedTarget||c.toElement,de=Y,ye=ye?Qs(ye):null,ye!==null&&(Et=Qn(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(de=null,ye=Y),de!==ye)){if(ve=Rl,ie="onMouseLeave",z="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(ve=kn,ie="onPointerLeave",z="onPointerEnter",F="pointer"),Et=de==null?ee:aa(de),H=ye==null?ee:aa(ye),ee=new ve(ie,F+"leave",de,c,te),ee.target=Et,ee.relatedTarget=H,ie=null,Qs(te)===Y&&(ve=new ve(z,F+"enter",ye,c,te),ve.target=H,ve.relatedTarget=Et,ie=ve),Et=ie,de&&ye)t:{for(ve=de,z=ye,F=0,H=ve;H;H=sa(H))F++;for(H=0,ie=z;ie;ie=sa(ie))H++;for(;0<F-H;)ve=sa(ve),F--;for(;0<H-F;)z=sa(z),H--;for(;F--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=sa(ve),z=sa(z)}ve=null}else ve=null;de!==null&&Sy(re,ee,de,ve,!1),ye!==null&&Et!==null&&Sy(re,Et,ye,ve,!0)}}e:{if(ee=Y?aa(Y):window,de=ee.nodeName&&ee.nodeName.toLowerCase(),de==="select"||de==="input"&&ee.type==="file")var _e=SS;else if(ny(ee))if(iy)_e=CS;else{_e=IS;var Se=TS}else(de=ee.nodeName)&&de.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(_e=kS);if(_e&&(_e=_e(s,Y))){ry(re,_e,c,te);break e}Se&&Se(s,ee,Y),s==="focusout"&&(Se=ee._wrapperState)&&Se.controlled&&ee.type==="number"&&kt(ee,"number",ee.value)}switch(Se=Y?aa(Y):window,s){case"focusin":(ny(Se)||Se.contentEditable==="true")&&(ra=Se,cf=Y,Vl=null);break;case"focusout":Vl=cf=ra=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,hy(re,c,te);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":hy(re,c,te)}var Te;if(sf)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else na?ey(s,c)&&(be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(Xg&&c.locale!=="ko"&&(na||be!=="onCompositionStart"?be==="onCompositionEnd"&&na&&(Te=yu()):(Tn=te,Go="value"in Tn?Tn.value:Tn.textContent,na=!0)),Se=ku(Y,be),0<Se.length&&(be=new w(be,s,null,c,te),re.push({event:be,listeners:Se}),Te?be.data=Te:(Te=ty(c),Te!==null&&(be.data=Te)))),(Te=vS?_S(s,c):wS(s,c))&&(Y=ku(Y,"onBeforeInput"),0<Y.length&&(te=new w("onBeforeInput","beforeinput",null,c,te),re.push({event:te,listeners:Y}),te.data=Te))}Ey(re,o)})}function Ul(s,o,c){return{instance:s,listener:o,currentTarget:c}}function ku(s,o){for(var c=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Ls(s,c),y!=null&&h.unshift(Ul(s,y,m)),y=Ls(s,o),y!=null&&h.push(Ul(s,y,m))),s=s.return}return h}function sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Sy(s,o,c,h,m){for(var y=o._reactName,S=[];c!==null&&c!==h;){var A=c,L=A.alternate,Y=A.stateNode;if(L!==null&&L===h)break;A.tag===5&&Y!==null&&(A=Y,m?(L=Ls(c,y),L!=null&&S.unshift(Ul(c,L,A))):m||(L=Ls(c,y),L!=null&&S.push(Ul(c,L,A)))),c=c.return}S.length!==0&&s.push({event:o,listeners:S})}var MS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function Ty(s){return(typeof s=="string"?s:""+s).replace(MS,`
`).replace(OS,"")}function Cu(s,o,c){if(o=Ty(o),Ty(s)!==o&&c)throw Error(t(425))}function bu(){}var gf=null,yf=null;function vf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _f=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(s){return Iy.resolve(null).then(s).catch(FS)}:_f;function FS(s){setTimeout(function(){throw s})}function wf(s,o){var c=o,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){s.removeChild(m),zi(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);zi(o)}function $i(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function ky(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Sr="__reactFiber$"+oa,Bl="__reactProps$"+oa,ni="__reactContainer$"+oa,Ef="__reactEvents$"+oa,jS="__reactListeners$"+oa,US="__reactHandles$"+oa;function Qs(s){var o=s[Sr];if(o)return o;for(var c=s.parentNode;c;){if(o=c[ni]||c[Sr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=ky(s);s!==null;){if(c=s[Sr])return c;s=ky(s)}return o}s=c,c=s.parentNode}return null}function zl(s){return s=s[Sr]||s[ni],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function aa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Du(s){return s[Bl]||null}var xf=[],la=-1;function qi(s){return{current:s}}function lt(s){0>la||(s.current=xf[la],xf[la]=null,la--)}function it(s,o){la++,xf[la]=s.current,s.current=o}var Ki={},Zt=qi(Ki),pn=qi(!1),Gs=Ki;function ca(s,o){var c=s.type.contextTypes;if(!c)return Ki;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in c)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function mn(s){return s=s.childContextTypes,s!=null}function Pu(){lt(pn),lt(Zt)}function Cy(s,o,c){if(Zt.current!==Ki)throw Error(t(168));it(Zt,o),it(pn,c)}function by(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Ge(s)||"Unknown",m));return ae({},c,h)}function Ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ki,Gs=Zt.current,it(Zt,s),it(pn,pn.current),!0}function Dy(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=by(s,o,Gs),h.__reactInternalMemoizedMergedChildContext=s,lt(pn),lt(Zt),it(Zt,s)):lt(pn),it(pn,c)}var ri=null,Au=!1,Sf=!1;function Py(s){ri===null?ri=[s]:ri.push(s)}function BS(s){Au=!0,Py(s)}function Qi(){if(!Sf&&ri!==null){Sf=!0;var s=0,o=We;try{var c=ri;for(We=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}ri=null,Au=!1}catch(m){throw ri!==null&&(ri=ri.slice(s+1)),vl(Wo,Qi),m}finally{We=o,Sf=!1}}return null}var ua=[],da=0,Nu=null,Mu=0,Ln=[],Vn=0,Xs=null,ii=1,si="";function Js(s,o){ua[da++]=Mu,ua[da++]=Nu,Nu=s,Mu=o}function Ry(s,o,c){Ln[Vn++]=ii,Ln[Vn++]=si,Ln[Vn++]=Xs,Xs=s;var h=ii;s=si;var m=32-xn(h)-1;h&=~(1<<m),c+=1;var y=32-xn(o)+m;if(30<y){var S=m-m%5;y=(h&(1<<S)-1).toString(32),h>>=S,m-=S,ii=1<<32-xn(o)+m|c<<m|h,si=y+s}else ii=1<<y|c<<m|h,si=s}function Tf(s){s.return!==null&&(Js(s,1),Ry(s,1,0))}function If(s){for(;s===Nu;)Nu=ua[--da],ua[da]=null,Mu=ua[--da],ua[da]=null;for(;s===Xs;)Xs=Ln[--Vn],Ln[Vn]=null,si=Ln[--Vn],Ln[Vn]=null,ii=Ln[--Vn],Ln[Vn]=null}var Cn=null,bn=null,ut=!1,Jn=null;function Ay(s,o){var c=Bn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Ny(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Cn=s,bn=$i(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Cn=s,bn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Xs!==null?{id:ii,overflow:si}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Bn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Cn=s,bn=null,!0):!1;default:return!1}}function kf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Cf(s){if(ut){var o=bn;if(o){var c=o;if(!Ny(s,o)){if(kf(s))throw Error(t(418));o=$i(c.nextSibling);var h=Cn;o&&Ny(s,o)?Ay(h,c):(s.flags=s.flags&-4097|2,ut=!1,Cn=s)}}else{if(kf(s))throw Error(t(418));s.flags=s.flags&-4097|2,ut=!1,Cn=s}}}function My(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Cn=s}function Ou(s){if(s!==Cn)return!1;if(!ut)return My(s),ut=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!vf(s.type,s.memoizedProps)),o&&(o=bn)){if(kf(s))throw Oy(),Error(t(418));for(;o;)Ay(s,o),o=$i(o.nextSibling)}if(My(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){bn=$i(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}bn=null}}else bn=Cn?$i(s.stateNode.nextSibling):null;return!0}function Oy(){for(var s=bn;s;)s=$i(s.nextSibling)}function ha(){bn=Cn=null,ut=!1}function bf(s){Jn===null?Jn=[s]:Jn.push(s)}var zS=ne.ReactCurrentBatchConfig;function Wl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var A=m.refs;S===null?delete A[y]:A[y]=S},o._stringRef=y,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Lu(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function Ly(s){var o=s._init;return o(s._payload)}function Vy(s){function o(z,F){if(s){var H=z.deletions;H===null?(z.deletions=[F],z.flags|=16):H.push(F)}}function c(z,F){if(!s)return null;for(;F!==null;)o(z,F),F=F.sibling;return null}function h(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(z,F){return z=rs(z,F),z.index=0,z.sibling=null,z}function y(z,F,H){return z.index=H,s?(H=z.alternate,H!==null?(H=H.index,H<F?(z.flags|=2,F):H):(z.flags|=2,F)):(z.flags|=1048576,F)}function S(z){return s&&z.alternate===null&&(z.flags|=2),z}function A(z,F,H,ie){return F===null||F.tag!==6?(F=_p(H,z.mode,ie),F.return=z,F):(F=m(F,H),F.return=z,F)}function L(z,F,H,ie){var _e=H.type;return _e===C?te(z,F,H.props.children,ie,H.key):F!==null&&(F.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&Ly(_e)===F.type)?(ie=m(F,H.props),ie.ref=Wl(z,F,H),ie.return=z,ie):(ie=od(H.type,H.key,H.props,null,z.mode,ie),ie.ref=Wl(z,F,H),ie.return=z,ie)}function Y(z,F,H,ie){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=wp(H,z.mode,ie),F.return=z,F):(F=m(F,H.children||[]),F.return=z,F)}function te(z,F,H,ie,_e){return F===null||F.tag!==7?(F=oo(H,z.mode,ie,_e),F.return=z,F):(F=m(F,H),F.return=z,F)}function re(z,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=_p(""+F,z.mode,H),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case se:return H=od(F.type,F.key,F.props,null,z.mode,H),H.ref=Wl(z,null,F),H.return=z,H;case ce:return F=wp(F,z.mode,H),F.return=z,F;case he:var ie=F._init;return re(z,ie(F._payload),H)}if(_t(F)||le(F))return F=oo(F,z.mode,H,null),F.return=z,F;Lu(z,F)}return null}function ee(z,F,H,ie){var _e=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return _e!==null?null:A(z,F,""+H,ie);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case se:return H.key===_e?L(z,F,H,ie):null;case ce:return H.key===_e?Y(z,F,H,ie):null;case he:return _e=H._init,ee(z,F,_e(H._payload),ie)}if(_t(H)||le(H))return _e!==null?null:te(z,F,H,ie,null);Lu(z,H)}return null}function de(z,F,H,ie,_e){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return z=z.get(H)||null,A(F,z,""+ie,_e);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case se:return z=z.get(ie.key===null?H:ie.key)||null,L(F,z,ie,_e);case ce:return z=z.get(ie.key===null?H:ie.key)||null,Y(F,z,ie,_e);case he:var Se=ie._init;return de(z,F,H,Se(ie._payload),_e)}if(_t(ie)||le(ie))return z=z.get(H)||null,te(F,z,ie,_e,null);Lu(F,ie)}return null}function ye(z,F,H,ie){for(var _e=null,Se=null,Te=F,be=F=0,Ft=null;Te!==null&&be<H.length;be++){Te.index>be?(Ft=Te,Te=null):Ft=Te.sibling;var qe=ee(z,Te,H[be],ie);if(qe===null){Te===null&&(Te=Ft);break}s&&Te&&qe.alternate===null&&o(z,Te),F=y(qe,F,be),Se===null?_e=qe:Se.sibling=qe,Se=qe,Te=Ft}if(be===H.length)return c(z,Te),ut&&Js(z,be),_e;if(Te===null){for(;be<H.length;be++)Te=re(z,H[be],ie),Te!==null&&(F=y(Te,F,be),Se===null?_e=Te:Se.sibling=Te,Se=Te);return ut&&Js(z,be),_e}for(Te=h(z,Te);be<H.length;be++)Ft=de(Te,z,be,H[be],ie),Ft!==null&&(s&&Ft.alternate!==null&&Te.delete(Ft.key===null?be:Ft.key),F=y(Ft,F,be),Se===null?_e=Ft:Se.sibling=Ft,Se=Ft);return s&&Te.forEach(function(is){return o(z,is)}),ut&&Js(z,be),_e}function ve(z,F,H,ie){var _e=le(H);if(typeof _e!="function")throw Error(t(150));if(H=_e.call(H),H==null)throw Error(t(151));for(var Se=_e=null,Te=F,be=F=0,Ft=null,qe=H.next();Te!==null&&!qe.done;be++,qe=H.next()){Te.index>be?(Ft=Te,Te=null):Ft=Te.sibling;var is=ee(z,Te,qe.value,ie);if(is===null){Te===null&&(Te=Ft);break}s&&Te&&is.alternate===null&&o(z,Te),F=y(is,F,be),Se===null?_e=is:Se.sibling=is,Se=is,Te=Ft}if(qe.done)return c(z,Te),ut&&Js(z,be),_e;if(Te===null){for(;!qe.done;be++,qe=H.next())qe=re(z,qe.value,ie),qe!==null&&(F=y(qe,F,be),Se===null?_e=qe:Se.sibling=qe,Se=qe);return ut&&Js(z,be),_e}for(Te=h(z,Te);!qe.done;be++,qe=H.next())qe=de(Te,z,be,qe.value,ie),qe!==null&&(s&&qe.alternate!==null&&Te.delete(qe.key===null?be:qe.key),F=y(qe,F,be),Se===null?_e=qe:Se.sibling=qe,Se=qe);return s&&Te.forEach(function(ET){return o(z,ET)}),ut&&Js(z,be),_e}function Et(z,F,H,ie){if(typeof H=="object"&&H!==null&&H.type===C&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case se:e:{for(var _e=H.key,Se=F;Se!==null;){if(Se.key===_e){if(_e=H.type,_e===C){if(Se.tag===7){c(z,Se.sibling),F=m(Se,H.props.children),F.return=z,z=F;break e}}else if(Se.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===he&&Ly(_e)===Se.type){c(z,Se.sibling),F=m(Se,H.props),F.ref=Wl(z,Se,H),F.return=z,z=F;break e}c(z,Se);break}else o(z,Se);Se=Se.sibling}H.type===C?(F=oo(H.props.children,z.mode,ie,H.key),F.return=z,z=F):(ie=od(H.type,H.key,H.props,null,z.mode,ie),ie.ref=Wl(z,F,H),ie.return=z,z=ie)}return S(z);case ce:e:{for(Se=H.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){c(z,F.sibling),F=m(F,H.children||[]),F.return=z,z=F;break e}else{c(z,F);break}else o(z,F);F=F.sibling}F=wp(H,z.mode,ie),F.return=z,z=F}return S(z);case he:return Se=H._init,Et(z,F,Se(H._payload),ie)}if(_t(H))return ye(z,F,H,ie);if(le(H))return ve(z,F,H,ie);Lu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(c(z,F.sibling),F=m(F,H),F.return=z,z=F):(c(z,F),F=_p(H,z.mode,ie),F.return=z,z=F),S(z)):c(z,F)}return Et}var fa=Vy(!0),Fy=Vy(!1),Vu=qi(null),Fu=null,pa=null,Df=null;function Pf(){Df=pa=Fu=null}function Rf(s){var o=Vu.current;lt(Vu),s._currentValue=o}function Af(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function ma(s,o){Fu=s,Df=pa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(gn=!0),s.firstContext=null)}function Fn(s){var o=s._currentValue;if(Df!==s)if(s={context:s,memoizedValue:o,next:null},pa===null){if(Fu===null)throw Error(t(308));pa=s,Fu.dependencies={lanes:0,firstContext:s}}else pa=pa.next=s;return o}var Zs=null;function Nf(s){Zs===null?Zs=[s]:Zs.push(s)}function jy(s,o,c,h){var m=o.interleaved;return m===null?(c.next=c,Nf(o)):(c.next=m.next,m.next=c),o.interleaved=c,oi(s,h)}function oi(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Gi=!1;function Mf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ai(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Xi(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,($e&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,oi(s,c)}return m=h.interleaved,m===null?(o.next=o,Nf(h)):(o.next=m.next,m.next=o),h.interleaved=o,oi(s,c)}function ju(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Tl(s,c)}}function By(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?m=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?m=y=o:y=y.next=o}else m=y=o;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function Uu(s,o,c,h){var m=s.updateQueue;Gi=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var L=A,Y=L.next;L.next=null,S===null?y=Y:S.next=Y,S=L;var te=s.alternate;te!==null&&(te=te.updateQueue,A=te.lastBaseUpdate,A!==S&&(A===null?te.firstBaseUpdate=Y:A.next=Y,te.lastBaseUpdate=L))}if(y!==null){var re=m.baseState;S=0,te=Y=L=null,A=y;do{var ee=A.lane,de=A.eventTime;if((h&ee)===ee){te!==null&&(te=te.next={eventTime:de,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=s,ve=A;switch(ee=o,de=c,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){re=ye.call(de,re,ee);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ee=typeof ye=="function"?ye.call(de,re,ee):ye,ee==null)break e;re=ae({},re,ee);break e;case 2:Gi=!0}}A.callback!==null&&A.lane!==0&&(s.flags|=64,ee=m.effects,ee===null?m.effects=[A]:ee.push(A))}else de={eventTime:de,lane:ee,tag:A.tag,payload:A.payload,callback:A.callback,next:null},te===null?(Y=te=de,L=re):te=te.next=de,S|=ee;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(L=re),m.baseState=L,m.firstBaseUpdate=Y,m.lastBaseUpdate=te,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);no|=S,s.lanes=S,s.memoizedState=re}}function zy(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=c,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var Hl={},Tr=qi(Hl),Yl=qi(Hl),$l=qi(Hl);function eo(s){if(s===Hl)throw Error(t(174));return s}function Of(s,o){switch(it($l,o),it(Yl,s),it(Tr,Hl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Vo(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=Vo(o,s)}lt(Tr),it(Tr,o)}function ga(){lt(Tr),lt(Yl),lt($l)}function Wy(s){eo($l.current);var o=eo(Tr.current),c=Vo(o,s.type);o!==c&&(it(Yl,s),it(Tr,c))}function Lf(s){Yl.current===s&&(lt(Tr),lt(Yl))}var ht=qi(0);function Bu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vf=[];function Ff(){for(var s=0;s<Vf.length;s++)Vf[s]._workInProgressVersionPrimary=null;Vf.length=0}var zu=ne.ReactCurrentDispatcher,jf=ne.ReactCurrentBatchConfig,to=0,ft=null,At=null,Lt=null,Wu=!1,ql=!1,Kl=0,WS=0;function en(){throw Error(t(321))}function Uf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Xn(s[c],o[c]))return!1;return!0}function Bf(s,o,c,h,m,y){if(to=y,ft=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,zu.current=s===null||s.memoizedState===null?qS:KS,s=c(h,m),ql){y=0;do{if(ql=!1,Kl=0,25<=y)throw Error(t(301));y+=1,Lt=At=null,o.updateQueue=null,zu.current=QS,s=c(h,m)}while(ql)}if(zu.current=$u,o=At!==null&&At.next!==null,to=0,Lt=At=ft=null,Wu=!1,o)throw Error(t(300));return s}function zf(){var s=Kl!==0;return Kl=0,s}function Ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s,Lt}function jn(){if(At===null){var s=ft.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var o=Lt===null?ft.memoizedState:Lt.next;if(o!==null)Lt=o,At=s;else{if(s===null)throw Error(t(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Lt===null?ft.memoizedState=Lt=s:Lt=Lt.next=s}return Lt}function Ql(s,o){return typeof o=="function"?o(s):o}function Wf(s){var o=jn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=At,m=h.baseQueue,y=c.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}h.baseQueue=m=y,c.pending=null}if(m!==null){y=m.next,h=h.baseState;var A=S=null,L=null,Y=y;do{var te=Y.lane;if((to&te)===te)L!==null&&(L=L.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:s(h,Y.action);else{var re={lane:te,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};L===null?(A=L=re,S=h):L=L.next=re,ft.lanes|=te,no|=te}Y=Y.next}while(Y!==null&&Y!==y);L===null?S=h:L.next=A,Xn(h,o.memoizedState)||(gn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=L,c.lastRenderedState=h}if(s=c.interleaved,s!==null){m=s;do y=m.lane,ft.lanes|=y,no|=y,m=m.next;while(m!==s)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Hf(s){var o=jn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,y=o.memoizedState;if(m!==null){c.pending=null;var S=m=m.next;do y=s(y,S.action),S=S.next;while(S!==m);Xn(y,o.memoizedState)||(gn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),c.lastRenderedState=y}return[y,h]}function Hy(){}function Yy(s,o){var c=ft,h=jn(),m=o(),y=!Xn(h.memoizedState,m);if(y&&(h.memoizedState=m,gn=!0),h=h.queue,Yf(Ky.bind(null,c,h,s),[s]),h.getSnapshot!==o||y||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,Gl(9,qy.bind(null,c,h,m,o),void 0,null),Vt===null)throw Error(t(349));(to&30)!==0||$y(c,o,m)}return m}function $y(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function qy(s,o,c,h){o.value=c,o.getSnapshot=h,Qy(o)&&Gy(s)}function Ky(s,o,c){return c(function(){Qy(o)&&Gy(s)})}function Qy(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Xn(s,c)}catch{return!0}}function Gy(s){var o=oi(s,1);o!==null&&nr(o,s,1,-1)}function Xy(s){var o=Ir();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:s},o.queue=s,s=s.dispatch=$S.bind(null,ft,s),[o.memoizedState,s]}function Gl(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=ft.updateQueue,o===null?(o={lastEffect:null,stores:null},ft.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function Jy(){return jn().memoizedState}function Hu(s,o,c,h){var m=Ir();ft.flags|=s,m.memoizedState=Gl(1|o,c,void 0,h===void 0?null:h)}function Yu(s,o,c,h){var m=jn();h=h===void 0?null:h;var y=void 0;if(At!==null){var S=At.memoizedState;if(y=S.destroy,h!==null&&Uf(h,S.deps)){m.memoizedState=Gl(o,c,y,h);return}}ft.flags|=s,m.memoizedState=Gl(1|o,c,y,h)}function Zy(s,o){return Hu(8390656,8,s,o)}function Yf(s,o){return Yu(2048,8,s,o)}function ev(s,o){return Yu(4,2,s,o)}function tv(s,o){return Yu(4,4,s,o)}function nv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function rv(s,o,c){return c=c!=null?c.concat([s]):null,Yu(4,4,nv.bind(null,o,s),c)}function $f(){}function iv(s,o){var c=jn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Uf(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function sv(s,o){var c=jn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&Uf(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function ov(s,o,c){return(to&21)===0?(s.baseState&&(s.baseState=!1,gn=!0),s.memoizedState=c):(Xn(c,o)||(c=xl(),ft.lanes|=c,no|=c,s.baseState=!0),o)}function HS(s,o){var c=We;We=c!==0&&4>c?c:4,s(!0);var h=jf.transition;jf.transition={};try{s(!1),o()}finally{We=c,jf.transition=h}}function av(){return jn().memoizedState}function YS(s,o,c){var h=ts(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},lv(s))cv(o,c);else if(c=jy(s,o,c,h),c!==null){var m=dn();nr(c,s,h,m),uv(c,o,h)}}function $S(s,o,c){var h=ts(s),m={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(lv(s))cv(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,A=y(S,c);if(m.hasEagerState=!0,m.eagerState=A,Xn(A,S)){var L=o.interleaved;L===null?(m.next=m,Nf(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}c=jy(s,o,m,h),c!==null&&(m=dn(),nr(c,s,h,m),uv(c,o,h))}}function lv(s){var o=s.alternate;return s===ft||o!==null&&o===ft}function cv(s,o){ql=Wu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function uv(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Tl(s,c)}}var $u={readContext:Fn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},qS={readContext:Fn,useCallback:function(s,o){return Ir().memoizedState=[s,o===void 0?null:o],s},useContext:Fn,useEffect:Zy,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,Hu(4194308,4,nv.bind(null,o,s),c)},useLayoutEffect:function(s,o){return Hu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Hu(4,2,s,o)},useMemo:function(s,o){var c=Ir();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=Ir();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=YS.bind(null,ft,s),[h.memoizedState,s]},useRef:function(s){var o=Ir();return s={current:s},o.memoizedState=s},useState:Xy,useDebugValue:$f,useDeferredValue:function(s){return Ir().memoizedState=s},useTransition:function(){var s=Xy(!1),o=s[0];return s=HS.bind(null,s[1]),Ir().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=ft,m=Ir();if(ut){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Vt===null)throw Error(t(349));(to&30)!==0||$y(h,o,c)}m.memoizedState=c;var y={value:c,getSnapshot:o};return m.queue=y,Zy(Ky.bind(null,h,y,s),[s]),h.flags|=2048,Gl(9,qy.bind(null,h,y,c,o),void 0,null),c},useId:function(){var s=Ir(),o=Vt.identifierPrefix;if(ut){var c=si,h=ii;c=(h&~(1<<32-xn(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Kl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=WS++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},KS={readContext:Fn,useCallback:iv,useContext:Fn,useEffect:Yf,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:sv,useReducer:Wf,useRef:Jy,useState:function(){return Wf(Ql)},useDebugValue:$f,useDeferredValue:function(s){var o=jn();return ov(o,At.memoizedState,s)},useTransition:function(){var s=Wf(Ql)[0],o=jn().memoizedState;return[s,o]},useMutableSource:Hy,useSyncExternalStore:Yy,useId:av,unstable_isNewReconciler:!1},QS={readContext:Fn,useCallback:iv,useContext:Fn,useEffect:Yf,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:sv,useReducer:Hf,useRef:Jy,useState:function(){return Hf(Ql)},useDebugValue:$f,useDeferredValue:function(s){var o=jn();return At===null?o.memoizedState=s:ov(o,At.memoizedState,s)},useTransition:function(){var s=Hf(Ql)[0],o=jn().memoizedState;return[s,o]},useMutableSource:Hy,useSyncExternalStore:Yy,useId:av,unstable_isNewReconciler:!1};function Zn(s,o){if(s&&s.defaultProps){o=ae({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}function qf(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:ae({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var qu={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=dn(),m=ts(s),y=ai(h,m);y.payload=o,c!=null&&(y.callback=c),o=Xi(s,y,m),o!==null&&(nr(o,s,m,h),ju(o,s,m))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=dn(),m=ts(s),y=ai(h,m);y.tag=1,y.payload=o,c!=null&&(y.callback=c),o=Xi(s,y,m),o!==null&&(nr(o,s,m,h),ju(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=dn(),h=ts(s),m=ai(c,h);m.tag=2,o!=null&&(m.callback=o),o=Xi(s,m,h),o!==null&&(nr(o,s,h,c),ju(o,s,h))}};function dv(s,o,c,h,m,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!Ll(c,h)||!Ll(m,y):!0}function hv(s,o,c){var h=!1,m=Ki,y=o.contextType;return typeof y=="object"&&y!==null?y=Fn(y):(m=mn(o)?Gs:Zt.current,h=o.contextTypes,y=(h=h!=null)?ca(s,m):Ki),o=new o(c,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=qu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function fv(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&qu.enqueueReplaceState(o,o.state,null)}function Kf(s,o,c,h){var m=s.stateNode;m.props=c,m.state=s.memoizedState,m.refs={},Mf(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Fn(y):(y=mn(o)?Gs:Zt.current,m.context=ca(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(qf(s,o,y,c),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&qu.enqueueReplaceState(m,m.state,null),Uu(s,c,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ya(s,o){try{var c="",h=o;do c+=Le(h),h=h.return;while(h);var m=c}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function Qf(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function Gf(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var GS=typeof WeakMap=="function"?WeakMap:Map;function pv(s,o,c){c=ai(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){ed||(ed=!0,dp=h),Gf(s,o)},c}function mv(s,o,c){c=ai(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;c.payload=function(){return h(m)},c.callback=function(){Gf(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){Gf(s,o),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),c}function gv(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new GS;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(c)||(m.add(c),s=uT.bind(null,s,o,c),o.then(s,s))}function yv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function vv(s,o,c,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=ai(-1,1),o.tag=2,Xi(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var XS=ne.ReactCurrentOwner,gn=!1;function un(s,o,c,h){o.child=s===null?Fy(o,null,c,h):fa(o,s.child,c,h)}function _v(s,o,c,h,m){c=c.render;var y=o.ref;return ma(o,m),h=Bf(s,o,c,h,y,m),c=zf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&c&&Tf(o),o.flags|=1,un(s,o,h,m),o.child)}function wv(s,o,c,h,m){if(s===null){var y=c.type;return typeof y=="function"&&!vp(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=y,Ev(s,o,y,h,m)):(s=od(c.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ll,c(S,h)&&s.ref===o.ref)return li(s,o,m)}return o.flags|=1,s=rs(y,h),s.ref=o.ref,s.return=o,o.child=s}function Ev(s,o,c,h,m){if(s!==null){var y=s.memoizedProps;if(Ll(y,h)&&s.ref===o.ref)if(gn=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(gn=!0);else return o.lanes=s.lanes,li(s,o,m)}return Xf(s,o,c,h,m)}function xv(s,o,c){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(_a,Dn),Dn|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,it(_a,Dn),Dn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:c,it(_a,Dn),Dn|=h}else y!==null?(h=y.baseLanes|c,o.memoizedState=null):h=c,it(_a,Dn),Dn|=h;return un(s,o,m,c),o.child}function Sv(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function Xf(s,o,c,h,m){var y=mn(c)?Gs:Zt.current;return y=ca(o,y),ma(o,m),c=Bf(s,o,c,h,y,m),h=zf(),s!==null&&!gn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,li(s,o,m)):(ut&&h&&Tf(o),o.flags|=1,un(s,o,c,m),o.child)}function Tv(s,o,c,h,m){if(mn(c)){var y=!0;Ru(o)}else y=!1;if(ma(o,m),o.stateNode===null)Qu(s,o),hv(o,c,h),Kf(o,c,h,m),h=!0;else if(s===null){var S=o.stateNode,A=o.memoizedProps;S.props=A;var L=S.context,Y=c.contextType;typeof Y=="object"&&Y!==null?Y=Fn(Y):(Y=mn(c)?Gs:Zt.current,Y=ca(o,Y));var te=c.getDerivedStateFromProps,re=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";re||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==h||L!==Y)&&fv(o,S,h,Y),Gi=!1;var ee=o.memoizedState;S.state=ee,Uu(o,h,S,m),L=o.memoizedState,A!==h||ee!==L||pn.current||Gi?(typeof te=="function"&&(qf(o,c,te,h),L=o.memoizedState),(A=Gi||dv(o,c,A,h,ee,L,Y))?(re||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=L),S.props=h,S.state=L,S.context=Y,h=A):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Uy(s,o),A=o.memoizedProps,Y=o.type===o.elementType?A:Zn(o.type,A),S.props=Y,re=o.pendingProps,ee=S.context,L=c.contextType,typeof L=="object"&&L!==null?L=Fn(L):(L=mn(c)?Gs:Zt.current,L=ca(o,L));var de=c.getDerivedStateFromProps;(te=typeof de=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(A!==re||ee!==L)&&fv(o,S,h,L),Gi=!1,ee=o.memoizedState,S.state=ee,Uu(o,h,S,m);var ye=o.memoizedState;A!==re||ee!==ye||pn.current||Gi?(typeof de=="function"&&(qf(o,c,de,h),ye=o.memoizedState),(Y=Gi||dv(o,c,Y,h,ee,ye,L)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,ye,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,ye,L)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),S.props=h,S.state=ye,S.context=L,h=Y):(typeof S.componentDidUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),h=!1)}return Jf(s,o,c,h,y,m)}function Jf(s,o,c,h,m,y){Sv(s,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&Dy(o,c,!1),li(s,o,y);h=o.stateNode,XS.current=o;var A=S&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&S?(o.child=fa(o,s.child,null,y),o.child=fa(o,null,A,y)):un(s,o,A,y),o.memoizedState=h.state,m&&Dy(o,c,!0),o.child}function Iv(s){var o=s.stateNode;o.pendingContext?Cy(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Cy(s,o.context,!1),Of(s,o.containerInfo)}function kv(s,o,c,h,m){return ha(),bf(m),o.flags|=256,un(s,o,c,h),o.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function ep(s){return{baseLanes:s,cachePool:null,transitions:null}}function Cv(s,o,c){var h=o.pendingProps,m=ht.current,y=!1,S=(o.flags&128)!==0,A;if((A=S)||(A=s!==null&&s.memoizedState===null?!1:(m&2)!==0),A?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),it(ht,m&1),s===null)return Cf(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,s=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=ad(S,h,0,null),s=oo(s,h,c,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=ep(c),o.memoizedState=Zf,s):tp(o,S));if(m=s.memoizedState,m!==null&&(A=m.dehydrated,A!==null))return JS(s,o,S,h,A,m,c);if(y){y=h.fallback,S=o.mode,m=s.child,A=m.sibling;var L={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=L,o.deletions=null):(h=rs(m,L),h.subtreeFlags=m.subtreeFlags&14680064),A!==null?y=rs(A,y):(y=oo(y,S,c,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=s.child.memoizedState,S=S===null?ep(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~c,o.memoizedState=Zf,h}return y=s.child,s=y.sibling,h=rs(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function tp(s,o){return o=ad({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ku(s,o,c,h){return h!==null&&bf(h),fa(o,s.child,null,c),s=tp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function JS(s,o,c,h,m,y,S){if(c)return o.flags&256?(o.flags&=-257,h=Qf(Error(t(422))),Ku(s,o,S,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=ad({mode:"visible",children:h.children},m,0,null),y=oo(y,m,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&fa(o,s.child,null,S),o.child.memoizedState=ep(S),o.memoizedState=Zf,y);if((o.mode&1)===0)return Ku(s,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Qf(y,h,void 0),Ku(s,o,S,h)}if(A=(S&s.childLanes)!==0,gn||A){if(h=Vt,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,oi(s,m),nr(h,s,m,-1))}return yp(),h=Qf(Error(t(421))),Ku(s,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=dT.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,bn=$i(m.nextSibling),Cn=o,ut=!0,Jn=null,s!==null&&(Ln[Vn++]=ii,Ln[Vn++]=si,Ln[Vn++]=Xs,ii=s.id,si=s.overflow,Xs=o),o=tp(o,h.children),o.flags|=4096,o)}function bv(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),Af(s.return,o,c)}function np(s,o,c,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function Dv(s,o,c){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(un(s,o,h.children,c),h=ht.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bv(s,c,o);else if(s.tag===19)bv(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(it(ht,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)s=c.alternate,s!==null&&Bu(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),np(o,!1,m,c,y);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Bu(s)===null){o.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}np(o,!0,c,null,y);break;case"together":np(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Qu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function li(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),no|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=rs(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=rs(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function ZS(s,o,c){switch(o.tag){case 3:Iv(o),ha();break;case 5:Wy(o);break;case 1:mn(o.type)&&Ru(o);break;case 4:Of(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;it(Vu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(it(ht,ht.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?Cv(s,o,c):(it(ht,ht.current&1),s=li(s,o,c),s!==null?s.sibling:null);it(ht,ht.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return Dv(s,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),it(ht,ht.current),h)break;return null;case 22:case 23:return o.lanes=0,xv(s,o,c)}return li(s,o,c)}var Pv,rp,Rv,Av;Pv=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},rp=function(){},Rv=function(s,o,c,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,eo(Tr.current);var y=null;switch(c){case"input":m=Oo(s,m),h=Oo(s,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=dl(s,m),h=dl(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=bu)}Kn(c,h);var S;c=null;for(Y in m)if(!h.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var A=m[Y];for(S in A)A.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(i.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in h){var L=h[Y];if(A=m?.[Y],h.hasOwnProperty(Y)&&L!==A&&(L!=null||A!=null))if(Y==="style")if(A){for(S in A)!A.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in L)L.hasOwnProperty(S)&&A[S]!==L[S]&&(c||(c={}),c[S]=L[S])}else c||(y||(y=[]),y.push(Y,c)),c=L;else Y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,A=A?A.__html:void 0,L!=null&&A!==L&&(y=y||[]).push(Y,L)):Y==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(Y,""+L):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(i.hasOwnProperty(Y)?(L!=null&&Y==="onScroll"&&at("scroll",s),y||A===L||(y=[])):(y=y||[]).push(Y,L))}c&&(y=y||[]).push("style",c);var Y=y;(o.updateQueue=Y)&&(o.flags|=4)}},Av=function(s,o,c,h){c!==h&&(o.flags|=4)};function Xl(s,o){if(!ut)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function tn(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function eT(s,o,c){var h=o.pendingProps;switch(If(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return mn(o.type)&&Pu(),tn(o),null;case 3:return h=o.stateNode,ga(),lt(pn),lt(Zt),Ff(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Ou(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jn!==null&&(pp(Jn),Jn=null))),rp(s,o),tn(o),null;case 5:Lf(o);var m=eo($l.current);if(c=o.type,s!==null&&o.stateNode!=null)Rv(s,o,c,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(s=eo(Tr.current),Ou(o)){h=o.stateNode,c=o.type;var y=o.memoizedProps;switch(h[Sr]=o,h[Bl]=y,s=(o.mode&1)!==0,c){case"dialog":at("cancel",h),at("close",h);break;case"iframe":case"object":case"embed":at("load",h);break;case"video":case"audio":for(m=0;m<Fl.length;m++)at(Fl[m],h);break;case"source":at("error",h);break;case"img":case"image":case"link":at("error",h),at("load",h);break;case"details":at("toggle",h);break;case"input":Zc(h,y),at("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},at("invalid",h);break;case"textarea":hl(h,y),at("invalid",h)}Kn(c,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var A=y[S];S==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&Cu(h.textContent,A,s),m=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&Cu(h.textContent,A,s),m=["children",""+A]):i.hasOwnProperty(S)&&A!=null&&S==="onScroll"&&at("scroll",h)}switch(c){case"input":Mo(h),ul(h,y,!0);break;case"textarea":Mo(h),Pi(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=bu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=fl(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=S.createElement(c,{is:h.is}):(s=S.createElement(c),c==="select"&&(S=s,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):s=S.createElementNS(s,c),s[Sr]=o,s[Bl]=h,Pv(s,o,!1,!1),o.stateNode=s;e:{switch(S=jo(c,h),c){case"dialog":at("cancel",s),at("close",s),m=h;break;case"iframe":case"object":case"embed":at("load",s),m=h;break;case"video":case"audio":for(m=0;m<Fl.length;m++)at(Fl[m],s);m=h;break;case"source":at("error",s),m=h;break;case"img":case"image":case"link":at("error",s),at("load",s),m=h;break;case"details":at("toggle",s),m=h;break;case"input":Zc(s,h),m=Oo(s,h),at("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),at("invalid",s);break;case"textarea":hl(s,h),m=dl(s,h),at("invalid",s);break;default:m=h}Kn(c,m),A=m;for(y in A)if(A.hasOwnProperty(y)){var L=A[y];y==="style"?Fo(s,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&tu(s,L)):y==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&Os(s,L):typeof L=="number"&&Os(s,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?L!=null&&y==="onScroll"&&at("scroll",s):L!=null&&Q(s,y,L,S))}switch(c){case"input":Mo(s),ul(s,h,!1);break;case"textarea":Mo(s),Pi(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ye(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?qn(s,!!h.multiple,y,!1):h.defaultValue!=null&&qn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=bu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(s&&o.stateNode!=null)Av(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=eo($l.current),eo(Tr.current),Ou(o)){if(h=o.stateNode,c=o.memoizedProps,h[Sr]=o,(y=h.nodeValue!==c)&&(s=Cn,s!==null))switch(s.tag){case 3:Cu(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Cu(h.nodeValue,c,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Sr]=o,o.stateNode=h}return tn(o),null;case 13:if(lt(ht),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ut&&bn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Oy(),ha(),o.flags|=98560,y=!1;else if(y=Ou(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Sr]=o}else ha(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),y=!1}else Jn!==null&&(pp(Jn),Jn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(ht.current&1)!==0?Nt===0&&(Nt=3):yp())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return ga(),rp(s,o),s===null&&jl(o.stateNode.containerInfo),tn(o),null;case 10:return Rf(o.type._context),tn(o),null;case 17:return mn(o.type)&&Pu(),tn(o),null;case 19:if(lt(ht),y=o.memoizedState,y===null)return tn(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)Xl(y,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Bu(s),S!==null){for(o.flags|=128,Xl(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)y=c,s=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return it(ht,ht.current&1|2),o.child}s=s.sibling}y.tail!==null&&ot()>wa&&(o.flags|=128,h=!0,Xl(y,!1),o.lanes=4194304)}else{if(!h)if(s=Bu(S),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Xl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!ut)return tn(o),null}else 2*ot()-y.renderingStartTime>wa&&c!==1073741824&&(o.flags|=128,h=!0,Xl(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(c=y.last,c!==null?c.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ot(),o.sibling=null,c=ht.current,it(ht,h?c&1|2:c&1),o):(tn(o),null);case 22:case 23:return gp(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function tT(s,o){switch(If(o),o.tag){case 1:return mn(o.type)&&Pu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ga(),lt(pn),lt(Zt),Ff(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Lf(o),null;case 13:if(lt(ht),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ha()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return lt(ht),null;case 4:return ga(),null;case 10:return Rf(o.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var Gu=!1,nn=!1,nT=typeof WeakSet=="function"?WeakSet:Set,me=null;function va(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){yt(s,o,h)}else c.current=null}function ip(s,o,c){try{c()}catch(h){yt(s,o,h)}}var Nv=!1;function rT(s,o){if(gf=Zr,s=dy(),lf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,A=-1,L=-1,Y=0,te=0,re=s,ee=null;t:for(;;){for(var de;re!==c||m!==0&&re.nodeType!==3||(A=S+m),re!==y||h!==0&&re.nodeType!==3||(L=S+h),re.nodeType===3&&(S+=re.nodeValue.length),(de=re.firstChild)!==null;)ee=re,re=de;for(;;){if(re===s)break t;if(ee===c&&++Y===m&&(A=S),ee===y&&++te===h&&(L=S),(de=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=de}c=A===-1||L===-1?null:{start:A,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(yf={focusedElem:s,selectionRange:c},Zr=!1,me=o;me!==null;)if(o=me,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,me=s;else for(;me!==null;){o=me;try{var ye=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Et=ye.memoizedState,z=o.stateNode,F=z.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Zn(o.type,ve),Et);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){yt(o,o.return,ie)}if(s=o.sibling,s!==null){s.return=o.return,me=s;break}me=o.return}return ye=Nv,Nv=!1,ye}function Jl(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&ip(o,c,y)}m=m.next}while(m!==h)}}function Xu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function sp(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function Mv(s){var o=s.alternate;o!==null&&(s.alternate=null,Mv(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Sr],delete o[Bl],delete o[Ef],delete o[jS],delete o[US])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ov(s){return s.tag===5||s.tag===3||s.tag===4}function Lv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ov(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function op(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=bu));else if(h!==4&&(s=s.child,s!==null))for(op(s,o,c),s=s.sibling;s!==null;)op(s,o,c),s=s.sibling}function ap(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(ap(s,o,c),s=s.sibling;s!==null;)ap(s,o,c),s=s.sibling}var zt=null,er=!1;function Ji(s,o,c){for(c=c.child;c!==null;)Vv(s,o,c),c=c.sibling}function Vv(s,o,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Us,c)}catch{}switch(c.tag){case 5:nn||va(c,o);case 6:var h=zt,m=er;zt=null,Ji(s,o,c),zt=h,er=m,zt!==null&&(er?(s=zt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):zt.removeChild(c.stateNode));break;case 18:zt!==null&&(er?(s=zt,c=c.stateNode,s.nodeType===8?wf(s.parentNode,c):s.nodeType===1&&wf(s,c),zi(s)):wf(zt,c.stateNode));break;case 4:h=zt,m=er,zt=c.stateNode.containerInfo,er=!0,Ji(s,o,c),zt=h,er=m;break;case 0:case 11:case 14:case 15:if(!nn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&ip(c,o,S),m=m.next}while(m!==h)}Ji(s,o,c);break;case 1:if(!nn&&(va(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(A){yt(c,o,A)}Ji(s,o,c);break;case 21:Ji(s,o,c);break;case 22:c.mode&1?(nn=(h=nn)||c.memoizedState!==null,Ji(s,o,c),nn=h):Ji(s,o,c);break;default:Ji(s,o,c)}}function Fv(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new nT),o.forEach(function(h){var m=hT.bind(null,s,h);c.has(h)||(c.add(h),h.then(m,m))})}}function tr(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];try{var y=s,S=o,A=S;e:for(;A!==null;){switch(A.tag){case 5:zt=A.stateNode,er=!1;break e;case 3:zt=A.stateNode.containerInfo,er=!0;break e;case 4:zt=A.stateNode.containerInfo,er=!0;break e}A=A.return}if(zt===null)throw Error(t(160));Vv(y,S,m),zt=null,er=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(Y){yt(m,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)jv(o,s),o=o.sibling}function jv(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(tr(o,s),kr(s),h&4){try{Jl(3,s,s.return),Xu(3,s)}catch(ve){yt(s,s.return,ve)}try{Jl(5,s,s.return)}catch(ve){yt(s,s.return,ve)}}break;case 1:tr(o,s),kr(s),h&512&&c!==null&&va(c,c.return);break;case 5:if(tr(o,s),kr(s),h&512&&c!==null&&va(c,c.return),s.flags&32){var m=s.stateNode;try{Os(m,"")}catch(ve){yt(s,s.return,ve)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,S=c!==null?c.memoizedProps:y,A=s.type,L=s.updateQueue;if(s.updateQueue=null,L!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Lo(m,y),jo(A,S);var Y=jo(A,y);for(S=0;S<L.length;S+=2){var te=L[S],re=L[S+1];te==="style"?Fo(m,re):te==="dangerouslySetInnerHTML"?tu(m,re):te==="children"?Os(m,re):Q(m,te,re,Y)}switch(A){case"input":Ms(m,y);break;case"textarea":eu(m,y);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?qn(m,!!y.multiple,de,!1):ee!==!!y.multiple&&(y.defaultValue!=null?qn(m,!!y.multiple,y.defaultValue,!0):qn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Bl]=y}catch(ve){yt(s,s.return,ve)}}break;case 6:if(tr(o,s),kr(s),h&4){if(s.stateNode===null)throw Error(t(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(ve){yt(s,s.return,ve)}}break;case 3:if(tr(o,s),kr(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{zi(o.containerInfo)}catch(ve){yt(s,s.return,ve)}break;case 4:tr(o,s),kr(s);break;case 13:tr(o,s),kr(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(up=ot())),h&4&&Fv(s);break;case 22:if(te=c!==null&&c.memoizedState!==null,s.mode&1?(nn=(Y=nn)||te,tr(o,s),nn=Y):tr(o,s),kr(s),h&8192){if(Y=s.memoizedState!==null,(s.stateNode.isHidden=Y)&&!te&&(s.mode&1)!==0)for(me=s,te=s.child;te!==null;){for(re=me=te;me!==null;){switch(ee=me,de=ee.child,ee.tag){case 0:case 11:case 14:case 15:Jl(4,ee,ee.return);break;case 1:va(ee,ee.return);var ye=ee.stateNode;if(typeof ye.componentWillUnmount=="function"){h=ee,c=ee.return;try{o=h,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){yt(h,c,ve)}}break;case 5:va(ee,ee.return);break;case 22:if(ee.memoizedState!==null){zv(re);continue}}de!==null?(de.return=ee,me=de):zv(re)}te=te.sibling}e:for(te=null,re=s;;){if(re.tag===5){if(te===null){te=re;try{m=re.stateNode,Y?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=re.stateNode,L=re.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,A.style.display=Ni("display",S))}catch(ve){yt(s,s.return,ve)}}}else if(re.tag===6){if(te===null)try{re.stateNode.nodeValue=Y?"":re.memoizedProps}catch(ve){yt(s,s.return,ve)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;te===re&&(te=null),re=re.return}te===re&&(te=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:tr(o,s),kr(s),h&4&&Fv(s);break;case 21:break;default:tr(o,s),kr(s)}}function kr(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(Ov(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Os(m,""),h.flags&=-33);var y=Lv(s);ap(s,y,m);break;case 3:case 4:var S=h.stateNode.containerInfo,A=Lv(s);op(s,A,S);break;default:throw Error(t(161))}}catch(L){yt(s,s.return,L)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function iT(s,o,c){me=s,Uv(s)}function Uv(s,o,c){for(var h=(s.mode&1)!==0;me!==null;){var m=me,y=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Gu;if(!S){var A=m.alternate,L=A!==null&&A.memoizedState!==null||nn;A=Gu;var Y=nn;if(Gu=S,(nn=L)&&!Y)for(me=m;me!==null;)S=me,L=S.child,S.tag===22&&S.memoizedState!==null?Wv(m):L!==null?(L.return=S,me=L):Wv(m);for(;y!==null;)me=y,Uv(y),y=y.sibling;me=m,Gu=A,nn=Y}Bv(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,me=y):Bv(s)}}function Bv(s){for(;me!==null;){var o=me;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||Xu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!nn)if(c===null)h.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:Zn(o.type,c.memoizedProps);h.componentDidUpdate(m,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&zy(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}zy(o,S,c)}break;case 5:var A=o.stateNode;if(c===null&&o.flags&4){c=A;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var te=Y.memoizedState;if(te!==null){var re=te.dehydrated;re!==null&&zi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&sp(o)}catch(ee){yt(o,o.return,ee)}}if(o===s){me=null;break}if(c=o.sibling,c!==null){c.return=o.return,me=c;break}me=o.return}}function zv(s){for(;me!==null;){var o=me;if(o===s){me=null;break}var c=o.sibling;if(c!==null){c.return=o.return,me=c;break}me=o.return}}function Wv(s){for(;me!==null;){var o=me;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{Xu(4,o)}catch(L){yt(o,c,L)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(L){yt(o,m,L)}}var y=o.return;try{sp(o)}catch(L){yt(o,y,L)}break;case 5:var S=o.return;try{sp(o)}catch(L){yt(o,S,L)}}}catch(L){yt(o,o.return,L)}if(o===s){me=null;break}var A=o.sibling;if(A!==null){A.return=o.return,me=A;break}me=o.return}}var sT=Math.ceil,Ju=ne.ReactCurrentDispatcher,lp=ne.ReactCurrentOwner,Un=ne.ReactCurrentBatchConfig,$e=0,Vt=null,bt=null,Wt=0,Dn=0,_a=qi(0),Nt=0,Zl=null,no=0,Zu=0,cp=0,ec=null,yn=null,up=0,wa=1/0,ci=null,ed=!1,dp=null,Zi=null,td=!1,es=null,nd=0,tc=0,hp=null,rd=-1,id=0;function dn(){return($e&6)!==0?ot():rd!==-1?rd:rd=ot()}function ts(s){return(s.mode&1)===0?1:($e&2)!==0&&Wt!==0?Wt&-Wt:zS.transition!==null?(id===0&&(id=xl()),id):(s=We,s!==0||(s=window.event,s=s===void 0?16:Qo(s.type)),s)}function nr(s,o,c,h){if(50<tc)throw tc=0,hp=null,Error(t(185));Hs(s,c,h),(($e&2)===0||s!==Vt)&&(s===Vt&&(($e&2)===0&&(Zu|=c),Nt===4&&ns(s,Wt)),vn(s,h),c===1&&$e===0&&(o.mode&1)===0&&(wa=ot()+500,Au&&Qi()))}function vn(s,o){var c=s.callbackNode;Ws(s,o);var h=Gr(s,s===Vt?Wt:0);if(h===0)c!==null&&zo(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&zo(c),o===1)s.tag===0?BS(Yv.bind(null,s)):Py(Yv.bind(null,s)),VS(function(){($e&6)===0&&Qi()}),c=null;else{switch(fr(h)){case 1:c=Wo;break;case 4:c=_l;break;case 16:c=js;break;case 536870912:c=Ho;break;default:c=js}c=Zv(c,Hv.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function Hv(s,o){if(rd=-1,id=0,($e&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ea()&&s.callbackNode!==c)return null;var h=Gr(s,s===Vt?Wt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=sd(s,h);else{o=h;var m=$e;$e|=2;var y=qv();(Vt!==s||Wt!==o)&&(ci=null,wa=ot()+500,io(s,o));do try{lT();break}catch(A){$v(s,A)}while(!0);Pf(),Ju.current=y,$e=m,bt!==null?o=0:(Vt=null,Wt=0,o=Nt)}if(o!==0){if(o===2&&(m=El(s),m!==0&&(h=m,o=fp(s,m))),o===1)throw c=Zl,io(s,0),ns(s,h),vn(s,ot()),c;if(o===6)ns(s,h);else{if(m=s.current.alternate,(h&30)===0&&!oT(m)&&(o=sd(s,h),o===2&&(y=El(s),y!==0&&(h=y,o=fp(s,y))),o===1))throw c=Zl,io(s,0),ns(s,h),vn(s,ot()),c;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:so(s,yn,ci);break;case 3:if(ns(s,h),(h&130023424)===h&&(o=up+500-ot(),10<o)){if(Gr(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){dn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=_f(so.bind(null,s,yn,ci),o);break}so(s,yn,ci);break;case 4:if(ns(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var S=31-xn(h);y=1<<S,S=o[S],S>m&&(m=S),h&=~y}if(h=m,h=ot()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*sT(h/1960))-h,10<h){s.timeoutHandle=_f(so.bind(null,s,yn,ci),h);break}so(s,yn,ci);break;case 5:so(s,yn,ci);break;default:throw Error(t(329))}}}return vn(s,ot()),s.callbackNode===c?Hv.bind(null,s):null}function fp(s,o){var c=ec;return s.current.memoizedState.isDehydrated&&(io(s,o).flags|=256),s=sd(s,o),s!==2&&(o=yn,yn=c,o!==null&&pp(o)),s}function pp(s){yn===null?yn=s:yn.push.apply(yn,s)}function oT(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!Xn(y(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ns(s,o){for(o&=~cp,o&=~Zu,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-xn(o),h=1<<c;s[c]=-1,o&=~h}}function Yv(s){if(($e&6)!==0)throw Error(t(327));Ea();var o=Gr(s,0);if((o&1)===0)return vn(s,ot()),null;var c=sd(s,o);if(s.tag!==0&&c===2){var h=El(s);h!==0&&(o=h,c=fp(s,h))}if(c===1)throw c=Zl,io(s,0),ns(s,o),vn(s,ot()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,so(s,yn,ci),vn(s,ot()),null}function mp(s,o){var c=$e;$e|=1;try{return s(o)}finally{$e=c,$e===0&&(wa=ot()+500,Au&&Qi())}}function ro(s){es!==null&&es.tag===0&&($e&6)===0&&Ea();var o=$e;$e|=1;var c=Un.transition,h=We;try{if(Un.transition=null,We=1,s)return s()}finally{We=h,Un.transition=c,$e=o,($e&6)===0&&Qi()}}function gp(){Dn=_a.current,lt(_a)}function io(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,LS(c)),bt!==null)for(c=bt.return;c!==null;){var h=c;switch(If(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Pu();break;case 3:ga(),lt(pn),lt(Zt),Ff();break;case 5:Lf(h);break;case 4:ga();break;case 13:lt(ht);break;case 19:lt(ht);break;case 10:Rf(h.type._context);break;case 22:case 23:gp()}c=c.return}if(Vt=s,bt=s=rs(s.current,null),Wt=Dn=o,Nt=0,Zl=null,cp=Zu=no=0,yn=ec=null,Zs!==null){for(o=0;o<Zs.length;o++)if(c=Zs[o],h=c.interleaved,h!==null){c.interleaved=null;var m=h.next,y=c.pending;if(y!==null){var S=y.next;y.next=m,h.next=S}c.pending=h}Zs=null}return s}function $v(s,o){do{var c=bt;try{if(Pf(),zu.current=$u,Wu){for(var h=ft.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Wu=!1}if(to=0,Lt=At=ft=null,ql=!1,Kl=0,lp.current=null,c===null||c.return===null){Nt=1,Zl=o,bt=null;break}e:{var y=s,S=c.return,A=c,L=o;if(o=Wt,A.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=L,te=A,re=te.tag;if((te.mode&1)===0&&(re===0||re===11||re===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var de=yv(S);if(de!==null){de.flags&=-257,vv(de,S,A,y,o),de.mode&1&&gv(y,Y,o),o=de,L=Y;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(L),o.updateQueue=ve}else ye.add(L);break e}else{if((o&1)===0){gv(y,Y,o),yp();break e}L=Error(t(426))}}else if(ut&&A.mode&1){var Et=yv(S);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),vv(Et,S,A,y,o),bf(ya(L,A));break e}}y=L=ya(L,A),Nt!==4&&(Nt=2),ec===null?ec=[y]:ec.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var z=pv(y,L,o);By(y,z);break e;case 1:A=L;var F=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Zi===null||!Zi.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var ie=mv(y,A,o);By(y,ie);break e}}y=y.return}while(y!==null)}Qv(c)}catch(_e){o=_e,bt===c&&c!==null&&(bt=c=c.return);continue}break}while(!0)}function qv(){var s=Ju.current;return Ju.current=$u,s===null?$u:s}function yp(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Vt===null||(no&268435455)===0&&(Zu&268435455)===0||ns(Vt,Wt)}function sd(s,o){var c=$e;$e|=2;var h=qv();(Vt!==s||Wt!==o)&&(ci=null,io(s,o));do try{aT();break}catch(m){$v(s,m)}while(!0);if(Pf(),$e=c,Ju.current=h,bt!==null)throw Error(t(261));return Vt=null,Wt=0,Nt}function aT(){for(;bt!==null;)Kv(bt)}function lT(){for(;bt!==null&&!Fs();)Kv(bt)}function Kv(s){var o=Jv(s.alternate,s,Dn);s.memoizedProps=s.pendingProps,o===null?Qv(s):bt=o,lp.current=null}function Qv(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=eT(c,o,Dn),c!==null){bt=c;return}}else{if(c=tT(c,o),c!==null){c.flags&=32767,bt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nt=6,bt=null;return}}if(o=o.sibling,o!==null){bt=o;return}bt=o=s}while(o!==null);Nt===0&&(Nt=5)}function so(s,o,c){var h=We,m=Un.transition;try{Un.transition=null,We=1,cT(s,o,c,h)}finally{Un.transition=m,We=h}return null}function cT(s,o,c,h){do Ea();while(es!==null);if(($e&6)!==0)throw Error(t(327));c=s.finishedWork;var m=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(nf(s,y),s===Vt&&(bt=Vt=null,Wt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||td||(td=!0,Zv(js,function(){return Ea(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=Un.transition,Un.transition=null;var S=We;We=1;var A=$e;$e|=4,lp.current=null,rT(s,c),jv(c,s),DS(yf),Zr=!!gf,yf=gf=null,s.current=c,iT(c),Qr(),$e=A,We=S,Un.transition=y}else s.current=c;if(td&&(td=!1,es=s,nd=m),y=s.pendingLanes,y===0&&(Zi=null),hu(c.stateNode),vn(s,ot()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)m=o[c],h(m.value,{componentStack:m.stack,digest:m.digest});if(ed)throw ed=!1,s=dp,dp=null,s;return(nd&1)!==0&&s.tag!==0&&Ea(),y=s.pendingLanes,(y&1)!==0?s===hp?tc++:(tc=0,hp=s):tc=0,Qi(),null}function Ea(){if(es!==null){var s=fr(nd),o=Un.transition,c=We;try{if(Un.transition=null,We=16>s?16:s,es===null)var h=!1;else{if(s=es,es=null,nd=0,($e&6)!==0)throw Error(t(331));var m=$e;for($e|=4,me=s.current;me!==null;){var y=me,S=y.child;if((me.flags&16)!==0){var A=y.deletions;if(A!==null){for(var L=0;L<A.length;L++){var Y=A[L];for(me=Y;me!==null;){var te=me;switch(te.tag){case 0:case 11:case 15:Jl(8,te,y)}var re=te.child;if(re!==null)re.return=te,me=re;else for(;me!==null;){te=me;var ee=te.sibling,de=te.return;if(Mv(te),te===Y){me=null;break}if(ee!==null){ee.return=de,me=ee;break}me=de}}}var ye=y.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Et=ve.sibling;ve.sibling=null,ve=Et}while(ve!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,me=S;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Jl(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,me=z;break e}me=y.return}}var F=s.current;for(me=F;me!==null;){S=me;var H=S.child;if((S.subtreeFlags&2064)!==0&&H!==null)H.return=S,me=H;else e:for(S=F;me!==null;){if(A=me,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Xu(9,A)}}catch(_e){yt(A,A.return,_e)}if(A===S){me=null;break e}var ie=A.sibling;if(ie!==null){ie.return=A.return,me=ie;break e}me=A.return}}if($e=m,Qi(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Us,s)}catch{}h=!0}return h}finally{We=c,Un.transition=o}}return!1}function Gv(s,o,c){o=ya(c,o),o=pv(s,o,1),s=Xi(s,o,1),o=dn(),s!==null&&(Hs(s,1,o),vn(s,o))}function yt(s,o,c){if(s.tag===3)Gv(s,s,c);else for(;o!==null;){if(o.tag===3){Gv(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Zi===null||!Zi.has(h))){s=ya(c,s),s=mv(o,s,1),o=Xi(o,s,1),s=dn(),o!==null&&(Hs(o,1,s),vn(o,s));break}}o=o.return}}function uT(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=dn(),s.pingedLanes|=s.suspendedLanes&c,Vt===s&&(Wt&c)===c&&(Nt===4||Nt===3&&(Wt&130023424)===Wt&&500>ot()-up?io(s,0):cp|=c),vn(s,o)}function Xv(s,o){o===0&&((s.mode&1)===0?o=1:(o=ji,ji<<=1,(ji&130023424)===0&&(ji=4194304)));var c=dn();s=oi(s,o),s!==null&&(Hs(s,o,c),vn(s,c))}function dT(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),Xv(s,c)}function hT(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),Xv(s,c)}var Jv;Jv=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||pn.current)gn=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return gn=!1,ZS(s,o,c);gn=(s.flags&131072)!==0}else gn=!1,ut&&(o.flags&1048576)!==0&&Ry(o,Mu,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Qu(s,o),s=o.pendingProps;var m=ca(o,Zt.current);ma(o,c),m=Bf(null,o,h,s,m,c);var y=zf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,mn(h)?(y=!0,Ru(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Mf(o),m.updater=qu,o.stateNode=m,m._reactInternals=o,Kf(o,h,s,c),o=Jf(null,o,h,!0,y,c)):(o.tag=0,ut&&y&&Tf(o),un(null,o,m,c),o=o.child),o;case 16:h=o.elementType;e:{switch(Qu(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=pT(h),s=Zn(h,s),m){case 0:o=Xf(null,o,h,s,c);break e;case 1:o=Tv(null,o,h,s,c);break e;case 11:o=_v(null,o,h,s,c);break e;case 14:o=wv(null,o,h,Zn(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Zn(h,m),Xf(s,o,h,m,c);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Zn(h,m),Tv(s,o,h,m,c);case 3:e:{if(Iv(o),s===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Uy(s,o),Uu(o,h,null,c);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=ya(Error(t(423)),o),o=kv(s,o,h,c,m);break e}else if(h!==m){m=ya(Error(t(424)),o),o=kv(s,o,h,c,m);break e}else for(bn=$i(o.stateNode.containerInfo.firstChild),Cn=o,ut=!0,Jn=null,c=Fy(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ha(),h===m){o=li(s,o,c);break e}un(s,o,h,c)}o=o.child}return o;case 5:return Wy(o),s===null&&Cf(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,S=m.children,vf(h,m)?S=null:y!==null&&vf(h,y)&&(o.flags|=32),Sv(s,o),un(s,o,S,c),o.child;case 6:return s===null&&Cf(o),null;case 13:return Cv(s,o,c);case 4:return Of(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=fa(o,null,h,c):un(s,o,h,c),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Zn(h,m),_v(s,o,h,m,c);case 7:return un(s,o,o.pendingProps,c),o.child;case 8:return un(s,o,o.pendingProps.children,c),o.child;case 12:return un(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,it(Vu,h._currentValue),h._currentValue=S,y!==null)if(Xn(y.value,S)){if(y.children===m.children&&!pn.current){o=li(s,o,c);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var A=y.dependencies;if(A!==null){S=y.child;for(var L=A.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=ai(-1,c&-c),L.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var te=Y.pending;te===null?L.next=L:(L.next=te.next,te.next=L),Y.pending=L}}y.lanes|=c,L=y.alternate,L!==null&&(L.lanes|=c),Af(y.return,c,o),A.lanes|=c;break}L=L.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=c,A=S.alternate,A!==null&&(A.lanes|=c),Af(S,c,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}un(s,o,m.children,c),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,ma(o,c),m=Fn(m),h=h(m),o.flags|=1,un(s,o,h,c),o.child;case 14:return h=o.type,m=Zn(h,o.pendingProps),m=Zn(h.type,m),wv(s,o,h,m,c);case 15:return Ev(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:Zn(h,m),Qu(s,o),o.tag=1,mn(h)?(s=!0,Ru(o)):s=!1,ma(o,c),hv(o,h,m),Kf(o,h,m,c),Jf(null,o,h,!0,s,c);case 19:return Dv(s,o,c);case 22:return xv(s,o,c)}throw Error(t(156,o.tag))};function Zv(s,o){return vl(s,o)}function fT(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(s,o,c,h){return new fT(s,o,c,h)}function vp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function pT(s){if(typeof s=="function")return vp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===Ie)return 14}return 2}function rs(s,o){var c=s.alternate;return c===null?(c=Bn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function od(s,o,c,h,m,y){var S=2;if(h=s,typeof s=="function")vp(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case C:return oo(c.children,m,y,o);case k:S=8,m|=8;break;case D:return s=Bn(12,c,o,m|2),s.elementType=D,s.lanes=y,s;case R:return s=Bn(13,c,o,m),s.elementType=R,s.lanes=y,s;case Ee:return s=Bn(19,c,o,m),s.elementType=Ee,s.lanes=y,s;case ge:return ad(c,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:S=10;break e;case O:S=9;break e;case V:S=11;break e;case Ie:S=14;break e;case he:S=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=Bn(S,c,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function oo(s,o,c,h){return s=Bn(7,s,h,o),s.lanes=c,s}function ad(s,o,c,h){return s=Bn(22,s,h,o),s.elementType=ge,s.lanes=c,s.stateNode={isHidden:!1},s}function _p(s,o,c){return s=Bn(6,s,null,o),s.lanes=c,s}function wp(s,o,c){return o=Bn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function mT(s,o,c,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Ep(s,o,c,h,m,y,S,A,L){return s=new mT(s,o,c,A,L),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Bn(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mf(y),s}function gT(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function e0(s){if(!s)return Ki;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(mn(c))return by(s,c,o)}return o}function t0(s,o,c,h,m,y,S,A,L){return s=Ep(c,h,!0,s,m,y,S,A,L),s.context=e0(null),c=s.current,h=dn(),m=ts(c),y=ai(h,m),y.callback=o??null,Xi(c,y,m),s.current.lanes=m,Hs(s,m,h),vn(s,h),s}function ld(s,o,c,h){var m=o.current,y=dn(),S=ts(m);return c=e0(c),o.context===null?o.context=c:o.pendingContext=c,o=ai(y,S),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Xi(m,o,S),s!==null&&(nr(s,m,S,y),ju(s,m,S)),S}function cd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function n0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function xp(s,o){n0(s,o),(s=s.alternate)&&n0(s,o)}function yT(){return null}var r0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Sp(s){this._internalRoot=s}ud.prototype.render=Sp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));ld(s,o,null,null)},ud.prototype.unmount=Sp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;ro(function(){ld(null,s,null,null)}),o[ni]=null}};function ud(s){this._internalRoot=s}ud.prototype.unstable_scheduleHydration=function(s){if(s){var o=Cl();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Sn.length&&o!==0&&o<Sn[c].priority;c++);Sn.splice(c,0,s),c===0&&qo(s)}};function Tp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function dd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function i0(){}function vT(s,o,c,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var Y=cd(S);y.call(Y)}}var S=t0(o,h,s,0,null,!1,!1,"",i0);return s._reactRootContainer=S,s[ni]=S.current,jl(s.nodeType===8?s.parentNode:s),ro(),S}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var A=h;h=function(){var Y=cd(L);A.call(Y)}}var L=Ep(s,0,!1,null,null,!1,!1,"",i0);return s._reactRootContainer=L,s[ni]=L.current,jl(s.nodeType===8?s.parentNode:s),ro(function(){ld(o,L,c,h)}),L}function hd(s,o,c,h,m){var y=c._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var A=m;m=function(){var L=cd(S);A.call(L)}}ld(o,S,s,m)}else S=vT(c,o,s,m,h);return cd(S)}Il=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ke(o.pendingLanes);c!==0&&(Tl(o,c|1),vn(o,ot()),($e&6)===0&&(wa=ot()+500,Qi()))}break;case 13:ro(function(){var h=oi(s,1);if(h!==null){var m=dn();nr(h,s,1,m)}}),xp(s,1)}},Yo=function(s){if(s.tag===13){var o=oi(s,134217728);if(o!==null){var c=dn();nr(o,s,134217728,c)}xp(s,134217728)}},kl=function(s){if(s.tag===13){var o=ts(s),c=oi(s,o);if(c!==null){var h=dn();nr(c,s,o,h)}xp(s,o)}},Cl=function(){return We},bl=function(s,o){var c=We;try{return We=s,o()}finally{We=c}},$r=function(s,o,c){switch(o){case"input":if(Ms(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var m=Du(h);if(!m)throw Error(t(90));cl(h),Ms(h,m)}}}break;case"textarea":eu(s,c);break;case"select":o=c.value,o!=null&&qn(s,!!c.multiple,o,!1)}},ru=mp,iu=ro;var _T={usingClientEntryPoint:!1,Events:[zl,aa,Du,Oi,Li,mp]},nc={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wT={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=du(s),s===null?null:s.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||yT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Us=fd.inject(wT),En=fd}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_T,_n.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(o))throw Error(t(200));return gT(s,o,null,c)},_n.createRoot=function(s,o){if(!Tp(s))throw Error(t(299));var c=!1,h="",m=r0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Ep(s,1,!1,null,null,c,!1,h,m),s[ni]=o.current,jl(s.nodeType===8?s.parentNode:s),new Sp(o)},_n.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=du(o),s=s===null?null:s.stateNode,s},_n.flushSync=function(s){return ro(s)},_n.hydrate=function(s,o,c){if(!dd(o))throw Error(t(200));return hd(null,s,o,!0,c)},_n.hydrateRoot=function(s,o,c){if(!Tp(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,m=!1,y="",S=r0;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),o=t0(o,null,s,1,c??null,m,!1,y,S),s[ni]=o.current,jl(s),h)for(s=0;s<h.length;s++)c=h[s],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new ud(o)},_n.render=function(s,o,c){if(!dd(o))throw Error(t(200));return hd(null,s,o,!1,c)},_n.unmountComponentAtNode=function(s){if(!dd(s))throw Error(t(40));return s._reactRootContainer?(ro(function(){hd(null,null,s,!1,function(){s._reactRootContainer=null,s[ni]=null})}),!0):!1},_n.unstable_batchedUpdates=mp,_n.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!dd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hd(s,o,c,!1,h)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var h0;function Fw(){if(h0)return Cp.exports;h0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Cp.exports=bT(),Cp.exports}var f0;function DT(){if(f0)return pd;f0=1;var r=Fw();return pd.createRoot=r.createRoot,pd.hydrateRoot=r.hydrateRoot,pd}var PT=DT();const RT=Vm(PT);var jw=Fw();const AT=Vm(jw);function Tc(){return Tc=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Tc.apply(this,arguments)}var us;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(us||(us={}));const p0="popstate";function NT(r){r===void 0&&(r={});function e(i,a){let{pathname:l="/",search:d="",hash:f=""}=Co(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Zp("",{pathname:l,search:d,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),d="";if(l&&l.getAttribute("href")){let f=i.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof a=="string"?a:Hd(a))}function n(i,a){kh(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return OT(e,t,n,r)}function It(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kh(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substr(2,8)}function m0(r,e){return{usr:r.state,key:r.key,idx:e}}function Zp(r,e,t,n){return t===void 0&&(t=null),Tc({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:t,key:e&&e.key||n||MT()})}function Hd(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function OT(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,d=us.Pop,f=null,p=g();p==null&&(p=0,l.replaceState(Tc({},l.state,{idx:p}),""));function g(){return(l.state||{idx:null}).idx}function _(){d=us.Pop;let b=g(),U=b==null?null:b-p;p=b,f&&f({action:d,location:M.location,delta:U})}function x(b,U){d=us.Push;let q=Zp(M.location,b,U);t&&t(q,b),p=g()+1;let Q=m0(q,p),ne=M.createHref(q);try{l.pushState(Q,"",ne)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;i.location.assign(ne)}a&&f&&f({action:d,location:M.location,delta:1})}function T(b,U){d=us.Replace;let q=Zp(M.location,b,U);t&&t(q,b),p=g();let Q=m0(q,p),ne=M.createHref(q);l.replaceState(Q,"",ne),a&&f&&f({action:d,location:M.location,delta:0})}function P(b){let U=i.location.origin!=="null"?i.location.origin:i.location.href,q=typeof b=="string"?b:Hd(b);return q=q.replace(/ $/,"%20"),It(U,"No window.location.(origin|href) available to create URL for href: "+q),new URL(q,U)}let M={get action(){return d},get location(){return r(i,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(p0,_),f=b,()=>{i.removeEventListener(p0,_),f=null}},createHref(b){return e(i,b)},createURL:P,encodeLocation(b){let U=P(b);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:T,go(b){return l.go(b)}};return M}var g0;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(g0||(g0={}));function LT(r,e,t){return t===void 0&&(t="/"),VT(r,e,t)}function VT(r,e,t,n){let i=typeof e=="string"?Co(e):e,a=Um(i.pathname||"/",t);if(a==null)return null;let l=Uw(r);FT(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=GT(a);d=qT(l[f],p)}return d}function Uw(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(a,l,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(It(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let p=fs([n,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(It(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Uw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:YT(p,a.index),routesMeta:g})};return r.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,l);else for(let f of Bw(a.path))i(a,l,f)}),e}function Bw(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=Bw(n.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...l),d.map(f=>r.startsWith("/")&&f===""?"/":f)}function FT(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:$T(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const jT=/^:[\w-]+$/,UT=3,BT=2,zT=1,WT=10,HT=-2,y0=r=>r==="*";function YT(r,e){let t=r.split("/"),n=t.length;return t.some(y0)&&(n+=HT),e&&(n+=BT),t.filter(i=>!y0(i)).reduce((i,a)=>i+(jT.test(a)?UT:a===""?zT:WT),n)}function $T(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function qT(r,e,t){let{routesMeta:n}=r,i={},a="/",l=[];for(let d=0;d<n.length;++d){let f=n[d],p=d===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=KT({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),x=f.route;if(!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:fs([a,_.pathname]),pathnameBase:tI(fs([a,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(a=fs([a,_.pathnameBase]))}return l}function KT(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=QT(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:n.reduce((p,g,_)=>{let{paramName:x,isOptional:T}=g;if(x==="*"){let M=d[_]||"";l=a.slice(0,a.length-M.length).replace(/(.)\/+$/,"$1")}const P=d[_];return T&&!P?p[x]=void 0:p[x]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:r}}function QT(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),kh(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(n.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function GT(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kh(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Um(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}const XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JT=r=>XT.test(r);function ZT(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Co(r):r,a;if(t)if(JT(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),kh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+t))}t.startsWith("/")?a=v0(t.substring(1),"/"):a=v0(t,e)}else a=e;return{pathname:a,search:nI(n),hash:rI(i)}}function v0(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Pp(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eI(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bm(r,e){let t=eI(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function zm(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=Co(r):(i=Tc({},r),It(!i.pathname||!i.pathname.includes("?"),Pp("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Pp("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Pp("#","search","hash",i)));let a=r===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=t;else{let _=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),_-=1;i.pathname=x.join("/")}d=_>=0?e[_]:"/"}let f=ZT(i,d),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const fs=r=>r.join("/").replace(/\/\/+/g,"/"),tI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),nI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,rI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function iI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const zw=["post","put","patch","delete"];new Set(zw);const sI=["get",...zw];new Set(sI);function Ic(){return Ic=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Ic.apply(this,arguments)}const Wm=B.createContext(null),oI=B.createContext(null),Rs=B.createContext(null),Ch=B.createContext(null),Ii=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Ww=B.createContext(null);function aI(r,e){let{relative:t}=e===void 0?{}:e;Xa()||It(!1);let{basename:n,navigator:i}=B.useContext(Rs),{hash:a,pathname:l,search:d}=Yw(r,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:fs([n,l])),i.createHref({pathname:f,search:d,hash:a})}function Xa(){return B.useContext(Ch)!=null}function Ja(){return Xa()||It(!1),B.useContext(Ch).location}function Hw(r){B.useContext(Rs).static||B.useLayoutEffect(r)}function Za(){let{isDataRoute:r}=B.useContext(Ii);return r?xI():lI()}function lI(){Xa()||It(!1);let r=B.useContext(Wm),{basename:e,future:t,navigator:n}=B.useContext(Rs),{matches:i}=B.useContext(Ii),{pathname:a}=Ja(),l=JSON.stringify(Bm(i,t.v7_relativeSplatPath)),d=B.useRef(!1);return Hw(()=>{d.current=!0}),B.useCallback(function(p,g){if(g===void 0&&(g={}),!d.current)return;if(typeof p=="number"){n.go(p);return}let _=zm(p,JSON.parse(l),a,g.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:fs([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,l,a,r])}const cI=B.createContext(null);function uI(r){let e=B.useContext(Ii).outlet;return e&&B.createElement(cI.Provider,{value:r},e)}function Yw(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=B.useContext(Rs),{matches:i}=B.useContext(Ii),{pathname:a}=Ja(),l=JSON.stringify(Bm(i,n.v7_relativeSplatPath));return B.useMemo(()=>zm(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function dI(r,e){return hI(r,e)}function hI(r,e,t,n){Xa()||It(!1);let{navigator:i}=B.useContext(Rs),{matches:a}=B.useContext(Ii),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=Ja(),g;if(e){var _;let b=typeof e=="string"?Co(e):e;f==="/"||(_=b.pathname)!=null&&_.startsWith(f)||It(!1),g=b}else g=p;let x=g.pathname||"/",T=x;if(f!=="/"){let b=f.replace(/^\//,"").split("/");T="/"+x.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=LT(r,{pathname:T}),M=yI(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},d,b.params),pathname:fs([f,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?f:fs([f,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,t,n);return e&&M?B.createElement(Ch.Provider,{value:{location:Ic({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:us.Pop}},M):M}function fI(){let r=EI(),e=iI(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:i},t):null,null)}const pI=B.createElement(fI,null);class mI extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?B.createElement(Ii.Provider,{value:this.props.routeContext},B.createElement(Ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gI(r){let{routeContext:e,match:t,children:n}=r,i=B.useContext(Wm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Ii.Provider,{value:e},n)}function yI(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var a;if(!t)return null;if(t.errors)r=t.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,d=(i=t)==null?void 0:i.errors;if(d!=null){let g=l.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);g>=0||It(!1),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,p=-1;if(t&&n&&n.v7_partialHydration)for(let g=0;g<l.length;g++){let _=l[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=g),_.route.id){let{loaderData:x,errors:T}=t,P=_.route.loader&&x[_.route.id]===void 0&&(!T||T[_.route.id]===void 0);if(_.route.lazy||P){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((g,_,x)=>{let T,P=!1,M=null,b=null;t&&(T=d&&_.route.id?d[_.route.id]:void 0,M=_.route.errorElement||pI,f&&(p<0&&x===0?(SI("route-fallback"),P=!0,b=null):p===x&&(P=!0,b=_.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,x+1)),q=()=>{let Q;return T?Q=M:P?Q=b:_.route.Component?Q=B.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,B.createElement(gI,{match:_,routeContext:{outlet:g,matches:U,isDataRoute:t!=null},children:Q})};return t&&(_.route.ErrorBoundary||_.route.errorElement||x===0)?B.createElement(mI,{location:t.location,revalidation:t.revalidation,component:M,error:T,children:q(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):q()},null)}var $w=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})($w||{}),qw=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(qw||{});function vI(r){let e=B.useContext(Wm);return e||It(!1),e}function _I(r){let e=B.useContext(oI);return e||It(!1),e}function wI(r){let e=B.useContext(Ii);return e||It(!1),e}function Kw(r){let e=wI(),t=e.matches[e.matches.length-1];return t.route.id||It(!1),t.route.id}function EI(){var r;let e=B.useContext(Ww),t=_I(),n=Kw();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function xI(){let{router:r}=vI($w.UseNavigateStable),e=Kw(qw.UseNavigateStable),t=B.useRef(!1);return Hw(()=>{t.current=!0}),B.useCallback(function(i,a){a===void 0&&(a={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,Ic({fromRouteId:e},a)))},[r,e])}const _0={};function SI(r,e,t){_0[r]||(_0[r]=!0)}function TI(r,e){r?.v7_startTransition,r?.v7_relativeSplatPath}function II(r){let{to:e,replace:t,state:n,relative:i}=r;Xa()||It(!1);let{future:a,static:l}=B.useContext(Rs),{matches:d}=B.useContext(Ii),{pathname:f}=Ja(),p=Za(),g=zm(e,Bm(d,a.v7_relativeSplatPath),f,i==="path"),_=JSON.stringify(g);return B.useEffect(()=>p(JSON.parse(_),{replace:t,state:n,relative:i}),[p,_,i,t,n]),null}function kI(r){return uI(r.context)}function Cr(r){It(!1)}function CI(r){let{basename:e="/",children:t=null,location:n,navigationType:i=us.Pop,navigator:a,static:l=!1,future:d}=r;Xa()&&It(!1);let f=e.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:f,navigator:a,static:l,future:Ic({v7_relativeSplatPath:!1},d)}),[f,d,a,l]);typeof n=="string"&&(n=Co(n));let{pathname:g="/",search:_="",hash:x="",state:T=null,key:P="default"}=n,M=B.useMemo(()=>{let b=Um(g,f);return b==null?null:{location:{pathname:b,search:_,hash:x,state:T,key:P},navigationType:i}},[f,g,_,x,T,P,i]);return M==null?null:B.createElement(Rs.Provider,{value:p},B.createElement(Ch.Provider,{children:t,value:M}))}function bI(r){let{children:e,location:t}=r;return dI(em(e),t)}new Promise(()=>{});function em(r,e){e===void 0&&(e=[]);let t=[];return B.Children.forEach(r,(n,i)=>{if(!B.isValidElement(n))return;let a=[...e,i];if(n.type===B.Fragment){t.push.apply(t,em(n.props.children,a));return}n.type!==Cr&&It(!1),!n.props.index||!n.props.children||It(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=em(n.props.children,a)),t.push(l)}),t}function tm(){return tm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},tm.apply(this,arguments)}function DI(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function PI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function RI(r,e){return r.button===0&&(!e||e==="_self")&&!PI(r)}const AI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NI="6";try{window.__reactRouterVersion=NI}catch{}const MI="startTransition",w0=jm[MI];function OI(r){let{basename:e,children:t,future:n,window:i}=r,a=B.useRef();a.current==null&&(a.current=NT({window:i,v5Compat:!0}));let l=a.current,[d,f]=B.useState({action:l.action,location:l.location}),{v7_startTransition:p}=n||{},g=B.useCallback(_=>{p&&w0?w0(()=>f(_)):f(_)},[f,p]);return B.useLayoutEffect(()=>l.listen(g),[l,g]),B.useEffect(()=>TI(n),[n]),B.createElement(CI,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:l,future:n})}const LI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yt=B.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:d,target:f,to:p,preventScrollReset:g,viewTransition:_}=e,x=DI(e,AI),{basename:T}=B.useContext(Rs),P,M=!1;if(typeof p=="string"&&VI.test(p)&&(P=p,LI))try{let Q=new URL(window.location.href),ne=p.startsWith("//")?new URL(Q.protocol+p):new URL(p),se=Um(ne.pathname,T);ne.origin===Q.origin&&se!=null?p=se+ne.search+ne.hash:M=!0}catch{}let b=aI(p,{relative:i}),U=FI(p,{replace:l,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:_});function q(Q){n&&n(Q),Q.defaultPrevented||U(Q)}return B.createElement("a",tm({},x,{href:P||b,onClick:M||a?n:q,ref:t,target:f}))});var E0;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(E0||(E0={}));var x0;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(x0||(x0={}));function FI(r,e){let{target:t,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,f=Za(),p=Ja(),g=Yw(r,{relative:l});return B.useCallback(_=>{if(RI(_,t)){_.preventDefault();let x=n!==void 0?n:Hd(p)===Hd(g);f(r,{replace:x,state:i,preventScrollReset:a,relative:l,viewTransition:d})}},[p,f,g,n,i,t,r,a,l,d])}const jI=()=>{};var S0={};const Qw=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},UI=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=r[t++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=r[t++],l=r[t++],d=r[t++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[n++]=String.fromCharCode(55296+(f>>10)),e[n++]=String.fromCharCode(56320+(f&1023))}else{const a=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Gw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const a=r[i],l=i+1<r.length,d=l?r[i+1]:0,f=i+2<r.length,p=f?r[i+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let x=(d&15)<<2|p>>6,T=p&63;f||(T=64,l||(x=64)),n.push(t[g],t[_],t[x],t[T])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Qw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):UI(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const a=t[r.charAt(i++)],d=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const _=i<r.length?t[r.charAt(i)]:64;if(++i,a==null||d==null||p==null||_==null)throw new BI;const x=a<<2|d>>4;if(n.push(x),p!==64){const T=d<<4&240|p>>2;if(n.push(T),_!==64){const P=p<<6&192|_;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zI=function(r){const e=Qw(r);return Gw.encodeByteArray(e,!0)},Yd=function(r){return zI(r).replace(/\./g,"")},Xw=function(r){try{return Gw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HI=()=>WI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof S0>"u")return;const r=S0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$I=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Xw(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return jI()||HI()||YI()||$I()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jw=r=>bh()?.emulatorHosts?.[r],qI=r=>{const e=Jw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Zw=()=>bh()?.config,eE=r=>bh()?.[`_${r}`];class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function el(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(r){return(await fetch(r,{credentials:"include"})).ok}function QI(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yd(JSON.stringify(t)),Yd(JSON.stringify(l)),""].join(".")}const gc={};function GI(){const r={prod:[],emulator:[]};for(const e of Object.keys(gc))gc[e]?r.emulator.push(e):r.prod.push(e);return r}function XI(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let T0=!1;function nE(r,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||gc[r]===e||gc[r]||T0)return;gc[r]=e;function t(x){return`__firebase__banner__${x}`}const n="__firebase__banner",a=GI().prod.length>0;function l(){const x=document.getElementById(n);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function f(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{T0=!0,l()},x}function g(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function _(){const x=XI(n),T=t("text"),P=document.getElementById(T)||document.createElement("span"),M=t("learnmore"),b=document.getElementById(M)||document.createElement("a"),U=t("preprendIcon"),q=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const Q=x.element;d(Q),g(b,M);const ne=p();f(q,U),Q.append(q,P,b,ne),document.body.appendChild(Q)}a?(P.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function ZI(){const r=bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ek(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rk(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ik(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sk(){try{return typeof indexedDB=="object"}catch{return!1}}function ok(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}const ak="FirebaseError";class ki extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=ak,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?lk(a,n):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new ki(i,d,n)}}function lk(r,e){return r.replace(ck,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const ck=/\{\$([^}]+)}/g;function uk(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _o(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const a=r[i],l=e[i];if(I0(a)&&I0(l)){if(!_o(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function I0(r){return r!==null&&typeof r=="object"}function Vc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function cc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function uc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function dk(r,e){const t=new hk(r,e);return t.subscribe.bind(t)}class hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");fk(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Rp),i.error===void 0&&(i.error=Rp),i.complete===void 0&&(i.complete=Rp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fk(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Rp(){}function Qt(r){return r&&r._delegate?r._delegate:r}class wo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class pk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new KI;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gk(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);n===d&&l.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mk(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mk(r){return r===ao?void 0:r}function gk(r){return r.instantiationMode==="EAGER"}class yk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const vk={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},_k=Ue.INFO,wk={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Ek=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=wk[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=_k,this._logHandler=Ek,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const xk=(r,e)=>e.some(t=>r instanceof t);let k0,C0;function Sk(){return k0||(k0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tk(){return C0||(C0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,nm=new WeakMap,iE=new WeakMap,Ap=new WeakMap,Ym=new WeakMap;function Ik(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",a),r.removeEventListener("error",l)},a=()=>{t(ps(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",a),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&rE.set(t,r)}).catch(()=>{}),Ym.set(e,r),e}function kk(r){if(nm.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",l),r.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",a),r.addEventListener("error",l),r.addEventListener("abort",l)});nm.set(r,e)}let rm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ps(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Ck(r){rm=r(rm)}function bk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Np(this),e,...t);return iE.set(n,e.sort?e.sort():[e]),ps(n)}:Tk().includes(r)?function(...e){return r.apply(Np(this),e),ps(rE.get(this))}:function(...e){return ps(r.apply(Np(this),e))}}function Dk(r){return typeof r=="function"?bk(r):(r instanceof IDBTransaction&&kk(r),xk(r,Sk())?new Proxy(r,rm):r)}function ps(r){if(r instanceof IDBRequest)return Ik(r);if(Ap.has(r))return Ap.get(r);const e=Dk(r);return e!==r&&(Ap.set(r,e),Ym.set(e,r)),e}const Np=r=>Ym.get(r);function Pk(r,e,{blocked:t,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(r,e),d=ps(l);return n&&l.addEventListener("upgradeneeded",f=>{n(ps(l.result),f.oldVersion,f.newVersion,ps(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const Rk=["get","getKey","getAll","getAllKeys","count"],Ak=["put","add","delete","clear"],Mp=new Map;function b0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mp.get(e))return Mp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Ak.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Rk.includes(t)))return;const a=async function(l,...d){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return n&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),i&&f.done]))[0]};return Mp.set(e,a),a}Ck(r=>({...r,get:(e,t,n)=>b0(e,t)||r.get(e,t,n),has:(e,t)=>!!b0(e,t)||r.has(e,t)}));class Nk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Mk(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function Mk(r){return r.getComponent()?.type==="VERSION"}const im="@firebase/app",D0="0.14.6";const wi=new Hm("@firebase/app"),Ok="@firebase/app-compat",Lk="@firebase/analytics-compat",Vk="@firebase/analytics",Fk="@firebase/app-check-compat",jk="@firebase/app-check",Uk="@firebase/auth",Bk="@firebase/auth-compat",zk="@firebase/database",Wk="@firebase/data-connect",Hk="@firebase/database-compat",Yk="@firebase/functions",$k="@firebase/functions-compat",qk="@firebase/installations",Kk="@firebase/installations-compat",Qk="@firebase/messaging",Gk="@firebase/messaging-compat",Xk="@firebase/performance",Jk="@firebase/performance-compat",Zk="@firebase/remote-config",eC="@firebase/remote-config-compat",tC="@firebase/storage",nC="@firebase/storage-compat",rC="@firebase/firestore",iC="@firebase/ai",sC="@firebase/firestore-compat",oC="firebase",aC="12.6.0";const sm="[DEFAULT]",lC={[im]:"fire-core",[Ok]:"fire-core-compat",[Vk]:"fire-analytics",[Lk]:"fire-analytics-compat",[jk]:"fire-app-check",[Fk]:"fire-app-check-compat",[Uk]:"fire-auth",[Bk]:"fire-auth-compat",[zk]:"fire-rtdb",[Wk]:"fire-data-connect",[Hk]:"fire-rtdb-compat",[Yk]:"fire-fn",[$k]:"fire-fn-compat",[qk]:"fire-iid",[Kk]:"fire-iid-compat",[Qk]:"fire-fcm",[Gk]:"fire-fcm-compat",[Xk]:"fire-perf",[Jk]:"fire-perf-compat",[Zk]:"fire-rc",[eC]:"fire-rc-compat",[tC]:"fire-gcs",[nC]:"fire-gcs-compat",[rC]:"fire-fst",[sC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[oC]:"fire-js-all"};const $d=new Map,cC=new Map,om=new Map;function P0(r,e){try{r.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Oa(r){const e=r.name;if(om.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,r);for(const t of $d.values())P0(t,r);for(const t of cC.values())P0(t,r);return!0}function $m(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new Lc("app","Firebase",uC);class dC{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}const tl=aC;function sE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:sm,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw ms.create("bad-app-name",{appName:String(i)});if(t||(t=Zw()),!t)throw ms.create("no-options");const a=$d.get(i);if(a){if(_o(t,a.options)&&_o(n,a.config))return a;throw ms.create("duplicate-app",{appName:i})}const l=new yk(i);for(const f of om.values())l.addComponent(f);const d=new dC(t,n,l);return $d.set(i,d),d}function oE(r=sm){const e=$d.get(r);if(!e&&r===sm&&Zw())return sE();if(!e)throw ms.create("no-app",{appName:r});return e}function gs(r,e,t){let n=lC[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(l.join(" "));return}Oa(new wo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const hC="firebase-heartbeat-database",fC=1,kc="firebase-heartbeat-store";let Op=null;function aE(){return Op||(Op=Pk(hC,fC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kc)}catch(t){console.warn(t)}}}}).catch(r=>{throw ms.create("idb-open",{originalErrorMessage:r.message})})),Op}async function pC(r){try{const t=(await aE()).transaction(kc),n=await t.objectStore(kc).get(lE(r));return await t.done,n}catch(e){if(e instanceof ki)wi.warn(e.message);else{const t=ms.create("idb-get",{originalErrorMessage:e?.message});wi.warn(t.message)}}}async function R0(r,e){try{const n=(await aE()).transaction(kc,"readwrite");await n.objectStore(kc).put(e,lE(r)),await n.done}catch(t){if(t instanceof ki)wi.warn(t.message);else{const n=ms.create("idb-set",{originalErrorMessage:t?.message});wi.warn(n.message)}}}function lE(r){return`${r.name}!${r.options.appId}`}const mC=1024,gC=30;class yC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _C(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=A0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>gC){const i=wC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=A0(),{heartbeatsToSend:t,unsentEntries:n}=vC(this._heartbeatsCache.heartbeats),i=Yd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return wi.warn(e),""}}}function A0(){return new Date().toISOString().substring(0,10)}function vC(r,e=mC){const t=[];let n=r.slice();for(const i of r){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),N0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),N0(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class _C{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sk()?ok().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function N0(r){return Yd(JSON.stringify({version:2,heartbeats:r})).length}function wC(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}function EC(r){Oa(new wo("platform-logger",e=>new Nk(e),"PRIVATE")),Oa(new wo("heartbeat",e=>new yC(e),"PRIVATE")),gs(im,D0,r),gs(im,D0,"esm2020"),gs("fire-js","")}EC("");function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xC=cE,uE=new Lc("auth","Firebase",cE());const qd=new Hm("@firebase/auth");function SC(r,...e){qd.logLevel<=Ue.WARN&&qd.warn(`Auth (${tl}): ${r}`,...e)}function bd(r,...e){qd.logLevel<=Ue.ERROR&&qd.error(`Auth (${tl}): ${r}`,...e)}function Yn(r,...e){throw Km(r,...e)}function sr(r,...e){return Km(r,...e)}function qm(r,e,t){const n={...xC(),[e]:t};return new Lc("auth","Firebase",n).create(e,{appName:r.name})}function pi(r){return qm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TC(r,e,t){const n=t;if(!(e instanceof n))throw n.name!==e.constructor.name&&Yn(r,"argument-error"),qm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return uE.create(r,...e)}function ke(r,e,...t){if(!r)throw Km(e,...t)}function di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw bd(e),new Error(e)}function Ei(r,e){r||di(e)}function am(){return typeof self<"u"&&self.location?.href||""}function IC(){return M0()==="http:"||M0()==="https:"}function M0(){return typeof self<"u"&&self.location?.protocol||null}function kC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IC()||tk()||"connection"in navigator)?navigator.onLine:!0}function CC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nk()}get(){return kC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qm(r,e){Ei(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dE{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PC=new Fc(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ci(r,e,t,n,i={}){return hE(r,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const d=Vc({key:r.config.apiKey,...l}).slice(1),f=await r._getAdditionalHeaders();f["Content-Type"]="application/json",r.languageCode&&(f["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:f,...a};return ek()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&el(r.emulatorConfig.host)&&(p.credentials="include"),dE.fetch()(await fE(r,r.config.apiHost,t,d),p)})}async function hE(r,e,t){r._canInitEmulator=!1;const n={...bC,...e};try{const i=new AC(r),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw md(r,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(r,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw md(r,"email-already-in-use",l);if(f==="USER_DISABLED")throw md(r,"user-disabled",l);const g=n[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qm(r,g,p);Yn(r,g)}}catch(i){if(i instanceof ki)throw i;Yn(r,"network-request-failed",{message:String(i)})}}async function jc(r,e,t,n,i={}){const a=await Ci(r,e,t,n,i);return"mfaPendingCredential"in a&&Yn(r,"multi-factor-auth-required",{_serverResponse:a}),a}async function fE(r,e,t,n){const i=`${e}${t}?${n}`,a=r,l=a.config.emulator?Qm(r.config,i):`${r.config.apiScheme}://${i}`;return DC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function RC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(sr(this.auth,"network-request-failed")),PC.get())})}}function md(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=sr(r,e,n);return i.customData._tokenResponse=t,i}function O0(r){return r!==void 0&&r.enterprise!==void 0}class NC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return RC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MC(r,e){return Ci(r,"GET","/v2/recaptchaConfig",As(r,e))}async function OC(r,e){return Ci(r,"POST","/v1/accounts:delete",e)}async function Kd(r,e){return Ci(r,"POST","/v1/accounts:lookup",e)}function yc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LC(r,e=!1){const t=Qt(r),n=await t.getIdToken(e),i=Gm(n);ke(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:n,authTime:yc(Lp(i.auth_time)),issuedAtTime:yc(Lp(i.iat)),expirationTime:yc(Lp(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Lp(r){return Number(r)*1e3}function Gm(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xw(t);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function L0(r){const e=Gm(r);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function La(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ki&&VC(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function VC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class FC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class lm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qd(r){const e=r.auth,t=await r.getIdToken(),n=await La(r,Kd(e,{idToken:t}));ke(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const a=i.providerUserInfo?.length?pE(i.providerUserInfo):[],l=UC(r.providerData,a),d=r.isAnonymous,f=!(r.email&&i.passwordHash)&&!l?.length,p=d?f:!1,g={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new lm(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(r,g)}async function jC(r){const e=Qt(r);await Qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UC(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function pE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function BC(r,e){const t=await hE(r,{},async()=>{const n=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=r.config,l=await fE(r,i,"/v1/token",`key=${a}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:n};return r.emulatorConfig&&el(r.emulatorConfig.host)&&(f.credentials="include"),dE.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zC(r,e){return Ci(r,"POST","/v2/accounts:revokeToken",As(r,e))}class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const t=L0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:a}=await BC(e,t);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:a}=t,l=new ba;return n&&(ke(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(ke(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return di("not implemented")}}function ss(r,e){ke(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new FC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new lm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await La(this,this.stsTokenManager.getToken(this.auth,e));return ke(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LC(this,e)}reload(){return jC(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Qd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(pi(this.auth));const e=await this.getIdToken();return await La(this,OC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:x,isAnonymous:T,providerData:P,stsTokenManager:M}=t;ke(_&&M,e,"internal-error");const b=ba.fromJSON(this.name,M);ke(typeof _=="string",e,"internal-error"),ss(n,e.name),ss(i,e.name),ke(typeof x=="boolean",e,"internal-error"),ke(typeof T=="boolean",e,"internal-error"),ss(a,e.name),ss(l,e.name),ss(d,e.name),ss(f,e.name),ss(p,e.name),ss(g,e.name);const U=new rr({uid:_,auth:e,email:i,emailVerified:x,displayName:n,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:d,stsTokenManager:b,createdAt:p,lastLoginAt:g});return P&&Array.isArray(P)&&(U.providerData=P.map(q=>({...q}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(e,t,n=!1){const i=new ba;i.updateFromServerResponse(t);const a=new rr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Qd(a),a}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];ke(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?pE(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,d=new ba;d.updateFromIdToken(n);const f=new rr({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new lm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const V0=new Map;function hi(r){Ei(r instanceof Function,"Expected a class definition");let e=V0.get(r);return e?(Ei(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,V0.set(r,e),e)}class mE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}mE.type="NONE";const F0=mE;function Dd(r,e,t){return`firebase:${r}:${e}:${t}`}class Da{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Dd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kd(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Da(hi(F0),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||hi(F0);const l=Dd(n,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const x=await Kd(e,{idToken:g}).catch(()=>{});if(!x)break;_=await rr._fromGetAccountInfoResponse(e,x,g)}else _=rr._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Da(a,e,n):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Da(a,e,n))}}function j0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EE(e))return"Blackberry";if(xE(e))return"Webos";if(yE(e))return"Safari";if((e.includes("chrome/")||vE(e))&&!e.includes("edge/"))return"Chrome";if(wE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function gE(r=ln()){return/firefox\//i.test(r)}function yE(r=ln()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vE(r=ln()){return/crios\//i.test(r)}function _E(r=ln()){return/iemobile/i.test(r)}function wE(r=ln()){return/android/i.test(r)}function EE(r=ln()){return/blackberry/i.test(r)}function xE(r=ln()){return/webos/i.test(r)}function Xm(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WC(r=ln()){return Xm(r)&&!!window.navigator?.standalone}function HC(){return rk()&&document.documentMode===10}function SE(r=ln()){return Xm(r)||wE(r)||xE(r)||EE(r)||/windows phone/i.test(r)||_E(r)}function TE(r,e=[]){let t;switch(r){case"Browser":t=j0(ln());break;case"Worker":t=`${j0(ln())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${tl}/${n}`}class YC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function $C(r,e={}){return Ci(r,"GET","/v2/passwordPolicy",As(r,e))}const qC=6;class KC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??qC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class QC{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new YC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Da.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kd(this,{idToken:e}),n=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=n?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===l)&&d?.user&&(n=d.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Qd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(pi(this));const t=e?Qt(e):null;return t&&ke(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $C(this),t=new KC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await zC(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;ke(t,this,"argument-error"),this.redirectPersistenceManager=await Da.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,n,i);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ns(r){return Qt(r)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dk(t=>this.observer=t)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GC(r){Dh=r}function IE(r){return Dh.loadJS(r)}function XC(){return Dh.recaptchaEnterpriseScript}function JC(){return Dh.gapiScript}function ZC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eb{constructor(){this.enterprise=new tb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nb="recaptcha-enterprise",kE="NO_RECAPTCHA";class rb{constructor(e){this.type=nb,this.auth=Ns(e)}async verify(e="verify",t=!1){async function n(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{MC(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new NC(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{d(f)})})}function i(a,l,d){const f=window.grecaptcha;O0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(kE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eb().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(d=>{if(!t&&O0(window.grecaptcha))i(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XC();f.length!==0&&(f+=d),IE(f).then(()=>{i(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function B0(r,e,t,n=!1,i=!1){const a=new rb(r);let l;if(i)l=kE;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return n?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function cm(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B0(r,e,t,t==="getOobCode");return n(r,a)}else return n(r,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await B0(r,e,t,t==="getOobCode");return n(r,l)}else return Promise.reject(a)})}function ib(r,e){const t=$m(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(_o(a,e??{}))return i;Yn(i,"already-initialized")}return t.initialize({options:e})}function sb(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(hi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function ob(r,e,t){const n=Ns(r);ke(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=CE(e),{host:l,port:d}=ab(e),f=d===null?"":`:${d}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ke(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ke(_o(p,n.config.emulator)&&_o(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=p,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,el(l)?(tE(`${a}//${l}${f}`),nE("Auth",!0)):lb()}function CE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ab(r){const e=CE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:z0(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:z0(l)}}}function z0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lb(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Jm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}async function cb(r,e){return Ci(r,"POST","/v1/accounts:signUp",e)}async function ub(r,e){return jc(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}async function db(r,e){return jc(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function hb(r,e){return jc(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}class Cc extends Jm{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Cc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Cc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,t,"signInWithPassword",ub);case"emailLink":return db(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cm(e,n,"signUpPassword",cb);case"emailLink":return hb(e,{idToken:t,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Pa(r,e){return jc(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}const fb="http://localhost";class Eo extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=t;if(!n||!i)return null;const l=new Eo(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Pa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Pa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Pa(e,t)}buildRequest(){const e={requestUri:fb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vc(t)}return e}}function pb(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mb(r){const e=cc(uc(r)).link,t=e?cc(uc(e)).deep_link_id:null,n=cc(uc(r)).deep_link_id;return(n?cc(uc(n)).link:null)||n||t||e||r}class Zm{constructor(e){const t=cc(uc(e)),n=t.apiKey??null,i=t.oobCode??null,a=pb(t.mode??null);ke(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=mb(e);try{return new Zm(t)}catch{return null}}}class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,t){return Cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Zm.parseLink(t);return ke(n,"argument-error"),Cc._fromEmailAndCode(e,n.code,n.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Uc extends eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class as extends Uc{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";class ui extends Uc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Eo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ui.credential(t,n)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";class ls extends Uc{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";class cs extends Uc{constructor(){super("twitter.com")}static credential(e,t){return Eo._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return cs.credential(t,n)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";async function gb(r,e){return jc(r,"POST","/v1/accounts:signUp",As(r,e))}class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const a=await rr._fromIdTokenResponse(e,n,i),l=W0(n);return new xo({user:a,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=W0(n);return new xo({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function W0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Gd extends ki{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Gd(e,t,n,i)}}function bE(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(r,a,e,n):a})}async function yb(r,e,t=!1){const n=await La(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return xo._forOperation(r,"link",n)}async function vb(r,e,t=!1){const{auth:n}=r;if(An(n.app))return Promise.reject(pi(n));const i="reauthenticate";try{const a=await La(r,bE(n,i,e,r),t);ke(a.idToken,n,"internal-error");const l=Gm(a.idToken);ke(l,n,"internal-error");const{sub:d}=l;return ke(r.uid===d,n,"user-mismatch"),xo._forOperation(r,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Yn(n,"user-mismatch"),a}}async function DE(r,e,t=!1){if(An(r.app))return Promise.reject(pi(r));const n="signIn",i=await bE(r,n,e),a=await xo._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(a.user),a}async function _b(r,e){return DE(Ns(r),e)}async function PE(r){const e=Ns(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wb(r,e,t){if(An(r.app))return Promise.reject(pi(r));const n=Ns(r),l=await cm(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gb).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&PE(r),f}),d=await xo._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(d.user),d}function Eb(r,e,t){return An(r.app)?Promise.reject(pi(r)):_b(Qt(r),nl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&PE(r),n})}async function xb(r,e){return Ci(r,"POST","/v1/accounts:update",e)}async function Sb(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Qt(r),a={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await La(n,xb(n.auth,a));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const d=n.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=n.displayName,d.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function Tb(r,e,t,n){return Qt(r).onIdTokenChanged(e,t,n)}function Ib(r,e,t){return Qt(r).beforeAuthStateChanged(e,t)}function kb(r,e,t,n){return Qt(r).onAuthStateChanged(e,t,n)}function Cb(r){return Qt(r).signOut()}const Xd="__sak";class RE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bb=1e3,Db=10;class AE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);HC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Db):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AE.type="LOCAL";const Pb=AE;class NE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NE.type="SESSION";const ME=NE;function Rb(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Ph(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const d=Array.from(l).map(async p=>p(t.origin,a)),f=await Rb(d);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function tg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}class Ab{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const p=tg("",20);i.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(_){const x=_;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(x.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Lr(){return window}function Nb(r){Lr().location.href=r}function OE(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function Mb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ob(){return navigator?.serviceWorker?.controller||null}function Lb(){return OE()?self:null}const LE="firebaseLocalStorageDb",Vb=1,Jd="firebaseLocalStorage",VE="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rh(r,e){return r.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function Fb(){const r=indexedDB.deleteDatabase(LE);return new Bc(r).toPromise()}function um(){const r=indexedDB.open(LE,Vb);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Jd,{keyPath:VE})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(Jd)?e(n):(n.close(),await Fb(),e(await um()))})})}async function H0(r,e,t){const n=Rh(r,!0).put({[VE]:e,value:t});return new Bc(n).toPromise()}async function jb(r,e){const t=Rh(r,!1).get(e),n=await new Bc(t).toPromise();return n===void 0?null:n.value}function Y0(r,e){const t=Rh(r,!0).delete(e);return new Bc(t).toPromise()}const Ub=800,Bb=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>Bb)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(Lb()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Mb(),!this.activeServiceWorker)return;this.sender=new Ab(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ob()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await H0(e,Xd,"1"),await Y0(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>H0(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>jb(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Rh(i,!1).getAll();return new Bc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ub)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const zb=FE;new Fc(3e4,6e4);function jE(r,e){return e?hi(e):(ke(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ng extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Pa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Wb(r){return DE(r.auth,new ng(r),r.bypassAuthState)}function Hb(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),vb(t,new ng(r),r.bypassAuthState)}async function Yb(r){const{auth:e,user:t}=r;return ke(t,e,"internal-error"),yb(t,new ng(r),r.bypassAuthState)}class UE{constructor(e,t,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wb;case"linkViaPopup":case"linkViaRedirect":return Yb;case"reauthViaPopup":case"reauthViaRedirect":return Hb;default:Yn(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $b=new Fc(2e3,1e4);async function qb(r,e,t){if(An(r.app))return Promise.reject(sr(r,"operation-not-supported-in-this-environment"));const n=Ns(r);TC(r,e,eg);const i=jE(n,t);return new uo(n,"signInViaPopup",e,i).executeNotNull()}class uo extends UE{constructor(e,t,n,i,a){super(e,t,i,a),this.provider=n,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$b.get())};e()}}uo.currentPopupAction=null;const Kb="pendingRedirect",Pd=new Map;class Qb extends UE{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const n=await Gb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Gb(r,e){const t=Zb(e),n=Jb(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function Xb(r,e){Pd.set(r._key(),e)}function Jb(r){return hi(r._redirectPersistence)}function Zb(r){return Dd(Kb,r.config.apiKey,r.name)}async function eD(r,e,t=!1){if(An(r.app))return Promise.reject(pi(r));const n=Ns(r),i=jE(n,e),l=await new Qb(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}const tD=600*1e3;class nD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!BE(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(sr(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tD&&this.cachedEventUids.clear(),this.cachedEventUids.has($0(e))}saveEventToCache(e){this.cachedEventUids.add($0(e)),this.lastProcessedEventTime=Date.now()}}function $0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function BE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function rD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(r);default:return!1}}async function iD(r,e={}){return Ci(r,"GET","/v1/projects",e)}const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;async function aD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await iD(r);for(const t of e)try{if(lD(t))return}catch{}Yn(r,"unauthorized-domain")}function lD(r){const e=am(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!oD.test(t))return!1;if(sD.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const cD=new Fc(3e4,6e4);function q0(){const r=Lr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function uD(r){return new Promise((e,t)=>{function n(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),t(sr(r,"network-request-failed"))},timeout:cD.get()})}if(Lr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lr().gapi?.load)n();else{const i=ZC("iframefcb");return Lr()[i]=()=>{gapi.load?n():t(sr(r,"network-request-failed"))},IE(`${JC()}?onload=${i}`).catch(a=>t(a))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function dD(r){return Rd=Rd||uD(r),Rd}const hD=new Fc(5e3,15e3),fD="__/auth/iframe",pD="emulator/auth/iframe",mD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yD(r){const e=r.config;ke(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Qm(e,pD):`https://${r.config.authDomain}/${fD}`,n={apiKey:e.apiKey,appName:r.name,v:tl},i=gD.get(r.config.apiHost);i&&(n.eid=i);const a=r._getFrameworks();return a.length&&(n.fw=a.join(",")),`${t}?${Vc(n).slice(1)}`}async function vD(r){const e=await dD(r),t=Lr().gapi;return ke(t,r,"internal-error"),e.open({where:document.body,url:yD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mD,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=sr(r,"network-request-failed"),d=Lr().setTimeout(()=>{a(l)},hD.get());function f(){Lr().clearTimeout(d),i(n)}n.ping(f).then(f,()=>{a(l)})}))}const _D={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wD=500,ED=600,xD="_blank",SD="http://localhost";class K0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TD(r,e,t,n=wD,i=ED){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let d="";const f={..._D,width:n.toString(),height:i.toString(),top:a,left:l},p=ln().toLowerCase();t&&(d=vE(p)?xD:t),gE(p)&&(e=e||SD,f.scrollbars="yes");const g=Object.entries(f).reduce((x,[T,P])=>`${x}${T}=${P},`,"");if(WC(p)&&d!=="_self")return ID(e||"",d),new K0(null);const _=window.open(e||"",d,g);ke(_,r,"popup-blocked");try{_.focus()}catch{}return new K0(_)}function ID(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}const kD="__/auth/handler",CD="emulator/auth/handler",bD=encodeURIComponent("fac");async function Q0(r,e,t,n,i,a){ke(r.config.authDomain,r,"auth-domain-config-required"),ke(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:tl,eventId:i};if(e instanceof eg){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",uk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Uc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const d=l;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await r._getAppCheckToken(),p=f?`#${bD}=${encodeURIComponent(f)}`:"";return`${DD(r)}?${Vc(d).slice(1)}${p}`}function DD({config:r}){return r.emulator?Qm(r,CD):`https://${r.authDomain}/${kD}`}const Vp="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ME,this._completeRedirectFn=eD,this._overrideRedirectResult=Xb}async _openPopup(e,t,n,i){Ei(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Q0(e,t,n,am(),i);return TD(e,a,tg())}async _openRedirect(e,t,n,i){await this._originValidation(e);const a=await Q0(e,t,n,am(),i);return Nb(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Ei(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await vD(e),n=new nD(e);return t.register("authEvent",i=>(ke(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vp,{type:Vp},i=>{const a=i?.[0]?.[Vp];a!==void 0&&t(!!a),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return SE()||yE()||Xm()}}const RD=PD;var G0="@firebase/auth",X0="1.11.1";class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ND(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MD(r){Oa(new wo("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=n.options;ke(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const f={apiKey:l,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TE(r)},p=new QC(n,i,a,f);return sb(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Oa(new wo("auth-internal",e=>{const t=Ns(e.getProvider("auth").getImmediate());return(n=>new AD(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(G0,X0,ND(r)),gs(G0,X0,"esm2020")}const OD=300,LD=eE("authIdTokenMaxAge")||OD;let J0=null;const VD=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>LD)return;const i=t?.token;J0!==i&&(J0=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FD(r=oE()){const e=$m(r,"auth");if(e.isInitialized())return e.getImmediate();const t=ib(r,{popupRedirectResolver:RD,persistence:[zb,Pb,ME]}),n=eE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=VD(a.toString());Ib(t,l,()=>l(t.currentUser)),Tb(t,d=>l(d))}}const i=Jw("auth");return i&&ob(t,`http://${i}`),t}function jD(){return document.getElementsByTagName("head")?.[0]??document}GC({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const a=sr("internal-error");a.customData=i,t(a)},n.type="text/javascript",n.charset="UTF-8",jD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MD("Browser");var UD="firebase",BD="12.6.0";gs(UD,BD,"app");var Z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ys,zE;(function(){var r;function e(C,k){function D(){}D.prototype=k.prototype,C.F=k.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(N,O,V){for(var R=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)R[Ee-2]=arguments[Ee];return k.prototype[O].apply(N,R)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,D){D||(D=0);const N=Array(16);if(typeof k=="string")for(var O=0;O<16;++O)N[O]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(O=0;O<16;++O)N[O]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=C.g[0],D=C.g[1],O=C.g[2];let V=C.g[3],R;R=k+(V^D&(O^V))+N[0]+3614090360&4294967295,k=D+(R<<7&4294967295|R>>>25),R=V+(O^k&(D^O))+N[1]+3905402710&4294967295,V=k+(R<<12&4294967295|R>>>20),R=O+(D^V&(k^D))+N[2]+606105819&4294967295,O=V+(R<<17&4294967295|R>>>15),R=D+(k^O&(V^k))+N[3]+3250441966&4294967295,D=O+(R<<22&4294967295|R>>>10),R=k+(V^D&(O^V))+N[4]+4118548399&4294967295,k=D+(R<<7&4294967295|R>>>25),R=V+(O^k&(D^O))+N[5]+1200080426&4294967295,V=k+(R<<12&4294967295|R>>>20),R=O+(D^V&(k^D))+N[6]+2821735955&4294967295,O=V+(R<<17&4294967295|R>>>15),R=D+(k^O&(V^k))+N[7]+4249261313&4294967295,D=O+(R<<22&4294967295|R>>>10),R=k+(V^D&(O^V))+N[8]+1770035416&4294967295,k=D+(R<<7&4294967295|R>>>25),R=V+(O^k&(D^O))+N[9]+2336552879&4294967295,V=k+(R<<12&4294967295|R>>>20),R=O+(D^V&(k^D))+N[10]+4294925233&4294967295,O=V+(R<<17&4294967295|R>>>15),R=D+(k^O&(V^k))+N[11]+2304563134&4294967295,D=O+(R<<22&4294967295|R>>>10),R=k+(V^D&(O^V))+N[12]+1804603682&4294967295,k=D+(R<<7&4294967295|R>>>25),R=V+(O^k&(D^O))+N[13]+4254626195&4294967295,V=k+(R<<12&4294967295|R>>>20),R=O+(D^V&(k^D))+N[14]+2792965006&4294967295,O=V+(R<<17&4294967295|R>>>15),R=D+(k^O&(V^k))+N[15]+1236535329&4294967295,D=O+(R<<22&4294967295|R>>>10),R=k+(O^V&(D^O))+N[1]+4129170786&4294967295,k=D+(R<<5&4294967295|R>>>27),R=V+(D^O&(k^D))+N[6]+3225465664&4294967295,V=k+(R<<9&4294967295|R>>>23),R=O+(k^D&(V^k))+N[11]+643717713&4294967295,O=V+(R<<14&4294967295|R>>>18),R=D+(V^k&(O^V))+N[0]+3921069994&4294967295,D=O+(R<<20&4294967295|R>>>12),R=k+(O^V&(D^O))+N[5]+3593408605&4294967295,k=D+(R<<5&4294967295|R>>>27),R=V+(D^O&(k^D))+N[10]+38016083&4294967295,V=k+(R<<9&4294967295|R>>>23),R=O+(k^D&(V^k))+N[15]+3634488961&4294967295,O=V+(R<<14&4294967295|R>>>18),R=D+(V^k&(O^V))+N[4]+3889429448&4294967295,D=O+(R<<20&4294967295|R>>>12),R=k+(O^V&(D^O))+N[9]+568446438&4294967295,k=D+(R<<5&4294967295|R>>>27),R=V+(D^O&(k^D))+N[14]+3275163606&4294967295,V=k+(R<<9&4294967295|R>>>23),R=O+(k^D&(V^k))+N[3]+4107603335&4294967295,O=V+(R<<14&4294967295|R>>>18),R=D+(V^k&(O^V))+N[8]+1163531501&4294967295,D=O+(R<<20&4294967295|R>>>12),R=k+(O^V&(D^O))+N[13]+2850285829&4294967295,k=D+(R<<5&4294967295|R>>>27),R=V+(D^O&(k^D))+N[2]+4243563512&4294967295,V=k+(R<<9&4294967295|R>>>23),R=O+(k^D&(V^k))+N[7]+1735328473&4294967295,O=V+(R<<14&4294967295|R>>>18),R=D+(V^k&(O^V))+N[12]+2368359562&4294967295,D=O+(R<<20&4294967295|R>>>12),R=k+(D^O^V)+N[5]+4294588738&4294967295,k=D+(R<<4&4294967295|R>>>28),R=V+(k^D^O)+N[8]+2272392833&4294967295,V=k+(R<<11&4294967295|R>>>21),R=O+(V^k^D)+N[11]+1839030562&4294967295,O=V+(R<<16&4294967295|R>>>16),R=D+(O^V^k)+N[14]+4259657740&4294967295,D=O+(R<<23&4294967295|R>>>9),R=k+(D^O^V)+N[1]+2763975236&4294967295,k=D+(R<<4&4294967295|R>>>28),R=V+(k^D^O)+N[4]+1272893353&4294967295,V=k+(R<<11&4294967295|R>>>21),R=O+(V^k^D)+N[7]+4139469664&4294967295,O=V+(R<<16&4294967295|R>>>16),R=D+(O^V^k)+N[10]+3200236656&4294967295,D=O+(R<<23&4294967295|R>>>9),R=k+(D^O^V)+N[13]+681279174&4294967295,k=D+(R<<4&4294967295|R>>>28),R=V+(k^D^O)+N[0]+3936430074&4294967295,V=k+(R<<11&4294967295|R>>>21),R=O+(V^k^D)+N[3]+3572445317&4294967295,O=V+(R<<16&4294967295|R>>>16),R=D+(O^V^k)+N[6]+76029189&4294967295,D=O+(R<<23&4294967295|R>>>9),R=k+(D^O^V)+N[9]+3654602809&4294967295,k=D+(R<<4&4294967295|R>>>28),R=V+(k^D^O)+N[12]+3873151461&4294967295,V=k+(R<<11&4294967295|R>>>21),R=O+(V^k^D)+N[15]+530742520&4294967295,O=V+(R<<16&4294967295|R>>>16),R=D+(O^V^k)+N[2]+3299628645&4294967295,D=O+(R<<23&4294967295|R>>>9),R=k+(O^(D|~V))+N[0]+4096336452&4294967295,k=D+(R<<6&4294967295|R>>>26),R=V+(D^(k|~O))+N[7]+1126891415&4294967295,V=k+(R<<10&4294967295|R>>>22),R=O+(k^(V|~D))+N[14]+2878612391&4294967295,O=V+(R<<15&4294967295|R>>>17),R=D+(V^(O|~k))+N[5]+4237533241&4294967295,D=O+(R<<21&4294967295|R>>>11),R=k+(O^(D|~V))+N[12]+1700485571&4294967295,k=D+(R<<6&4294967295|R>>>26),R=V+(D^(k|~O))+N[3]+2399980690&4294967295,V=k+(R<<10&4294967295|R>>>22),R=O+(k^(V|~D))+N[10]+4293915773&4294967295,O=V+(R<<15&4294967295|R>>>17),R=D+(V^(O|~k))+N[1]+2240044497&4294967295,D=O+(R<<21&4294967295|R>>>11),R=k+(O^(D|~V))+N[8]+1873313359&4294967295,k=D+(R<<6&4294967295|R>>>26),R=V+(D^(k|~O))+N[15]+4264355552&4294967295,V=k+(R<<10&4294967295|R>>>22),R=O+(k^(V|~D))+N[6]+2734768916&4294967295,O=V+(R<<15&4294967295|R>>>17),R=D+(V^(O|~k))+N[13]+1309151649&4294967295,D=O+(R<<21&4294967295|R>>>11),R=k+(O^(D|~V))+N[4]+4149444226&4294967295,k=D+(R<<6&4294967295|R>>>26),R=V+(D^(k|~O))+N[11]+3174756917&4294967295,V=k+(R<<10&4294967295|R>>>22),R=O+(k^(V|~D))+N[2]+718787259&4294967295,O=V+(R<<15&4294967295|R>>>17),R=D+(V^(O|~k))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+V&4294967295}n.prototype.v=function(C,k){k===void 0&&(k=C.length);const D=k-this.blockSize,N=this.C;let O=this.h,V=0;for(;V<k;){if(O==0)for(;V<=D;)i(this,C,V),V+=this.blockSize;if(typeof C=="string"){for(;V<k;)if(N[O++]=C.charCodeAt(V++),O==this.blockSize){i(this,N),O=0;break}}else for(;V<k;)if(N[O++]=C[V++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=k},n.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)C[k++]=this.g[D]>>>N&255;return C};function a(C,k){var D=d;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=k(C)}function l(C,k){this.h=k;const D=[];let N=!0;for(let O=C.length-1;O>=0;O--){const V=C[O]|0;N&&V==k||(D[O]=V,N=!1)}this.g=D}var d={};function f(C){return-128<=C&&C<128?a(C,function(k){return new l([k|0],k<0?-1:0)}):new l([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return _;if(C<0)return b(p(-C));const k=[];let D=1;for(let N=0;C>=D;N++)k[N]=C/D|0,D*=4294967296;return new l(k,0)}function g(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return b(g(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(k,8));let N=_;for(let V=0;V<C.length;V+=8){var O=Math.min(8,C.length-V);const R=parseInt(C.substring(V,V+O),k);O<8?(O=p(Math.pow(k,O)),N=N.j(O).add(p(R))):(N=N.j(D),N=N.add(p(R)))}return N}var _=f(0),x=f(1),T=f(16777216);r=l.prototype,r.m=function(){if(M(this))return-b(this).m();let C=0,k=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);C+=(N>=0?N:4294967296+N)*k,k*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(M(this))return"-"+b(this).toString(C);const k=p(Math.pow(C,6));var D=this;let N="";for(;;){const O=ne(D,k).g;D=U(D,O.j(k));let V=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=O,P(D))return V+N;for(;V.length<6;)V="0"+V;N=V+N}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function M(C){return C.h==-1}r.l=function(C){return C=U(this,C),M(C)?-1:P(C)?0:1};function b(C){const k=C.g.length,D=[];for(let N=0;N<k;N++)D[N]=~C.g[N];return new l(D,~C.h).add(x)}r.abs=function(){return M(this)?b(this):this},r.add=function(C){const k=Math.max(this.g.length,C.g.length),D=[];let N=0;for(let O=0;O<=k;O++){let V=N+(this.i(O)&65535)+(C.i(O)&65535),R=(V>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);N=R>>>16,V&=65535,R&=65535,D[O]=R<<16|V}return new l(D,D[D.length-1]&-2147483648?-1:0)};function U(C,k){return C.add(b(k))}r.j=function(C){if(P(this)||P(C))return _;if(M(this))return M(C)?b(this).j(b(C)):b(b(this).j(C));if(M(C))return b(this.j(b(C)));if(this.l(T)<0&&C.l(T)<0)return p(this.m()*C.m());const k=this.g.length+C.g.length,D=[];for(var N=0;N<2*k;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let O=0;O<C.g.length;O++){const V=this.i(N)>>>16,R=this.i(N)&65535,Ee=C.i(O)>>>16,Ie=C.i(O)&65535;D[2*N+2*O]+=R*Ie,q(D,2*N+2*O),D[2*N+2*O+1]+=V*Ie,q(D,2*N+2*O+1),D[2*N+2*O+1]+=R*Ee,q(D,2*N+2*O+1),D[2*N+2*O+2]+=V*Ee,q(D,2*N+2*O+2)}for(C=0;C<k;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=k;C<2*k;C++)D[C]=0;return new l(D,0)};function q(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function Q(C,k){this.g=C,this.h=k}function ne(C,k){if(P(k))throw Error("division by zero");if(P(C))return new Q(_,_);if(M(C))return k=ne(b(C),k),new Q(b(k.g),b(k.h));if(M(k))return k=ne(C,b(k)),new Q(b(k.g),k.h);if(C.g.length>30){if(M(C)||M(k))throw Error("slowDivide_ only works with positive integers.");for(var D=x,N=k;N.l(C)<=0;)D=se(D),N=se(N);var O=ce(D,1),V=ce(N,1);for(N=ce(N,2),D=ce(D,2);!P(N);){var R=V.add(N);R.l(C)<=0&&(O=O.add(D),V=R),N=ce(N,1),D=ce(D,1)}return k=U(C,O.j(k)),new Q(O,k)}for(O=_;C.l(k)>=0;){for(D=Math.max(1,Math.floor(C.m()/k.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),V=p(D),R=V.j(k);M(R)||R.l(C)>0;)D-=N,V=p(D),R=V.j(k);P(V)&&(V=x),O=O.add(V),C=U(C,R)}return new Q(O,C)}r.B=function(C){return ne(this,C).h},r.and=function(C){const k=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<k;N++)D[N]=this.i(N)&C.i(N);return new l(D,this.h&C.h)},r.or=function(C){const k=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<k;N++)D[N]=this.i(N)|C.i(N);return new l(D,this.h|C.h)},r.xor=function(C){const k=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<k;N++)D[N]=this.i(N)^C.i(N);return new l(D,this.h^C.h)};function se(C){const k=C.g.length+1,D=[];for(let N=0;N<k;N++)D[N]=C.i(N)<<1|C.i(N-1)>>>31;return new l(D,C.h)}function ce(C,k){const D=k>>5;k%=32;const N=C.g.length-D,O=[];for(let V=0;V<N;V++)O[V]=k>0?C.i(V+D)>>>k|C.i(V+D+1)<<32-k:C.i(V+D);return new l(O,C.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,zE=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ys=l}).apply(typeof Z0<"u"?Z0:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WE,dc,HE,Ad,dm,YE,$E,qE;(function(){var r,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var v=0;v<u.length;++v){var w=u[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var n=t(this);function i(u,v){if(v)e:{var w=n;u=u.split(".");for(var I=0;I<u.length-1;I++){var W=u[I];if(!(W in w))break e;w=w[W]}u=u[u.length-1],I=w[u],v=v(I),v!=I&&v!=null&&e(w,u,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(v){var w=[],I;for(I in v)Object.prototype.hasOwnProperty.call(v,I)&&w.push([I,v[I]]);return w}});var a=a||{},l=this||self;function d(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function f(u,v,w){return u.call.apply(u.bind,arguments)}function p(u,v,w){return p=f,p.apply(null,arguments)}function g(u,v){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function _(u,v){function w(){}w.prototype=v.prototype,u.Z=v.prototype,u.prototype=new w,u.prototype.constructor=u,u.Ob=function(I,W,$){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return v.prototype[W].apply(I,oe)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function T(u){const v=u.length;if(v>0){const w=Array(v);for(let I=0;I<v;I++)w[I]=u[I];return w}return[]}function P(u,v){for(let I=1;I<arguments.length;I++){const W=arguments[I];var w=typeof W;if(w=w!="object"?w:W?Array.isArray(W)?"array":w:"null",w=="array"||w=="object"&&typeof W.length=="number"){w=u.length||0;const $=W.length||0;u.length=w+$;for(let oe=0;oe<$;oe++)u[w+oe]=W[oe]}else u.push(W)}}class M{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(u){l.setTimeout(()=>{throw u},0)}function U(){var u=C;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,w){const I=Q.get();I.set(v,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Q=new M(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,C=new q,k=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(D)}};function D(){for(var u;u=U();){try{u.h.call(u.g)}catch(w){b(w)}var v=Q;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}ce=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};l.addEventListener("test",w,v),l.removeEventListener("test",w,v)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ee(u,v){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}_(Ee,O),Ee.prototype.init=function(u,v){const w=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(w=="mouseover"?v=u.fromElement:w=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ee.Z.h.call(this)},Ee.prototype.h=function(){Ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),he=0;function ge(u,v,w,I,W){this.listener=u,this.proxy=null,this.src=v,this.type=w,this.capture=!!I,this.ha=W,this.key=++he,this.da=this.fa=!1}function G(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u,v,w){for(const I in u)v.call(w,u[I],I,u)}function ae(u,v){for(const w in u)v.call(void 0,u[w],w,u)}function j(u){const v={};for(const w in u)v[w]=u[w];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ae(u,v){let w,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(w in I)u[w]=I[w];for(let $=0;$<Z.length;$++)w=Z[$],Object.prototype.hasOwnProperty.call(I,w)&&(u[w]=I[w])}}function Ne(u){this.src=u,this.g={},this.h=0}Ne.prototype.add=function(u,v,w,I,W){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const oe=Ve(u,v,I,W);return oe>-1?(v=u[oe],w||(v.fa=!1)):(v=new ge(v,this.src,$,!!I,W),v.fa=w,u.push(v)),v};function Le(u,v){const w=v.type;if(w in u.g){var I=u.g[w],W=Array.prototype.indexOf.call(I,v,void 0),$;($=W>=0)&&Array.prototype.splice.call(I,W,1),$&&(G(v),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Ve(u,v,w,I){for(let W=0;W<u.length;++W){const $=u[W];if(!$.da&&$.listener==v&&$.capture==!!w&&$.ha==I)return W}return-1}var Ge="closure_lm_"+(Math.random()*1e6|0),Ye={};function nt(u,v,w,I,W){if(Array.isArray(v)){for(let $=0;$<v.length;$++)nt(u,v[$],w,I,W);return null}return w=ul(w),u&&u[Ie]?u.J(v,w,d(I)?!!I.capture:!1,W):cn(u,v,w,!1,I,W)}function cn(u,v,w,I,W,$){if(!v)throw Error("Invalid event type");const oe=d(W)?!!W.capture:!!W;let Pe=Lo(u);if(Pe||(u[Ge]=Pe=new Ne(u)),w=Pe.add(v,w,I,oe,$),w.proxy)return w;if(I=Mo(),w.proxy=I,I.src=u,I.listener=w,u.addEventListener)V||(W=oe),W===void 0&&(W=!1),u.addEventListener(v.toString(),I,W);else if(u.attachEvent)u.attachEvent(Oo(v.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mo(){function u(w){return v.call(u.src,u.listener,w)}const v=Zc;return u}function cl(u,v,w,I,W){if(Array.isArray(v))for(var $=0;$<v.length;$++)cl(u,v[$],w,I,W);else I=d(I)?!!I.capture:!!I,w=ul(w),u&&u[Ie]?(u=u.i,$=String(v).toString(),$ in u.g&&(v=u.g[$],w=Ve(v,w,I,W),w>-1&&(G(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete u.g[$],u.h--)))):u&&(u=Lo(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ve(v,w,I,W)),(w=u>-1?v[u]:null)&&Di(w))}function Di(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ie])Le(v.i,u);else{var w=u.type,I=u.proxy;v.removeEventListener?v.removeEventListener(w,I,u.capture):v.detachEvent?v.detachEvent(Oo(w),I):v.addListener&&v.removeListener&&v.removeListener(I),(w=Lo(v))?(Le(w,u),w.h==0&&(w.src=null,v[Ge]=null)):G(u)}}}function Oo(u){return u in Ye?Ye[u]:Ye[u]="on"+u}function Zc(u,v){if(u.da)u=!0;else{v=new Ee(v,this);const w=u.listener,I=u.ha||u.src;u.fa&&Di(u),u=w.call(I,v)}return u}function Lo(u){return u=u[Ge],u instanceof Ne?u:null}var Ms="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(u){return typeof u=="function"?u:(u[Ms]||(u[Ms]=function(v){return u.handleEvent(v)}),u[Ms])}function kt(){N.call(this),this.i=new Ne(this),this.M=this,this.G=null}_(kt,N),kt.prototype[Ie]=!0,kt.prototype.removeEventListener=function(u,v,w,I){cl(this,u,v,w,I)};function _t(u,v){var w,I=u.G;if(I)for(w=[];I;I=I.G)w.push(I);if(u=u.M,I=v.type||v,typeof v=="string")v=new O(v,u);else if(v instanceof O)v.target=v.target||u;else{var W=v;v=new O(I,u),Ae(v,W)}W=!0;let $,oe;if(w)for(oe=w.length-1;oe>=0;oe--)$=v.g=w[oe],W=qn($,I,!0,v)&&W;if($=v.g=u,W=qn($,I,!0,v)&&W,W=qn($,I,!1,v)&&W,w)for(oe=0;oe<w.length;oe++)$=v.g=w[oe],W=qn($,I,!1,v)&&W}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const w=u.g[v];for(let I=0;I<w.length;I++)G(w[I]);delete u.g[v],u.h--}}this.G=null},kt.prototype.J=function(u,v,w,I){return this.i.add(String(u),v,!1,w,I)},kt.prototype.K=function(u,v,w,I){return this.i.add(String(u),v,!0,w,I)};function qn(u,v,w,I){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let $=0;$<v.length;++$){const oe=v[$];if(oe&&!oe.da&&oe.capture==w){const Pe=oe.listener,wt=oe.ha||oe.src;oe.fa&&Le(u.i,oe),W=Pe.call(wt,I)!==!1&&W}}return W&&!I.defaultPrevented}function dl(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(u,v||0)}function hl(u){u.g=dl(()=>{u.g=null,u.i&&(u.i=!1,hl(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class eu extends N{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(u){N.call(this),this.h=u,this.g={}}_(Pi,N);var fl=[];function Vo(u){le(u.g,function(v,w){this.g.hasOwnProperty(w)&&Di(v)},u),u.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),Vo(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=l.JSON.stringify,tu=l.JSON.parse,Os=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Ai(){}function nu(){}var Ni={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fo(){O.call(this,"d")}_(Fo,O);function pl(){O.call(this,"c")}_(pl,O);var Kn={},jo=null;function Mi(){return jo=jo||new kt}Kn.Ia="serverreachability";function Uo(u){O.call(this,Kn.Ia,u)}_(Uo,O);function $r(u){const v=Mi();_t(v,new Uo(v))}Kn.STAT_EVENT="statevent";function qr(u,v){O.call(this,Kn.STAT_EVENT,u),this.stat=v}_(qr,O);function gt(u){const v=Mi();_t(v,new qr(v,u))}Kn.Ja="timingevent";function ml(u,v){O.call(this,Kn.Ja,u),this.size=v}_(ml,O);function Oi(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},v)}function Li(){this.g=!0}Li.prototype.ua=function(){this.g=!1};function ru(u,v,w,I,W,$){u.info(function(){if(u.g)if($){var oe="",Pe=$.split("&");for(let Ze=0;Ze<Pe.length;Ze++){var wt=Pe[Ze].split("=");if(wt.length>1){const Ct=wt[0];wt=wt[1];const kn=Ct.split("_");oe=kn.length>=2&&kn[1]=="type"?oe+(Ct+"="+wt+"&"):oe+(Ct+"=redacted&")}}}else oe=null;else oe=$;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+v+`
`+w+`
`+oe})}function iu(u,v,w,I,W,$,oe){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+v+`
`+w+`
`+$+" "+oe})}function cr(u,v,w,I){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ls(u,w)+(I?" "+I:"")})}function su(u,v){u.info(function(){return"TIMEOUT: "+v})}Li.prototype.info=function(){};function Ls(u,v){if(!u.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var w=$[u];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var W=I[0];if(W!="noop"&&W!="stop"&&W!="close")for(let oe=1;oe<I.length;oe++)I[oe]=""}}}}return Ri($)}catch{return v}}var Vi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ou;function Kr(){}_(Kr,Ai),Kr.prototype.g=function(){return new XMLHttpRequest},ou=new Kr;function ur(u){return encodeURIComponent(String(u))}function Bo(u){var v=1;u=u.split(":");const w=[];for(;v>0&&u.length;)w.push(u.shift()),v--;return u.length&&w.push(u.join(":")),w}function Mn(u,v,w,I){this.j=u,this.i=v,this.l=w,this.S=I||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var lu={},gl={};function Qn(u,v,w){u.M=1,u.A=Gr(On(v)),u.u=w,u.R=!0,yl(u,null)}function yl(u,v){u.F=Date.now(),Vs(u),u.B=On(u.A);var w=u.B,I=u.S;Array.isArray(I)||(I=[String(I)]),Cl(w.i,"t",I),u.C=0,w=u.j.L,u.h=new au,u.g=vu(u.j,w?v:null,!u.u),u.P>0&&(u.O=new eu(p(u.Y,u,u.g),u.P)),v=u.V,w=u.g,I=u.ba;var W="readystatechange";Array.isArray(W)||(W&&(fl[0]=W.toString()),W=fl);for(let $=0;$<W.length;$++){const oe=nt(w,W[$],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=u.J?j(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),$r(),ru(u.i,u.v,u.B,u.l,u.S,u.u)}Mn.prototype.ba=function(u){u=u.target;const v=this.O;v&&yr(u)==3?v.j():this.Y(u)},Mn.prototype.Y=function(u){try{if(u==this.g)e:{const Pe=yr(this.g),wt=this.g.ya(),Ze=this.g.ca();if(!(Pe<3)&&(Pe!=3||this.g&&(this.h.h||this.g.la()||gu(this.g)))){this.K||Pe!=4||wt==7||(wt==8||Ze<=0?$r(3):$r(2)),zo(this);var v=this.g.ca();this.X=v;var w=cu(this);if(this.o=v==200,iu(this.i,this.v,this.B,this.l,this.S,Pe,v),this.o){if(this.U&&!this.L){t:{if(this.g){var I,W=this.g;if((I=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var $=I;break t}}$=null}if(u=$)cr(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ot(this,u);else{this.o=!1,this.m=3,gt(12),Qr(this),Fs(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<w.length;)if(Ct=du(this,w),Ct==gl){Pe==4&&(this.m=4,gt(14),u=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==lu){this.m=4,gt(15),cr(this.i,this.l,w,"[Invalid Chunk]"),u=!1;break}else cr(this.i,this.l,Ct,null),ot(this,Ct);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||w.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)cr(this.i,this.l,w,"[Invalid Chunked Response]"),Qr(this),Fs(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),qs(oe),oe.P=!0,gt(11))}}else cr(this.i,this.l,w,null),ot(this,w);Pe==4&&Qr(this),this.o&&!this.K&&(Pe==4?Jo(this.j,this):(this.o=!1,Vs(this)))}else Dl(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Qr(this),Fs(this)}}}catch{}finally{}};function cu(u){if(!uu(u))return u.g.la();const v=gu(u.g);if(v==="")return"";let w="";const I=v.length,W=yr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Qr(u),Fs(u),"";u.h.i=new l.TextDecoder}for(let $=0;$<I;$++)u.h.h=!0,w+=u.h.i.decode(v[$],{stream:!(W&&$==I-1)});return v.length=0,u.h.g+=w,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,v){var w=u.C,I=v.indexOf(`
`,w);return I==-1?gl:(w=Number(v.substring(w,I)),isNaN(w)?lu:(I+=1,I+w>v.length?gl:(v=v.slice(I,I+w),u.C=I+w,v)))}Mn.prototype.cancel=function(){this.K=!0,Qr(this)};function Vs(u){u.T=Date.now()+u.H,vl(u,u.H)}function vl(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oi(p(u.aa,u),v)}function zo(u){u.D&&(l.clearTimeout(u.D),u.D=null)}Mn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(su(this.i,this.B),this.M!=2&&($r(),gt(17)),Qr(this),this.m=2,Fs(this)):vl(this,this.T-u)};function Fs(u){u.j.I==0||u.K||Jo(u.j,u)}function Qr(u){zo(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Vo(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function ot(u,v){try{var w=u.j;if(w.I!=0&&(w.g==u||wl(w.h,u))){if(!u.L&&wl(w.h,u)&&w.I==3){try{var I=w.Ba.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<u.F)Xo(w),Tn(w);else break e;wr(w),gt(18)}}else w.xa=W[1],0<w.xa-w.K&&W[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Oi(p(w.Va,w),6e3));js(w.h)<=1&&w.ta&&(w.ta=void 0)}else In(w,11)}else if((u.L||w.g==u)&&Xo(w),!R(v))for(W=w.Ba.g.parse(v),v=0;v<W.length;v++){let Ze=W[v];const Ct=Ze[0];if(!(Ct<=w.K))if(w.K=Ct,Ze=Ze[1],w.I==2)if(Ze[0]=="c"){w.M=Ze[1],w.ba=Ze[2];const kn=Ze[3];kn!=null&&(w.ka=kn,w.j.info("VER="+w.ka));const ti=Ze[4];ti!=null&&(w.za=ti,w.j.info("SVER="+w.za));const Er=Ze[5];Er!=null&&typeof Er=="number"&&Er>0&&(I=1.5*Er,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const xr=u.g;if(xr){const ta=xr.g?xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var $=I.h;$.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ho($,$.h),$.h=null))}if(I.G){const Al=xr.g?xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Al&&(I.wa=Al,Ke(I.J,I.G,Al))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-u.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var oe=u;if(I.na=Rl(I,I.L?I.ba:null,I.W),oe.L){Us(I.h,oe);var Pe=oe,wt=I.O;wt&&(Pe.H=wt),Pe.D&&(zo(Pe),Vs(Pe)),I.g=oe}else Jt(I);w.i.length>0&&ei(w)}else Ze[0]!="stop"&&Ze[0]!="close"||In(w,7);else w.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?In(w,7):Qo(w):Ze[0]!="noop"&&w.l&&w.l.qa(Ze),w.A=0)}}$r(4)}catch{}}var tf=class{constructor(u,v){this.g=u,this.map=v}};function Wo(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function js(u){return u.h?1:u.g?u.g.size:0}function wl(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Ho(u,v){u.g?u.g.add(v):u.h=v}function Us(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Wo.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function En(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const w of u.g.values())v=v.concat(w.G);return v}return T(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xn(u,v){if(u){u=u.split("&");for(let w=0;w<u.length;w++){const I=u[w].indexOf("=");let W,$=null;I>=0?(W=u[w].substring(0,I),$=u[w].substring(I+1)):W=u[w],v(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function dr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof dr?(this.l=u.l,Bs(this,u.j),this.o=u.o,this.g=u.g,hr(this,u.u),this.h=u.h,ji(this,bl(u.i)),this.m=u.m):u&&(v=String(u).match(hu))?(this.l=!1,Bs(this,v[1]||"",!0),this.o=zs(v[2]||""),this.g=zs(v[3]||"",!0),hr(this,v[4]),this.h=zs(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=zs(v[7]||"")):(this.l=!1,this.i=new We(null,this.l))}dr.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Ws(v,xl,!0),":");var w=this.g;return(w||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Ws(v,xl,!0),"@"),u.push(ur(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&u.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(Ws(w,w.charAt(0)=="/"?Hs:Sl,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",Ws(w,Tl)),u.join("")},dr.prototype.resolve=function(u){const v=On(this);let w=!!u.j;w?Bs(v,u.j):w=!!u.o,w?v.o=u.o:w=!!u.g,w?v.g=u.g:w=u.u!=null;var I=u.h;if(w)hr(v,u.u);else if(w=!!u.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var W=v.h.lastIndexOf("/");W!=-1&&(I=v.h.slice(0,W+1)+I)}if(W=I,W==".."||W==".")I="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){I=W.lastIndexOf("/",0)==0,W=W.split("/");const $=[];for(let oe=0;oe<W.length;){const Pe=W[oe++];Pe=="."?I&&oe==W.length&&$.push(""):Pe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),I&&oe==W.length&&$.push("")):($.push(Pe),I=!0)}I=$.join("/")}else I=W}return w?v.h=I:w=u.i.toString()!=="",w?ji(v,bl(u.i)):w=!!u.m,w&&(v.m=u.m),v};function On(u){return new dr(u)}function Bs(u,v,w){u.j=w?zs(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function hr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function ji(u,v,w){v instanceof We?(u.i=v,$o(u.i,u.l)):(w||(v=Ws(v,nf)),u.i=new We(v,u.l))}function Ke(u,v,w){u.i.set(v,w)}function Gr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function zs(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ws(u,v,w){return typeof u=="string"?(u=encodeURI(u).replace(v,El),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function El(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var xl=/[#\/\?@]/g,Sl=/[#\?:]/g,Hs=/[#\?]/g,nf=/[#\?@]/g,Tl=/#/g;function We(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function fr(u){u.g||(u.g=new Map,u.h=0,u.i&&xn(u.i,function(v,w){u.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}r=We.prototype,r.add=function(u,v){fr(this),this.i=null,u=pr(this,u);let w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(v),this.h+=1,this};function Il(u,v){fr(u),v=pr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Yo(u,v){return fr(u),v=pr(u,v),u.g.has(v)}r.forEach=function(u,v){fr(this),this.g.forEach(function(w,I){w.forEach(function(W){u.call(v,W,I,this)},this)},this)};function kl(u,v){fr(u);let w=[];if(typeof v=="string")Yo(u,v)&&(w=w.concat(u.g.get(pr(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)w=w.concat(u[v]);return w}r.set=function(u,v){return fr(this),this.i=null,u=pr(this,u),Yo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=kl(this,u),u.length>0?String(u[0]):v):v};function Cl(u,v,w){Il(u,v),w.length>0&&(u.i=null,u.g.set(pr(u,v),T(w)),u.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let I=0;I<v.length;I++){var w=v[I];const W=ur(w);w=kl(this,w);for(let $=0;$<w.length;$++){let oe=W;w[$]!==""&&(oe+="="+ur(w[$])),u.push(oe)}}return this.i=u.join("&")};function bl(u){const v=new We;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function pr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function $o(u,v){v&&!u.j&&(fr(u),u.i=null,u.g.forEach(function(w,I){const W=I.toLowerCase();I!=W&&(Il(this,I),Cl(this,W,w))},u)),u.j=v}function mr(u,v){const w=new Li;if(l.Image){const I=new Image;I.onload=g(Ut,w,"TestLoadImage: loaded",!0,v,I),I.onerror=g(Ut,w,"TestLoadImage: error",!1,v,I),I.onabort=g(Ut,w,"TestLoadImage: abort",!1,v,I),I.ontimeout=g(Ut,w,"TestLoadImage: timeout",!1,v,I),l.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else v(!1)}function gr(u,v){const w=new Li,I=new AbortController,W=setTimeout(()=>{I.abort(),Ut(w,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:I.signal}).then($=>{clearTimeout(W),$.ok?Ut(w,"TestPingServer: ok",!0,v):Ut(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Ut(w,"TestPingServer: error",!1,v)})}function Ut(u,v,w,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(w)}catch{}}function Ys(){this.g=new Os}function Xr(u){this.i=u.Sb||null,this.h=u.ab||!1}_(Xr,Ai),Xr.prototype.g=function(){return new Sn(this.i,this.h)};function Sn(u,v){kt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Sn,kt),r=Sn.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ui(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fu(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function fu(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Ui(this):Gn(this),this.readyState==3&&fu(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ui(this))},r.Na=function(u){this.g&&(this.response=u,Ui(this))},r.ga=function(){this.g&&Ui(this)};function Ui(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,v){this.A.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=v.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function pu(u){let v="";return le(u,function(w,I){v+=I,v+=":",v+=w,v+=`\r
`}),v}function qo(u,v,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=pu(w),typeof u=="string"?w!=null&&ur(w):Ke(u,v,w))}function rt(u){kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(rt,kt);var mu=/^https?$/i,rf=["POST","PUT"];r=rt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,v,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ou.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){Bi(this,$);return}if(u=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)w.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const $ of I.keys())w.set($,I.get($));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),W=l.FormData&&u instanceof l.FormData,!(Array.prototype.indexOf.call(rf,v,void 0)>=0)||I||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of w)this.g.setRequestHeader($,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){Bi(this,$)}};function Bi(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,zi(u),Zr(u)}function zi(u){u.A||(u.A=!0,_t(u,"complete"),_t(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,_t(this,"complete"),_t(this,"abort"),Zr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),rt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},r.Xa=function(){Jr(this)};function Jr(u){if(u.h&&typeof a<"u"){if(u.v&&yr(u)==4)setTimeout(u.Ca.bind(u),0);else if(_t(u,"readystatechange"),yr(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var I;if(I=$===0){let oe=String(u.D).match(hu)[1]||null;!oe&&l.self&&l.self.location&&(oe=l.self.location.protocol.slice(0,-1)),I=!mu.test(oe?oe.toLowerCase():"")}w=I}if(w)_t(u,"complete"),_t(u,"success");else{u.o=6;try{var W=yr(u)>2?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.ca()+"]",zi(u)}}finally{Zr(u)}}}}function Zr(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const w=u.g;u.g=null,v||_t(u,"ready");try{w.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function yr(u){return u.g?u.g.readyState:0}r.ca=function(){try{return yr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),tu(v)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dl(u){const v={};u=(u.g&&yr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(R(u[I]))continue;var w=Bo(u[I]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=v[W]||[];v[W]=$,$.push(w)}ae(v,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(u,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||v}function Ko(u){this.za=0,this.i=[],this.j=new Li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,u),this.Za=vr("retryDelaySeedMs",1e4,u),this.Ta=vr("forwardChannelMaxRetries",2,u),this.va=vr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(u&&u.concurrentRequestLimit),this.Ba=new Ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ko.prototype,r.ka=8,r.I=1,r.connect=function(u,v,w,I){gt(0),this.W=u,this.H=v||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=Rl(this,null,this.W),ei(this)};function Qo(u){if(Go(u),u.I==3){var v=u.V++,w=On(u.J);if(Ke(w,"SID",u.M),Ke(w,"RID",v),Ke(w,"TYPE","terminate"),_r(u,w),v=new Mn(u,u.j,v),v.M=2,v.A=Gr(On(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&l.Image&&(new Image().src=v.A,w=!0),w||(v.g=vu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Vs(v)}Ks(u)}function Tn(u){u.g&&(qs(u),u.g.cancel(),u.g=null)}function Go(u){Tn(u),u.v&&(l.clearTimeout(u.v),u.v=null),Xo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&l.clearTimeout(u.m),u.m=null)}function ei(u){if(!_l(u.h)&&!u.m){u.m=!0;var v=u.Ea;se||k(),ce||(se(),ce=!0),C.add(v,u),u.D=0}}function yu(u,v){return js(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oi(p(u.Ea,u,v),Zo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const W=new Mn(this,this.j,u);let $=this.o;if(this.U&&($?($=j($),Ae($,this.U)):$=this.U),this.u!==null||this.R||(W.J=$,$=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Pl(this,W,v),w=On(this.J),Ke(w,"RID",u),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),_r(this,w),$&&(this.R?v="headers="+ur(pu($))+"&"+v:this.u&&qo(w,this.u,$)),Ho(this.h,W),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",v),Ke(w,"SID","null"),W.U=!0,Qn(W,w,null)):Qn(W,w,v),this.I=2}}else this.I==3&&(u?$s(this,u):this.i.length==0||_l(this.h)||$s(this))};function $s(u,v){var w;v?w=v.l:w=u.V++;const I=On(u.J);Ke(I,"SID",u.M),Ke(I,"RID",w),Ke(I,"AID",u.K),_r(u,I),u.u&&u.o&&qo(I,u.u,u.o),w=new Mn(u,u.j,w,u.D+1),u.u===null&&(w.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Pl(u,w,1e3),w.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ho(u.h,w),Qn(w,I,v)}function _r(u,v){u.H&&le(u.H,function(w,I){Ke(v,I,w)}),u.l&&le({},function(w,I){Ke(v,I,w)})}function Pl(u,v,w){w=Math.min(u.i.length,w);const I=u.l?p(u.l.Ka,u.l,u):null;e:{var W=u.i;let Pe=-1;for(;;){const wt=["count="+w];Pe==-1?w>0?(Pe=W[0].g,wt.push("ofs="+Pe)):Pe=0:wt.push("ofs="+Pe);let Ze=!0;for(let Ct=0;Ct<w;Ct++){var $=W[Ct].g;const kn=W[Ct].map;if($-=Pe,$<0)Pe=Math.max(0,W[Ct].g-100),Ze=!1;else try{$="req"+$+"_"||"";try{var oe=kn instanceof Map?kn:Object.entries(kn);for(const[ti,Er]of oe){let xr=Er;d(Er)&&(xr=Ri(Er)),wt.push($+ti+"="+encodeURIComponent(xr))}}catch(ti){throw wt.push($+"type="+encodeURIComponent("_badmap")),ti}}catch{I&&I(kn)}}if(Ze){oe=wt.join("&");break e}}oe=void 0}return u=u.i.splice(0,w),v.G=u,oe}function Jt(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;se||k(),ce||(se(),ce=!0),C.add(v,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oi(p(u.Da,u),Zo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Wi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oi(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Tn(this),Wi(this))};function qs(u){u.B!=null&&(l.clearTimeout(u.B),u.B=null)}function Wi(u){u.g=new Mn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=On(u.na);Ke(v,"RID","rpc"),Ke(v,"SID",u.M),Ke(v,"AID",u.K),Ke(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(v,"TO",u.ia),Ke(v,"TYPE","xmlhttp"),_r(u,v),u.u&&u.o&&qo(v,u.u,u.o),u.O&&(u.g.H=u.O);var w=u.g;u=u.ba,w.M=1,w.A=Gr(On(v)),w.u=null,w.R=!0,yl(w,u)}r.Va=function(){this.C!=null&&(this.C=null,Tn(this),wr(this),gt(19))};function Xo(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function Jo(u,v){var w=null;if(u.g==v){Xo(u),qs(u),u.g=null;var I=2}else if(wl(u.h,v))w=v.G,Us(u.h,v),I=1;else return;if(u.I!=0){if(v.o)if(I==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var W=u.D;I=Mi(),_t(I,new ml(I,w)),ei(u)}else Jt(u);else if(W=v.m,W==3||W==0&&v.X>0||!(I==1&&yu(u,v)||I==2&&wr(u)))switch(w&&w.length>0&&(v=u.h,v.i=v.i.concat(w)),W){case 1:In(u,5);break;case 4:In(u,10);break;case 3:In(u,6);break;default:In(u,2)}}}function Zo(u,v){let w=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(w*=2),w*v}function In(u,v){if(u.j.info("Error code "+v),v==2){var w=p(u.bb,u),I=u.Ua;const W=!I;I=new dr(I||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Bs(I,"https"),Gr(I),W?mr(I.toString(),w):gr(I.toString(),w)}else gt(2);u.I=0,u.l&&u.l.pa(v),Ks(u),Go(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Ks(u){if(u.I=0,u.ja=[],u.l){const v=En(u.h);(v.length!=0||u.i.length!=0)&&(P(u.ja,v),P(u.ja,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.oa()}}function Rl(u,v,w){var I=w instanceof dr?On(w):new dr(w);if(I.g!="")v&&(I.g=v+"."+I.g),hr(I,I.u);else{var W=l.location;I=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const $=new dr(null);I&&Bs($,I),v&&($.g=v),W&&hr($,W),w&&($.h=w),I=$}return w=u.G,v=u.wa,w&&v&&Ke(I,w,v),Ke(I,"VER",u.ka),_r(u,I),I}function vu(u,v,w){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new rt(new Xr({ab:w})):new rt(u.ma),v.Fa(u.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ea(){}ea.prototype.g=function(u,v){return new Bt(u,v)};function Bt(u,v){kt.call(this),this.g=new Ko(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!R(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new Hi(this)}_(Bt,kt),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Qo(this.g)},Bt.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.v&&(w={},w.__data__=Ri(u),u=w);v.i.push(new tf(v.Ya++,u)),v.I==3&&ei(v)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,Bt.Z.N.call(this)};function wu(u){Fo.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const w in v){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}_(wu,Fo);function Eu(){pl.call(this),this.status=1}_(Eu,pl);function Hi(u){this.g=u}_(Hi,_u),Hi.prototype.ra=function(){_t(this.g,"a")},Hi.prototype.qa=function(u){_t(this.g,new wu(u))},Hi.prototype.pa=function(u){_t(this.g,new Eu)},Hi.prototype.oa=function(){_t(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,qE=function(){return new ea},$E=function(){return Mi()},YE=Kn,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vi.NO_ERROR=0,Vi.TIMEOUT=8,Vi.HTTP_ERROR=6,Ad=Vi,Fi.COMPLETE="complete",HE=Fi,nu.EventType=Ni,Ni.OPEN="a",Ni.CLOSE="b",Ni.ERROR="c",Ni.MESSAGE="d",kt.prototype.listen=kt.prototype.J,dc=nu,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,WE=rt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const e_="@firebase/firestore",t_="4.9.2";class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let rl="12.3.0";const So=new Hm("@firebase/firestore");function Sa(){return So.logLevel}function fe(r,...e){if(So.logLevel<=Ue.DEBUG){const t=e.map(rg);So.debug(`Firestore (${rl}): ${r}`,...t)}}function xi(r,...e){if(So.logLevel<=Ue.ERROR){const t=e.map(rg);So.error(`Firestore (${rl}): ${r}`,...t)}}function Va(r,...e){if(So.logLevel<=Ue.WARN){const t=e.map(rg);So.warn(`Firestore (${rl}): ${r}`,...t)}}function rg(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ce(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,KE(r,n,t)}function KE(r,e,t){let n=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw xi(n),new Error(n)}function Je(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||KE(e,i,n)}function Re(r,e){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class QE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sn.UNAUTHENTICATED)))}shutdown(){}}class WD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let n=this.i;const i=f=>this.i!==n?(n=this.i,t(f)):Promise.resolve();let a=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vs,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vs)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Je(typeof n.accessToken=="string",31837,{l:n}),new QE(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class YD{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $D{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new YD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const n=a=>{a.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new n_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function KD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=KD(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<t&&(n+=e.charAt(i[a]%62))}return n}}function Be(r,e){return r<e?-1:r>e?1:0}function hm(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),a=e.charAt(n);if(i!==a)return Fp(i)===Fp(a)?Be(i,a):Fp(i)?1:-1}return Be(r.length,e.length)}const QD=55296,GD=57343;function Fp(r){const e=r.charCodeAt(0);return e>=QD&&e<=GD}function Fa(r,e,t){return r.length===e.length&&r.every(((n,i)=>t(n,e[i])))}const r_="__name__";class br{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ce(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ce(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=br.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Be(e.length,t.length)}static compareSegments(e,t){const n=br.isNumericId(e),i=br.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?br.extractNumericId(e).compare(br.extractNumericId(t)):hm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ys.fromString(e.substring(4,e.length-2))}}class st extends br{construct(e,t,n){return new st(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((i=>i.length>0)))}return new st(t)}static emptyPath(){return new st([])}}const XD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends br{construct(e,t,n){return new qt(e,t,n)}static isValidIdentifier(e){return XD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new qt([r_])}static fromServerFormat(e){const t=[];let n="",i=0;const a=()=>{if(n.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=f,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(n+=d,i++):(a(),i++)}if(a(),l)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(t)}static emptyPath(){return new qt([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(st.fromString(e))}static fromName(e){return new xe(st.fromString(e).popFirst(5))}static empty(){return new xe(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new st(e.slice()))}}function GE(r,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function JD(r,e,t,n){if(e===!0&&n===!0)throw new pe(X.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function i_(r){if(!xe.isDocumentKey(r))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s_(r){if(xe.isDocumentKey(r))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function XE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function _s(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(r);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Rt(r,e){const t={typeString:r};return e&&(t.value=e),t}function zc(r,e){if(!XE(r))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(i&&typeof l!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${n}' field to equal '${a.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}const o_=-62135596800,a_=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*a_);return new ct(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<o_)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-o_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Rt("string",ct._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ct(0,0))}static max(){return new De(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bc=-1;function ZD(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=De.fromTimestamp(n===1e9?new ct(t+1,0):new ct(t,n));return new Ss(i,xe.empty(),e)}function eP(r){return new Ss(r.readTime,r.key,bc)}class Ss{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ss(De.min(),xe.empty(),bc)}static max(){return new Ss(De.max(),xe.empty(),bc)}}function tP(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=xe.comparator(r.documentKey,e.documentKey),t!==0?t:Be(r.largestBatchId,e.largestBatchId))}const nP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function il(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==nP)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,n)=>{t(e)}))}static reject(e){return new J(((t,n)=>{n(e)}))}static waitFor(e){return new J(((t,n)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&t()}),(f=>n(f)))})),l=!0,a===i&&t()}))}static or(e){let t=J.resolve(!1);for(const n of e)t=t.next((i=>i?J.resolve(i):n()));return t}static forEach(e,t){const n=[];return e.forEach(((i,a)=>{n.push(t.call(this,i,a))})),this.waitFor(n)}static mapArray(e,t){return new J(((n,i)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{l[p]=g,++d,d===a&&n(l)}),(g=>i(g)))}}))}static doWhile(e,t){return new J(((n,i)=>{const a=()=>{e()===!0?t().next((()=>{a()}),i):n()};a()}))}}function iP(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(r){return r.name==="IndexedDbTransactionError"}class Nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;const sg=-1;function Mh(r){return r==null}function Zd(r){return r===0&&1/r==-1/0}function sP(r){return typeof r=="number"&&Number.isInteger(r)&&!Zd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const JE="";function oP(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=l_(e)),e=aP(r.get(t),e);return l_(e)}function aP(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const a=r.charAt(i);switch(a){case"\0":t+="";break;case JE:t+="";break;default:t+=a}}return t}function l_(r){return r+JE+""}function c_(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function bo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function ZE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,n,i,a){this.key=e,this.value=t,this.color=n??Ht.RED,this.left=i??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,a){return new Ht(e??this.key,t??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,n),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,t,n,i,a){return this}insert(e,t,n){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(e){return new u_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class u_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ir{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new ir([])}unionWith(e){let t=new Ot(qt.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ir(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fa(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}class e1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new e1("Invalid base64 string: "+a):a}})(e);return new Gt(t)}static fromUint8Array(e){const t=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const lP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ts(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const t=lP.exec(r);if(Je(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Is(r){return typeof r=="string"?Gt.fromBase64String(r):Gt.fromUint8Array(r)}const t1="server_timestamp",n1="__type__",r1="__previous_value__",i1="__local_write_time__";function og(r){return(r?.mapValue?.fields||{})[n1]?.stringValue===t1}function Oh(r){const e=r.mapValue.fields[r1];return og(e)?Oh(e):e}function Dc(r){const e=Ts(r.mapValue.fields[i1].timestampValue);return new ct(e.seconds,e.nanos)}class cP{constructor(e,t,n,i,a,l,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const eh="(default)";class Pc{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new Pc("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Pc&&e.projectId===this.projectId&&e.database===this.database}}const s1="__type__",uP="__max__",vd={mapValue:{}},o1="__vector__",th="value";function ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?og(r)?4:hP(r)?9007199254740991:dP(r)?10:11:Ce(28295,{value:r})}function Wr(r,e){if(r===e)return!0;const t=ks(r);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dc(r).isEqual(Dc(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=Ts(i.timestampValue),d=Ts(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,a){return Is(i.bytesValue).isEqual(Is(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)})(r,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=xt(i.doubleValue),d=xt(a.doubleValue);return l===d?Zd(l)===Zd(d):isNaN(l)&&isNaN(d)}return!1})(r,e);case 9:return Fa(r.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(c_(l)!==c_(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Wr(l[f],d[f])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function Rc(r,e){return(r.values||[]).find((t=>Wr(t,e)))!==void 0}function ja(r,e){if(r===e)return 0;const t=ks(r),n=ks(e);if(t!==n)return Be(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=xt(a.integerValue||a.doubleValue),f=xt(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(r,e);case 3:return d_(r.timestampValue,e.timestampValue);case 4:return d_(Dc(r),Dc(e));case 5:return hm(r.stringValue,e.stringValue);case 6:return(function(a,l){const d=Is(a),f=Is(l);return d.compareTo(f)})(r.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Be(d[p],f[p]);if(g!==0)return g}return Be(d.length,f.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=Be(xt(a.latitude),xt(l.latitude));return d!==0?d:Be(xt(a.longitude),xt(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return h_(r.arrayValue,e.arrayValue);case 10:return(function(a,l){const d=a.fields||{},f=l.fields||{},p=d[th]?.arrayValue,g=f[th]?.arrayValue,_=Be(p?.values?.length||0,g?.values?.length||0);return _!==0?_:h_(p,g)})(r.mapValue,e.mapValue);case 11:return(function(a,l){if(a===vd.mapValue&&l===vd.mapValue)return 0;if(a===vd.mapValue)return 1;if(l===vd.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const x=hm(f[_],g[_]);if(x!==0)return x;const T=ja(d[f[_]],p[g[_]]);if(T!==0)return T}return Be(f.length,g.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:t})}}function d_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const t=Ts(r),n=Ts(e),i=Be(t.seconds,n.seconds);return i!==0?i:Be(t.nanos,n.nanos)}function h_(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const a=ja(t[i],n[i]);if(a)return a}return Be(t.length,n.length)}function Ua(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Ts(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Is(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return xe.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",i=!0;for(const a of t.values||[])i?i=!1:n+=",",n+=fm(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${fm(t.fields[l])}`;return i+"}"})(r.mapValue):Ce(61005,{value:r})}function Nd(r){switch(ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(r);return e?16+Nd(e):16;case 5:return 2*r.stringValue.length;case 6:return Is(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Nd(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let i=0;return bo(n.fields,((a,l)=>{i+=a.length+Nd(l)})),i})(r.mapValue);default:throw Ce(13486,{value:r})}}function f_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pm(r){return!!r&&"integerValue"in r}function ag(r){return!!r&&"arrayValue"in r}function p_(r){return!!r&&"nullValue"in r}function m_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Md(r){return!!r&&"mapValue"in r}function dP(r){return(r?.mapValue?.fields||{})[s1]?.stringValue===o1}function vc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return bo(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=vc(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(r.arrayValue.values[t]);return e}return{...r}}function hP(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uP}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Md(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=qt.emptyPath(),n={},i=[];e.forEach(((l,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,n,i),n={},i=[],t=d.popLast()}l?n[d.lastSegment()]=vc(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,i)}delete(e){const t=this.field(e.popLast());Md(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){bo(t,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new Wn(vc(this.value))}}function a1(r){const e=[];return bo(r.fields,((t,n)=>{const i=new qt([t]);if(Md(n)){const a=a1(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new ir(e)}class on{constructor(e,t,n,i,a,l,d){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new on(e,0,De.min(),De.min(),De.min(),Wn.empty(),0)}static newFoundDocument(e,t,n,i){return new on(e,1,t,De.min(),n,i,0)}static newNoDocument(e,t){return new on(e,2,t,De.min(),De.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,De.min(),De.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(e,t){this.position=e,this.inclusive=t}}function g_(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const a=e[i],l=r.position[i];if(a.field.isKeyField()?n=xe.comparator(xe.fromName(l.referenceValue),t.key):n=ja(l,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function y_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Wr(r.position[t],e.position[t]))return!1;return!0}class rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function fP(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class l1{}class Pt extends l1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new mP(e,t,n):t==="array-contains"?new vP(e,n):t==="in"?new _P(e,n):t==="not-in"?new wP(e,n):t==="array-contains-any"?new EP(e,n):new Pt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new gP(e,n):new yP(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ja(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(ja(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends l1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ar(e,t)}matches(e){return c1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function c1(r){return r.op==="and"}function u1(r){return pP(r)&&c1(r)}function pP(r){for(const e of r.filters)if(e instanceof ar)return!1;return!0}function mm(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+Ua(r.value);if(u1(r))return r.filters.map((e=>mm(e))).join(",");{const e=r.filters.map((t=>mm(t))).join(",");return`${r.op}(${e})`}}function d1(r,e){return r instanceof Pt?(function(n,i){return i instanceof Pt&&n.op===i.op&&n.field.isEqual(i.field)&&Wr(n.value,i.value)})(r,e):r instanceof ar?(function(n,i){return i instanceof ar&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,l,d)=>a&&d1(l,i.filters[d])),!0):!1})(r,e):void Ce(19439)}function h1(r){return r instanceof Pt?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ua(t.value)}`})(r):r instanceof ar?(function(t){return t.op.toString()+" {"+t.getFilters().map(h1).join(" ,")+"}"})(r):"Filter"}class mP extends Pt{constructor(e,t,n){super(e,t,n),this.key=xe.fromName(n.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class gP extends Pt{constructor(e,t){super(e,"in",t),this.keys=f1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class yP extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=f1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function f1(r,e){return(e.arrayValue?.values||[]).map((t=>xe.fromName(t.referenceValue)))}class vP extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ag(t)&&Rc(t.arrayValue,this.value)}}class _P extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Rc(this.value.arrayValue,t)}}class wP extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Rc(this.value.arrayValue,t)}}class EP extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ag(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Rc(this.value.arrayValue,n)))}}class xP{constructor(e,t=null,n=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.Te=null}}function v_(r,e=null,t=[],n=[],i=null,a=null,l=null){return new xP(r,e,t,n,i,a,l)}function lg(r){const e=Re(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>mm(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Mh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>Ua(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>Ua(n))).join(",")),e.Te=t}return e.Te}function cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!fP(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!d1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!y_(r.startAt,e.startAt)&&y_(r.endAt,e.endAt)}function gm(r){return xe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Wc{constructor(e,t=null,n=[],i=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SP(r,e,t,n,i,a,l,d){return new Wc(r,e,t,n,i,a,l,d)}function ug(r){return new Wc(r)}function __(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function p1(r){return r.collectionGroup!==null}function _c(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Ot(qt.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new rh(a,n))})),t.has(qt.keyField().canonicalString())||e.Ie.push(new rh(qt.keyField(),n))}return e.Ie}function Vr(r){const e=Re(r);return e.Ee||(e.Ee=TP(e,_c(r))),e.Ee}function TP(r,e){if(r.limitType==="F")return v_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new rh(i.field,a)}));const t=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return v_(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function ym(r,e){const t=r.filters.concat([e]);return new Wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function vm(r,e,t){return new Wc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Lh(r,e){return cg(Vr(r),Vr(e))&&r.limitType===e.limitType}function m1(r){return`${lg(Vr(r))}|lt:${r.limitType}`}function Ta(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((i=>h1(i))).join(", ")}]`),Mh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Ua(i))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Ua(i))).join(",")),`Target(${n})`})(Vr(r))}; limitType=${r.limitType})`}function Vh(r,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):xe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,i){for(const a of _c(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(r,e)&&(function(n,i){return!(n.startAt&&!(function(l,d,f){const p=g_(l,d,f);return l.inclusive?p<=0:p<0})(n.startAt,_c(n),i)||n.endAt&&!(function(l,d,f){const p=g_(l,d,f);return l.inclusive?p>=0:p>0})(n.endAt,_c(n),i))})(r,e)}function IP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function g1(r){return(e,t)=>{let n=!1;for(const i of _c(r)){const a=kP(i,e,t);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function kP(r,e,t){const n=r.field.isKeyField()?xe.comparator(e.key,t.key):(function(a,l,d){const f=l.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ja(f,p):Ce(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ce(19790,{direction:r.dir})}}class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bo(this.inner,((t,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const CP=new mt(xe.comparator);function Si(){return CP}const y1=new mt(xe.comparator);function hc(...r){let e=y1;for(const t of r)e=e.insert(t.key,t);return e}function v1(r){let e=y1;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function ho(){return wc()}function _1(){return wc()}function wc(){return new Do((r=>r.toString()),((r,e)=>r.isEqual(e)))}const bP=new mt(xe.comparator),DP=new Ot(xe.comparator);function ze(...r){let e=DP;for(const t of r)e=e.add(t);return e}const PP=new Ot(Be);function RP(){return PP}function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function w1(r){return{integerValue:""+r}}function AP(r,e){return sP(e)?w1(e):dg(r,e)}class Fh{constructor(){this._=void 0}}function NP(r,e,t){return r instanceof ih?(function(i,a){const l={fields:{[n1]:{stringValue:t1},[i1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&og(a)&&(a=Oh(a)),a&&(l.fields[r1]=a),{mapValue:l}})(t,e):r instanceof Ac?x1(r,e):r instanceof Nc?S1(r,e):(function(i,a){const l=E1(i,a),d=w_(l)+w_(i.Ae);return pm(l)&&pm(i.Ae)?w1(d):dg(i.serializer,d)})(r,e)}function MP(r,e,t){return r instanceof Ac?x1(r,e):r instanceof Nc?S1(r,e):t}function E1(r,e){return r instanceof sh?(function(n){return pm(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class ih extends Fh{}class Ac extends Fh{constructor(e){super(),this.elements=e}}function x1(r,e){const t=T1(e);for(const n of r.elements)t.some((i=>Wr(i,n)))||t.push(n);return{arrayValue:{values:t}}}class Nc extends Fh{constructor(e){super(),this.elements=e}}function S1(r,e){let t=T1(e);for(const n of r.elements)t=t.filter((i=>!Wr(i,n)));return{arrayValue:{values:t}}}class sh extends Fh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function w_(r){return xt(r.integerValue||r.doubleValue)}function T1(r){return ag(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function OP(r,e){return r.field.isEqual(e.field)&&(function(n,i){return n instanceof Ac&&i instanceof Ac||n instanceof Nc&&i instanceof Nc?Fa(n.elements,i.elements,Wr):n instanceof sh&&i instanceof sh?Wr(n.Ae,i.Ae):n instanceof ih&&i instanceof ih})(r.transform,e.transform)}class LP{constructor(e,t){this.version=e,this.transformResults=t}}class Fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jh{}function I1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new hg(r.key,Fr.none()):new Hc(r.key,r.data,Fr.none());{const t=r.data,n=Wn.empty();let i=new Ot(qt.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new Po(r.key,n,new ir(i.toArray()),Fr.none())}}function VP(r,e,t){r instanceof Hc?(function(i,a,l){const d=i.value.clone(),f=x_(i.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Po?(function(i,a,l){if(!Od(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=x_(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(k1(i)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(r,e,t):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ec(r,e,t,n){return r instanceof Hc?(function(a,l,d,f){if(!Od(a.precondition,l))return d;const p=a.value.clone(),g=S_(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(r,e,t,n):r instanceof Po?(function(a,l,d,f){if(!Od(a.precondition,l))return d;const p=S_(a.fieldTransforms,f,l),g=l.data;return g.setAll(k1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(r,e,t,n):(function(a,l,d){return Od(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(r,e,t)}function FP(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),a=E1(n.transform,i||null);a!=null&&(t===null&&(t=Wn.empty()),t.set(n.field,a))}return t||null}function E_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Fa(n,i,((a,l)=>OP(a,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hc extends jh{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Po extends jh{constructor(e,t,n,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function k1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function x_(r,e,t){const n=new Map;Je(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const a=r[i],l=a.transform,d=e.data.field(a.field);n.set(a.field,MP(l,d,t[i]))}return n}function S_(r,e,t){const n=new Map;for(const i of r){const a=i.transform,l=t.data.field(i.field);n.set(i.field,NP(a,l,e))}return n}class hg extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class UP{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&VP(a,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ec(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ec(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_1();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=t.has(i.key)?null:d;const f=I1(l,d);f!==null&&n.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(De.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Fa(this.mutations,e.mutations,((t,n)=>E_(t,n)))&&Fa(this.baseMutations,e.baseMutations,((t,n)=>E_(t,n)))}}class fg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Je(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return bP})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new fg(e,t,n,i)}}class BP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zP{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dt,He;function WP(r){switch(r){case X.OK:return Ce(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function C1(r){if(r===void 0)return xi("GRPC error has no .code"),X.UNKNOWN;switch(r){case Dt.OK:return X.OK;case Dt.CANCELLED:return X.CANCELLED;case Dt.UNKNOWN:return X.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return X.INTERNAL;case Dt.UNAVAILABLE:return X.UNAVAILABLE;case Dt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Dt.NOT_FOUND:return X.NOT_FOUND;case Dt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Dt.ABORTED:return X.ABORTED;case Dt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Dt.DATA_LOSS:return X.DATA_LOSS;default:return Ce(39323,{code:r})}}(He=Dt||(Dt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function HP(){return new TextEncoder}const YP=new ys([4294967295,4294967295],0);function T_(r){const e=HP().encode(r),t=new zE;return t.update(e),new Uint8Array(t.digest())}function I_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ys([t,n],0),new ys([i,a],0)]}class pg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fc(`Invalid padding: ${t}`);if(n<0)throw new fc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new fc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ys.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(ys.fromNumber(n)));return i.compare(YP)===1&&(i=new ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=T_(e),[n,i]=I_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);if(!this.we(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new pg(a,i,t);return n.forEach((d=>l.insert(d))),l}insert(e){if(this.ge===0)return;const t=T_(e),[n,i]=I_(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,t,n,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Yc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Uh(De.min(),i,new mt(Be),Si(),ze())}}class Yc{constructor(e,t,n,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Yc(n,t,ze(),ze(),ze())}}class Ld{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class b1{constructor(e,t){this.targetId=e,this.Ce=t}}class D1{constructor(e,t,n=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class k_{constructor(){this.ve=0,this.Fe=C_(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),n=ze();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ce(38017,{changeType:a})}})),new Yc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=C_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $P{constructor(e){this.Ge=e,this.ze=new Map,this.je=Si(),this.Je=_d(),this.He=_d(),this.Ye=new mt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const a=i.target;if(gm(a))if(n===0){const l=new xe(a.path);this.et(t,l,on.newNoDocument(l,De.min()))}else Je(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const d=this.ut(e),f=d?this.ct(d,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=t;let l,d;try{l=Is(n).toUint8Array()}catch(f){if(f instanceof e1)return Va("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new pg(l,i,a)}catch(f){return Va(f instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach((a=>{const l=this.Ge.ht(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const d=this.ot(l);if(d){if(a.current&&gm(d.target)){const f=new xe(d.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,on.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.qe())}}));let n=ze();this.He.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(n=n.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new Uh(e,t,this.Ye,this.je,n);return this.je=Si(),this.Je=_d(),this.He=_d(),this.Ye=new mt(Be),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new k_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _d(){return new mt(xe.comparator)}function C_(){return new mt(xe.comparator)}const qP={asc:"ASCENDING",desc:"DESCENDING"},KP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QP={and:"AND",or:"OR"};class GP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _m(r,e){return r.useProto3Json||Mh(e)?e:{value:e}}function oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XP(r,e){return oh(r,e.toTimestamp())}function jr(r){return Je(!!r,49232),De.fromTimestamp((function(t){const n=Ts(t);return new ct(n.seconds,n.nanos)})(r))}function mg(r,e){return wm(r,e).canonicalString()}function wm(r,e){const t=(function(i){return new st(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function R1(r){const e=st.fromString(r);return Je(L1(e),10190,{key:e.toString()}),e}function Em(r,e){return mg(r.databaseId,e.path)}function jp(r,e){const t=R1(e);if(t.get(1)!==r.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new xe(N1(t))}function A1(r,e){return mg(r.databaseId,e)}function JP(r){const e=R1(r);return e.length===4?st.emptyPath():N1(e)}function xm(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function N1(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function b_(r,e,t){return{name:Em(r,e),fields:t.value.mapValue.fields}}function ZP(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Je(g===void 0||typeof g=="string",58123),Gt.fromBase64String(g||"")):(Je(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Gt.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(p){const g=p.code===void 0?X.UNKNOWN:C1(p.code);return new pe(g,p.message||"")})(l);t=new D1(n,i,a,d||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=jp(r,n.document.name),a=jr(n.document.updateTime),l=n.document.createTime?jr(n.document.createTime):De.min(),d=new Wn({mapValue:{fields:n.document.fields}}),f=on.newFoundDocument(i,a,l,d),p=n.targetIds||[],g=n.removedTargetIds||[];t=new Ld(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=jp(r,n.document),a=n.readTime?jr(n.readTime):De.min(),l=on.newNoDocument(i,a),d=n.removedTargetIds||[];t=new Ld([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=jp(r,n.document),a=n.removedTargetIds||[];t=new Ld([],a,i,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new zP(i,a),d=n.targetId;t=new b1(d,l)}}return t}function eR(r,e){let t;if(e instanceof Hc)t={update:b_(r,e.key,e.value)};else if(e instanceof hg)t={delete:Em(r,e.key)};else if(e instanceof Po)t={update:b_(r,e.key,e.data),updateMask:cR(e.fieldMask)};else{if(!(e instanceof jP))return Ce(16599,{Vt:e.type});t={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const d=l.transform;if(d instanceof ih)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sh)return{fieldPath:l.field.canonicalString(),increment:d.Ae};throw Ce(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:XP(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce(27497)})(r,e.precondition)),t}function tR(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map((t=>(function(i,a){let l=i.updateTime?jr(i.updateTime):jr(a);return l.isEqual(De.min())&&(l=jr(a)),new LP(l,i.transformResults||[])})(t,e)))):[]}function nR(r,e){return{documents:[A1(r,e.path)]}}function rR(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=A1(r,i);const a=(function(p){if(p.length!==0)return O1(ar.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(x){return{field:Ia(x.field),direction:oR(x.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=_m(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function iR(r){let e=JP(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Je(n===1,65062);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(_){const x=M1(_);return x instanceof ar&&u1(x)?x.getFilters():[x]})(t.where));let l=[];t.orderBy&&(l=(function(_){return _.map((x=>(function(P){return new rh(ka(P.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(x)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let x;return x=typeof _=="object"?_.value:_,Mh(x)?null:x})(t.limit));let f=null;t.startAt&&(f=(function(_){const x=!!_.before,T=_.values||[];return new nh(T,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const x=!_.before,T=_.values||[];return new nh(T,x)})(t.endAt)),SP(e,i,l,a,d,"F",f,p)}function sR(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function M1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ka(t.unaryFilter.field);return Pt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ka(t.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ka(t.unaryFilter.field);return Pt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ka(t.unaryFilter.field);return Pt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Pt.create(ka(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ar.create(t.compositeFilter.filters.map((n=>M1(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(t.compositeFilter.op))})(r):Ce(30097,{filter:r})}function oR(r){return qP[r]}function aR(r){return KP[r]}function lR(r){return QP[r]}function Ia(r){return{fieldPath:r.canonicalString()}}function ka(r){return qt.fromServerFormat(r.fieldPath)}function O1(r){return r instanceof Pt?(function(t){if(t.op==="=="){if(m_(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NAN"}};if(p_(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m_(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NOT_NAN"}};if(p_(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(t.field),op:aR(t.op),value:t.value}}})(r):r instanceof ar?(function(t){const n=t.getFilters().map((i=>O1(i)));return n.length===1?n[0]:{compositeFilter:{op:lR(t.op),filters:n}}})(r):Ce(54877,{filter:r})}function cR(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function L1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ds{constructor(e,t,n,i,a=De.min(),l=De.min(),d=Gt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uR{constructor(e){this.yt=e}}function dR(r){const e=iR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vm(e,e.limit,"L"):e}class hR{constructor(){this.Cn=new fR}addToCollectionParentIndex(e,t){return this.Cn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ss.min())}updateCollectionGroup(e,t,n){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class fR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ot(st.comparator),a=!i.has(n);return this.index[t]=i.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},V1=41943040;class wn{static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(V1,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class Ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ba(0)}static cr(){return new Ba(-1)}}const P_="LruGarbageCollector",pR=1048576;function R_([r,e],[t,n]){const i=Be(r,t);return i===0?Be(e,n):i}class mR{constructor(e){this.Ir=e,this.buffer=new Ot(R_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();R_(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(P_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?fe(P_,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Vr(3e5)}))}}class yR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Nh.ce);const n=new mR(t);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(D_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,a,l,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i)))).next((_=>(n=_,d=Date.now(),this.removeTargets(e,n,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,n)))).next((_=>(p=Date.now(),Sa()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_}))))}}function vR(r,e){return new yR(r,e)}class _R{constructor(){this.changes=new Do((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?J.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ER{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(n!==null&&Ec(n.mutation,i,ir.empty(),ct.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,ze()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=ze()){const i=ho();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((a=>{let l=hc();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=ho();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ze())))}populateOverlays(e,t,n){const i=[];return n.forEach((a=>{t.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{t.set(l,d)}))}))}computeViews(e,t,n,i){let a=Si();const l=wc(),d=(function(){return wc()})();return t.forEach(((f,p)=>{const g=n.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Po)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Ec(g.mutation,p,g.mutation.getFieldMask(),ct.now())):l.set(p.key,ir.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>l.set(p,g))),t.forEach(((p,g)=>d.set(p,new wR(g,l.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const n=wc();let i=new mt(((l,d)=>l-d)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const d of l)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=n.get(f)||ir.empty();g=d.applyToLocalView(p,g),n.set(f,g);const _=(i.get(d.batchId)||ze()).add(f);i=i.insert(d.batchId,_)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,_=_1();g.forEach((x=>{if(!a.has(x)){const T=I1(t.get(x),n.get(x));T!==null&&_.set(x,T),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return J.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,i){return(function(l){return xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):p1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-a.size):J.resolve(ho());let d=bc,f=a;return l.next((p=>J.forEach(p,((g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?J.resolve():this.remoteDocumentCache.getEntry(e,g).next((x=>{f=f.insert(g,x)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,ze()))).next((g=>({batchId:d,changes:v1(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next((n=>{let i=hc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const a=t.collectionGroup;let l=hc();return this.indexManager.getCollectionParents(e,a).next((d=>J.forEach(d,(f=>{const p=(function(_,x){return new Wc(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next((g=>{g.forEach(((_,x)=>{l=l.insert(_,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,i)))).next((l=>{a.forEach(((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,on.newInvalidDocument(g)))}));let d=hc();return l.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Ec(g.mutation,p,ir.empty(),ct.now()),Vh(t,p)&&(d=d.insert(f,p))})),d}))}}class xR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return J.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:jr(i.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:dR(i.bundledQuery),readTime:jr(i.readTime)}})(t)),J.resolve()}}class SR{constructor(){this.overlays=new mt(xe.comparator),this.qr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ho();return J.forEach(t,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((i,a)=>{this.St(e,t,a)})),J.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),J.resolve()}getOverlaysForCollection(e,t,n){const i=ho(),a=t.length+1,l=new xe(t.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>n&&i.set(f.getKey(),f)}return J.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let a=new mt(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let g=a.get(p.largestBatchId);g===null&&(g=ho(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=ho(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=i)););return J.resolve(d)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new BP(t,n));let a=this.qr.get(t);a===void 0&&(a=ze(),this.qr.set(t,a)),this.qr.set(t,a.add(n.key))}}class TR{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}class gg{constructor(){this.Qr=new Ot(jt.$r),this.Ur=new Ot(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new jt(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new jt(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new xe(new st([])),n=new jt(t,e),i=new jt(t,e+1),a=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new xe(new st([])),n=new jt(t,e),i=new jt(t,e+1);let a=ze();return this.Ur.forEachInRange([n,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new jt(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return xe.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||xe.comparator(e.key,t.key)}}class IR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(jt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new UP(a,t,n,i);this.mutationQueue.push(l);for(const d of i)this.Zr=this.Zr.add(new jt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,t){return J.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),a=i<0?0:i;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jt(t,0),i=new jt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(l=>{const d=this.Xr(l.Yr);a.push(d)})),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ot(Be);return t.forEach((i=>{const a=new jt(i,0),l=new jt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(d=>{n=n.add(d.Yr)}))})),J.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let a=n;xe.isDocumentKey(a)||(a=a.child(""));const l=new jt(new xe(a),0);let d=new Ot(Be);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.Yr)),!0)}),l),J.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return J.forEach(t.mutations,(i=>{const a=new jt(i.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new jt(t,0),i=this.Zr.firstAfterOrEqual(n);return J.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kR{constructor(e){this.ri=e,this.docs=(function(){return new mt(xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),a=i?i.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return J.resolve(n?n.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let n=Si();return t.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():on.newInvalidDocument(i))})),J.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let a=Si();const l=t.path,d=new xe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||tP(eP(g),n)<=0||(i.has(g.key)||Vh(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,n,i){Ce(9500)}ii(e,t){return J.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new CR(this)}getSize(e){return J.resolve(this.size)}}class CR extends _R{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),J.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class bR{constructor(e){this.persistence=e,this.si=new Do((t=>lg(t)),cg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=Ba.ur()}forEachTarget(e,t){return this.si.forEach(((n,i)=>t(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),J.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ba(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Pr(t),J.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,n){let i=0;const a=[];return this.si.forEach(((l,d)=>{d.sequenceNumber<=t&&n.get(d.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),J.waitFor(a).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return J.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),J.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return J.resolve(n)}containsKey(e,t){return J.resolve(this._i.containsKey(t))}}class F1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Nh(0),this.li=!1,this.li=!0,this.hi=new TR,this.referenceDelegate=e(this),this.Pi=new bR(this),this.indexManager=new hR,this.remoteDocumentCache=(function(i){return new kR(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new uR(t),this.Ii=new xR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new SR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new IR(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){fe("MemoryPersistence","Starting transaction:",e);const i=new DR(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,t){return J.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class DR extends rP{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),J.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(n=>{const i=xe.fromPath(n);return this.gi(e,i).next((a=>{a||t.removeEntry(i,De.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return J.or([()=>J.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ah{constructor(e,t){this.persistence=e,this.pi=new Do((n=>oP(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=vR(this,t)}static mi(e,t){return new ah(e,t)}Ei(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((i=>n+i))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return J.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?J.resolve():t(i)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,t).next((d=>{d||(n++,a.removeEntry(l,De.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),J.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nd(e.data.value)),t}br(e,t,n){return J.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return J.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vg{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=ze(),i=ze();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new vg(e,t.fromCache,n,i)}}class PR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class RR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ik()?8:iP(ln())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const a={result:null};return this.ys(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,t,i,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new PR;return this.Ss(e,t,l).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,l,d.size)}))})).next((()=>a.result))}bs(e,t,n,i){return n.documentReadCount<this.fs?(Sa()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Ta(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Sa()<=Ue.DEBUG&&fe("QueryEngine","Query:",Ta(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Sa()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Ta(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(t))):J.resolve())}ys(e,t){if(__(t))return J.resolve(null);let n=Vr(t);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=vm(t,null,"F"),n=Vr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=ze(...a);return this.ps.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,n).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,l,f.readTime)?this.ys(e,vm(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,n,i){return __(t)||i.isEqual(De.min())?J.resolve(null):this.ps.getDocuments(e,n).next((a=>{const l=this.Ds(t,a);return this.Cs(t,l,n,i)?J.resolve(null):(Sa()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ta(t)),this.vs(e,l,t,ZD(i,bc)).next((d=>d)))}))}Ds(e,t){let n=new Ot(g1(e));return t.forEach(((i,a)=>{Vh(e,a)&&(n=n.add(a))})),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,t,n){return Sa()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Ta(t)),this.ps.getDocumentsMatchingQuery(e,t,Ss.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const _g="LocalStore",AR=3e8;class NR{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new mt(Be),this.xs=new Do((a=>lg(a)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ER(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function MR(r,e,t,n){return new NR(r,e,t,n)}async function j1(r,e){const t=Re(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],d=[];let f=ze();for(const p of i){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(n,f).next((p=>({Ls:p,removedBatchIds:l,addedBatchIds:d})))}))}))}function OR(r,e){const t=Re(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const _=p.batch,x=_.keys();let T=J.resolve();return x.forEach((P=>{T=T.next((()=>g.getEntry(f,P))).next((M=>{const b=p.docVersions.get(P);Je(b!==null,48541),M.version.compareTo(b)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))}))})),T.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(d){let f=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(n,i)))}))}function U1(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function LR(r,e){const t=Re(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const d=[];e.targetChanges.forEach(((g,_)=>{const x=i.get(_);if(!x)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,_))));let T=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?T=T.withResumeToken(Gt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,n)),i=i.insert(_,T),(function(M,b,U){return M.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=AR?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,T,g)&&d.push(t.Pi.updateTargetData(a,T))}));let f=Si(),p=ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(VR(a,l,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!n.isEqual(De.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));d.push(g)}return J.waitFor(d).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=i,a)))}function VR(r,e,t){let n=ze(),i=ze();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let l=Si();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):fe(_g,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function FR(r,e){const t=Re(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=sg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function jR(r,e){const t=Re(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return t.Pi.getTargetData(n,e).next((a=>a?(i=a,J.resolve(i)):t.Pi.allocateTargetId(n).next((l=>(i=new ds(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Sm(r,e,t){const n=Re(r),i=n.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!sl(l))throw l;fe(_g,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function A_(r,e,t){const n=Re(r);let i=De.min(),a=ze();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,g){const _=Re(f),x=_.xs.get(g);return x!==void 0?J.resolve(_.Ms.get(x)):_.Pi.getTargetData(p,g)})(n,l,Vr(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?i:De.min(),t?a:ze()))).next((d=>(UR(n,IP(e),d),{documents:d,Qs:a})))))}function UR(r,e,t){let n=r.Os.get(e)||De.min();t.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.Os.set(e,n)}class N_{constructor(){this.activeTargetIds=RP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.Mo=new N_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N_,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zR{Oo(e){}shutdown(){}}const M_="ConnectivityMonitor";class O_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(M_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(M_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wd=null;function Tm(){return wd===null?wd=(function(){return 268435456+Math.round(2147483648*Math.random())})():wd++,"0x"+wd.toString(16)}const Up="RestConnection",WR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===eh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,a){const l=Tm(),d=this.zo(e,t.toUriEncodedString());fe(Up,`Sending RPC '${e}' ${l}:`,d,n);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,a);const{host:p}=new URL(d),g=el(p);return this.Jo(e,d,f,n,g).then((_=>(fe(Up,`Received RPC '${e}' ${l}: `,_),_)),(_=>{throw Va(Up,`RPC '${e}' ${l} failed with error: `,_,"url: ",d,"request:",n),_}))}Ho(e,t,n,i,a,l){return this.Go(e,t,n,i,a)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,t){const n=WR[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}class YR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const rn="WebChannelConnection";class $R extends HR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,a){const l=Tm();return new Promise(((d,f)=>{const p=new WE;p.setWithCredentials(!0),p.listenOnce(HE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ad.NO_ERROR:const _=p.getResponseJson();fe(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),d(_);break;case Ad.TIMEOUT:fe(rn,`RPC '${e}' ${l} timed out`),f(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const x=p.getStatus();if(fe(rn,`RPC '${e}' ${l} failed with status:`,x,"response text:",p.getResponseText()),x>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T?.error;if(P&&P.status&&P.message){const M=(function(U){const q=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(q)>=0?q:X.UNKNOWN})(P.status);f(new pe(M,P.message))}else f(new pe(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(rn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(i);fe(rn,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",g,n,15)}))}T_(e,t,n){const i=Tm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=qE(),d=$E(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,n),f.encodeInitMessageHeaders=!0;const g=a.join("");fe(rn,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=l.createWebChannel(g,f);this.I_(_);let x=!1,T=!1;const P=new YR({Yo:b=>{T?fe(rn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(x||(fe(rn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),x=!0),fe(rn,`RPC '${e}' stream ${i} sending:`,b),_.send(b))},Zo:()=>_.close()}),M=(b,U,q)=>{b.listen(U,(Q=>{try{q(Q)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return M(_,dc.EventType.OPEN,(()=>{T||(fe(rn,`RPC '${e}' stream ${i} transport opened.`),P.o_())})),M(_,dc.EventType.CLOSE,(()=>{T||(T=!0,fe(rn,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(_))})),M(_,dc.EventType.ERROR,(b=>{T||(T=!0,Va(rn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),P.a_(new pe(X.UNAVAILABLE,"The operation could not be completed")))})),M(_,dc.EventType.MESSAGE,(b=>{if(!T){const U=b.data[0];Je(!!U,16349);const q=U,Q=q?.error||q[0]?.error;if(Q){fe(rn,`RPC '${e}' stream ${i} received error:`,Q);const ne=Q.status;let se=(function(k){const D=Dt[k];if(D!==void 0)return C1(D)})(ne),ce=Q.message;se===void 0&&(se=X.INTERNAL,ce="Unknown error status: "+ne+" with message "+Q.message),T=!0,P.a_(new pe(se,ce)),_.close()}else fe(rn,`RPC '${e}' stream ${i} received:`,U),P.u_(U)}})),M(d,YE.STAT_EVENT,(b=>{b.stat===dm.PROXY?fe(rn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===dm.NOPROXY&&fe(rn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Bp(){return typeof document<"u"?document:null}function Bh(r){return new GP(r,!0)}class B1{constructor(e,t,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const L_="PersistentStream";class z1{constructor(e,t,n,i,a,l,d,f){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(xi(t.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===t&&this.G_(n,i)}),(n=>{e((()=>{const i=new pe(X.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(fe(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qR extends z1{constructor(e,t,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=ZP(this.serializer,e),n=(function(a){if(!("targetChange"in a))return De.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?jr(l.readTime):De.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=xm(this.serializer),t.addTarget=(function(a,l){let d;const f=l.target;if(d=gm(f)?{documents:nR(a,f)}:{query:rR(a,f).ft},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=P1(a,l.resumeToken);const p=_m(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(De.min())>0){d.readTime=oh(a,l.snapshotVersion.toTimestamp());const p=_m(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const n=sR(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=xm(this.serializer),t.removeTarget=e,this.q_(t)}}class KR extends z1{constructor(e,t,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=tR(e.writeResults,e.commitTime),n=jr(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=xm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>eR(this.serializer,n)))};this.q_(t)}}class QR{}class GR extends QR{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,wm(t,n),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(X.UNKNOWN,a.toString())}))}Ho(e,t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.Ho(e,wm(t,n),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(X.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class XR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xi(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const To="RemoteStore";class JR{constructor(e,t,n,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{Ro(this)&&(fe(To,"Restarting streams for network reachability change."),await(async function(f){const p=Re(f);p.Ea.add(4),await $c(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zh(p)})(this))}))})),this.Ra=new XR(n,i)}}async function zh(r){if(Ro(r))for(const e of r.da)await e(!0)}async function $c(r){for(const e of r.da)await e(!1)}function W1(r,e){const t=Re(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Sg(t)?xg(t):ol(t).O_()&&Eg(t,e))}function wg(r,e){const t=Re(r),n=ol(t);t.Ia.delete(e),n.O_()&&H1(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ro(t)&&t.Ra.set("Unknown"))}function Eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(r).Y_(e)}function H1(r,e){r.Va.Ue(e),ol(r).Z_(e)}function xg(r){r.Va=new $P({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Sg(r){return Ro(r)&&!ol(r).x_()&&r.Ia.size>0}function Ro(r){return Re(r).Ea.size===0}function Y1(r){r.Va=void 0}async function ZR(r){r.Ra.set("Online")}async function eA(r){r.Ia.forEach(((e,t)=>{Eg(r,e)}))}async function tA(r,e){Y1(r),Sg(r)?(r.Ra.ha(e),xg(r)):r.Ra.set("Unknown")}async function nA(r,e,t){if(r.Ra.set("Online"),e instanceof D1&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.Ia.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ia.delete(d),i.Va.removeTarget(d))})(r,e)}catch(n){fe(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await lh(r,n)}else if(e instanceof Ld?r.Va.Ze(e):e instanceof b1?r.Va.st(e):r.Va.tt(e),!t.isEqual(De.min()))try{const n=await U1(r.localStore);t.compareTo(n)>=0&&await(function(a,l){const d=a.Va.Tt(l);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Gt.EMPTY_BYTE_STRING,g.snapshotVersion)),H1(a,f);const _=new ds(g.target,f,p,g.sequenceNumber);Eg(a,_)})),a.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(n){fe(To,"Failed to raise snapshot:",n),await lh(r,n)}}async function lh(r,e,t){if(!sl(e))throw e;r.Ea.add(1),await $c(r),r.Ra.set("Offline"),t||(t=()=>U1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(To,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await zh(r)}))}function $1(r,e){return e().catch((t=>lh(r,t,e)))}async function Wh(r){const e=Re(r),t=Cs(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sg;for(;rA(e);)try{const i=await FR(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,iA(e,i)}catch(i){await lh(e,i)}q1(e)&&K1(e)}function rA(r){return Ro(r)&&r.Ta.length<10}function iA(r,e){r.Ta.push(e);const t=Cs(r);t.O_()&&t.X_&&t.ea(e.mutations)}function q1(r){return Ro(r)&&!Cs(r).x_()&&r.Ta.length>0}function K1(r){Cs(r).start()}async function sA(r){Cs(r).ra()}async function oA(r){const e=Cs(r);for(const t of r.Ta)e.ea(t.mutations)}async function aA(r,e,t){const n=r.Ta.shift(),i=fg.from(n,e,t);await $1(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Wh(r)}async function lA(r,e){e&&Cs(r).X_&&await(async function(n,i){if((function(l){return WP(l)&&l!==X.ABORTED})(i.code)){const a=n.Ta.shift();Cs(n).B_(),await $1(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Wh(n)}})(r,e),q1(r)&&K1(r)}async function V_(r,e){const t=Re(r);t.asyncQueue.verifyOperationInProgress(),fe(To,"RemoteStore received new credentials");const n=Ro(t);t.Ea.add(3),await $c(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await zh(t)}async function cA(r,e){const t=Re(r);e?(t.Ea.delete(2),await zh(t)):e||(t.Ea.add(2),await $c(t),t.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(t,n,i){const a=Re(t);return a.sa(),new qR(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:ZR.bind(null,r),t_:eA.bind(null,r),r_:tA.bind(null,r),H_:nA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Sg(r)?xg(r):r.Ra.set("Unknown")):(await r.ma.stop(),Y1(r))}))),r.ma}function Cs(r){return r.fa||(r.fa=(function(t,n,i){const a=Re(t);return a.sa(),new KR(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:sA.bind(null,r),r_:lA.bind(null,r),ta:oA.bind(null,r),na:aA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Wh(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(To,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Tg{constructor(e,t,n,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,a){const l=Date.now()+n,d=new Tg(e,t,l,i,a);return d.start(n),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(r,e){if(xi("AsyncQueue",`${e}: ${r}`),sl(r))return new pe(X.UNAVAILABLE,`${e}: ${r}`);throw r}class Ra{static emptySet(e){return new Ra(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||xe.comparator(t.key,n.key):(t,n)=>xe.comparator(t.key,n.key),this.keyedMap=hc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ra)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ra;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class F_{constructor(){this.ga=new mt(xe.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class za{constructor(e,t,n,i,a,l,d,f,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,a){const l=[];return t.forEach((d=>{l.push({type:0,doc:d})})),new za(e,t,Ra.emptySet(t),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class uA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class dA{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=Re(t),a=i.queries;i.queries=j_(),a.forEach(((l,d)=>{for(const f of d.Sa)f.onError(n)}))})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function j_(){return new Do((r=>m1(r)),Lh)}async function Q1(r,e){const t=Re(r);let n=3;const i=e.query;let a=t.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new uA,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await t.onListen(i,!0);break;case 1:a.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const d=Ig(l,`Initialization of query '${Ta(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&kg(t)}async function G1(r,e){const t=Re(r),n=e.query;let i=3;const a=t.queries.get(n);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function hA(r,e){const t=Re(r);let n=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const d of l.Sa)d.Fa(i)&&(n=!0);l.wa=i}}n&&kg(t)}function fA(r,e,t){const n=Re(r),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(t);n.queries.delete(e)}function kg(r){r.Ca.forEach((e=>{e.next()}))}var Im,U_;(U_=Im||(Im={})).Ma="default",U_.Cache="cache";class X1{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new za(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Im.Cache}}class J1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class pA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=g1(e),this.tu=new Ra(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new F_,i=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((g,_)=>{const x=i.get(g),T=Vh(this.query,_)?_:null,P=!!x&&this.mutatedKeys.has(x.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;x&&T?x.data.isEqual(T.data)?P!==M&&(n.track({type:3,doc:T}),b=!0):this.su(x,T)||(n.track({type:2,doc:T}),b=!0,(f&&this.eu(T,f)>0||p&&this.eu(T,p)<0)&&(d=!0)):!x&&T?(n.track({type:0,doc:T}),b=!0):x&&!T&&(n.track({type:1,doc:x}),b=!0,(f||p)&&(d=!0)),b&&(T?(l=l.add(T),a=M?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),n.track({type:1,doc:g})}return{tu:l,iu:n,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,_)=>(function(T,P){const M=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:b})}};return M(T)-M(P)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(n),i=i??!1;const d=t&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new za(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new Z1(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new J1(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class mA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class gA{constructor(e){this.key=e,this.hu=!1}}class yA{constructor(e,t,n,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Do((d=>m1(d)),Lh),this.Iu=new Map,this.Eu=new Set,this.du=new mt(xe.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=Ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vA(r,e,t=!0){const n=sx(r);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await ex(n,e,t,!0),i}async function _A(r,e){const t=sx(r);await ex(t,e,!0,!1)}async function ex(r,e,t,n){const i=await jR(r.localStore,Vr(e)),a=i.targetId,l=r.sharedClientState.addLocalQueryTarget(a,t);let d;return n&&(d=await wA(r,e,a,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&W1(r.remoteStore,i),d}async function wA(r,e,t,n,i){r.pu=(_,x,T)=>(async function(M,b,U,q){let Q=b.view.ru(U);Q.Cs&&(Q=await A_(M.localStore,b.query,!1).then((({documents:C})=>b.view.ru(C,Q))));const ne=q&&q.targetChanges.get(b.targetId),se=q&&q.targetMismatches.get(b.targetId)!=null,ce=b.view.applyChanges(Q,M.isPrimaryClient,ne,se);return z_(M,b.targetId,ce.au),ce.snapshot})(r,_,x,T);const a=await A_(r.localStore,e,!0),l=new pA(e,a.Qs),d=l.ru(a.documents),f=Yc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(d,r.isPrimaryClient,f);z_(r,t,p.au);const g=new mA(e,t,l);return r.Tu.set(e,g),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function EA(r,e,t){const n=Re(r),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((l=>!Lh(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Sm(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),t&&wg(n.remoteStore,i.targetId),km(n,i.targetId)})).catch(il)):(km(n,i.targetId),await Sm(n.localStore,i.targetId,!0))}async function xA(r,e){const t=Re(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),wg(t.remoteStore,n.targetId))}async function SA(r,e,t){const n=PA(r);try{const i=await(function(l,d){const f=Re(l),p=ct.now(),g=d.reduce(((T,P)=>T.add(P.key)),ze());let _,x;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let P=Si(),M=ze();return f.Ns.getEntries(T,g).next((b=>{P=b,P.forEach(((U,q)=>{q.isValidDocument()||(M=M.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,P))).next((b=>{_=b;const U=[];for(const q of d){const Q=FP(q,_.get(q.key).overlayedDocument);Q!=null&&U.push(new Po(q.key,Q,a1(Q.value.mapValue),Fr.exists(!0)))}return f.mutationQueue.addMutationBatch(T,p,U,d)})).next((b=>{x=b;const U=b.applyToLocalDocumentSet(_,M);return f.documentOverlayCache.saveOverlays(T,b.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:v1(_)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,d,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new mt(Be)),p=p.insert(d,f),l.Vu[l.currentUser.toKey()]=p})(n,i.batchId,t),await qc(n,i.changes),await Wh(n.remoteStore)}catch(i){const a=Ig(i,"Failed to persist write");t.reject(a)}}async function tx(r,e){const t=Re(r);try{const n=await LR(t.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=t.Au.get(a);l&&(Je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Je(l.hu,14607):i.removedDocuments.size>0&&(Je(l.hu,42227),l.hu=!1))})),await qc(t,n,e)}catch(n){await il(n)}}function B_(r,e,t){const n=Re(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach(((a,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const f=Re(l);f.onlineState=d;let p=!1;f.queries.forEach(((g,_)=>{for(const x of _.Sa)x.va(d)&&(p=!0)})),p&&kg(f)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function TA(r,e,t){const n=Re(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),a=i&&i.key;if(a){let l=new mt(xe.comparator);l=l.insert(a,on.newNoDocument(a,De.min()));const d=ze().add(a),f=new Uh(De.min(),new Map,new mt(Be),l,d);await tx(n,f),n.du=n.du.remove(a),n.Au.delete(e),bg(n)}else await Sm(n.localStore,e,!1).then((()=>km(n,e,t))).catch(il)}async function IA(r,e){const t=Re(r),n=e.batch.batchId;try{const i=await OR(t.localStore,e);rx(t,n,null),nx(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await qc(t,i)}catch(i){await il(i)}}async function kA(r,e,t){const n=Re(r);try{const i=await(function(l,d){const f=Re(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((_=>(Je(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(n.localStore,e);rx(n,e,t),nx(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await qc(n,i)}catch(i){await il(i)}}function nx(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function rx(r,e,t){const n=Re(r);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function km(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||ix(r,n)}))}function ix(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(wg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),bg(r))}function z_(r,e,t){for(const n of t)n instanceof J1?(r.Ru.addReference(n.key,e),CA(r,n)):n instanceof Z1?(fe(Cg,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||ix(r,n.key)):Ce(19791,{wu:n})}function CA(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(fe(Cg,"New document in limbo: "+t),r.Eu.add(n),bg(r))}function bg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new xe(st.fromString(e)),n=r.fu.next();r.Au.set(n,new gA(t)),r.du=r.du.insert(t,n),W1(r.remoteStore,new ds(Vr(ug(t.path)),n,"TargetPurposeLimboResolution",Nh.ce))}}async function qc(r,e,t){const n=Re(r),i=[],a=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((d,f)=>{l.push(n.pu(f,e,t).then((p=>{if((p||t)&&n.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;n.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){i.push(p);const g=vg.As(f.targetId,p);a.push(g)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>J.forEach(p,(x=>J.forEach(x.Es,(T=>g.persistence.referenceDelegate.addReference(_,x.targetId,T))).next((()=>J.forEach(x.ds,(T=>g.persistence.referenceDelegate.removeReference(_,x.targetId,T)))))))))}catch(_){if(!sl(_))throw _;fe(_g,"Failed to update sequence numbers: "+_)}for(const _ of p){const x=_.targetId;if(!_.fromCache){const T=g.Ms.get(x),P=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(P);g.Ms=g.Ms.insert(x,M)}}})(n.localStore,a))}async function bA(r,e){const t=Re(r);if(!t.currentUser.isEqual(e)){fe(Cg,"User change. New user:",e.toKey());const n=await j1(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new pe(X.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await qc(t,n.Ls)}}function DA(r,e){const t=Re(r),n=t.Au.get(e);if(n&&n.hu)return ze().add(n.key);{let i=ze();const a=t.Iu.get(e);if(!a)return i;for(const l of a){const d=t.Tu.get(l);i=i.unionWith(d.view.nu)}return i}}function sx(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TA.bind(null,e),e.Pu.H_=hA.bind(null,e.eventManager),e.Pu.yu=fA.bind(null,e.eventManager),e}function PA(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kA.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return MR(this.persistence,new RR,e.initialUser,this.serializer)}Cu(e){return new F1(yg.mi,this.serializer)}Du(e){return new BR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class RA extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof ah,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new gR(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new F1((n=>ah.mi(n,t)),this.serializer)}}class Cm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>B_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bA.bind(null,this.syncEngine),await cA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dA})()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),n=(function(a){return new $R(a)})(e.databaseInfo);return(function(a,l,d,f){return new GR(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,i,a,l,d){return new JR(n,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>B_(this.syncEngine,t,0)),(function(){return O_.v()?new O_:new zR})())}createSyncEngine(e,t){return(function(i,a,l,d,f,p,g){const _=new yA(i,a,l,d,f,p);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Re(t);fe(To,"RemoteStore shutting down."),n.Ea.add(5),await $c(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class ox{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const bs="FirestoreClient";class AA{constructor(e,t,n,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{fe(bs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(fe(bs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ig(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function zp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(bs,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async i=>{n.isEqual(i)||(await j1(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function W_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await NA(r);fe(bs,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>V_(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,i)=>V_(e.remoteStore,i))),r._onlineComponents=e}async function NA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(bs,"Using user provided OfflineComponentProvider");try{await zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Va("Error using user provided cache. Falling back to memory cache: "+t),await zp(r,new ch)}}else fe(bs,"Using default OfflineComponentProvider"),await zp(r,new RA(void 0));return r._offlineComponents}async function ax(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(bs,"Using user provided OnlineComponentProvider"),await W_(r,r._uninitializedComponentsProvider._online)):(fe(bs,"Using default OnlineComponentProvider"),await W_(r,new Cm))),r._onlineComponents}function MA(r){return ax(r).then((e=>e.syncEngine))}async function bm(r){const e=await ax(r),t=e.eventManager;return t.onListen=vA.bind(null,e.syncEngine),t.onUnlisten=EA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_A.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=xA.bind(null,e.syncEngine),t}function OA(r,e,t={}){const n=new vs;return r.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,p){const g=new ox({next:x=>{g.Nu(),l.enqueueAndForget((()=>G1(a,_))),x.fromCache&&f.source==="server"?p.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new X1(d,g,{includeMetadataChanges:!0,qa:!0});return Q1(a,_)})(await bm(r),r.asyncQueue,e,t,n))),n.promise}function lx(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const H_=new Map;const cx="firestore.googleapis.com",Y_=!0;class $_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=Y_}else this.host=e.host,this.ssl=e.ssl??Y_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=V1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pR)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lx(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new zD;switch(n.type){case"firstParty":return new $D(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=H_.get(t);n&&(fe("ComponentProvider","Removing Datastore"),H_.delete(t),n.terminate())})(this),Promise.resolve()}}function LA(r,e,t,n={}){r=_s(r,Hh);const i=el(e),a=r._getSettings(),l={...a,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;i&&(tE(`https://${d}`),nE("Firestore",!0)),a.host!==cx&&a.host!==d&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:i,emulatorOptions:n};if(!_o(f,l)&&(r._setSettings(f),n.mockUserToken)){let p,g;if(typeof n.mockUserToken=="string")p=n.mockUserToken,g=sn.MOCK_USER;else{p=QI(n.mockUserToken,r._app?.options.projectId);const _=n.mockUserToken.sub||n.mockUserToken.user_id;if(!_)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new sn(_)}r._authCredentials=new WD(new QE(p,g))}}class Ao{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ao(this.firestore,e,this._query)}}class Mt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(zc(t,Mt._jsonSchema))return new Mt(e,n||null,new xe(st.fromString(t.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Rt("string",Mt._jsonSchemaVersion),referencePath:Rt("string")};class ws extends Ao{constructor(e,t,n){super(e,t,ug(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new xe(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function uh(r,e,...t){if(r=Qt(r),GE("collection","path",e),r instanceof Hh){const n=st.fromString(e,...t);return s_(n),new ws(r,null,n)}{if(!(r instanceof Mt||r instanceof ws))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return s_(n),new ws(r.firestore,null,n)}}function ux(r,e,...t){if(r=Qt(r),arguments.length===1&&(e=ig.newId()),GE("doc","path",e),r instanceof Hh){const n=st.fromString(e,...t);return i_(n),new Mt(r,null,new xe(n))}{if(!(r instanceof Mt||r instanceof ws))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(st.fromString(e,...t));return i_(n),new Mt(r.firestore,r instanceof ws?r.converter:null,new xe(n))}}const q_="AsyncQueue";class K_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B1(this,"async_queue_retry"),this._c=()=>{const n=Bp();n&&fe(q_,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Bp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Bp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;fe(q_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,xi("INTERNAL UNHANDLED ERROR: ",Q_(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Tg.createAndSchedule(this,e,t,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ce(47125,{Pc:Q_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Q_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function G_(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const i=t;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(r,["next","error","complete"])}class Wa extends Hh{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new K_,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new K_(e),this._firestoreClient=void 0,await e}}}function VA(r,e){const t=typeof r=="object"?r:oE(),n=typeof r=="string"?r:eh,i=$m(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=qI("firestore");a&&LA(i,...a)}return i}function Dg(r){if(r._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FA(r),r._firestoreClient}function FA(r){const e=r._freezeSettings(),t=(function(i,a,l,d){return new cP(i,a,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lx(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AA(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Gt.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Rt("string",Hn._jsonSchemaVersion),bytes:Rt("string")};class Pg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dx{constructor(e){this._methodName=e}}class Ur{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ur._jsonSchemaVersion}}static fromJSON(e){if(zc(e,Ur._jsonSchema))return new Ur(e.latitude,e.longitude)}}Ur._jsonSchemaVersion="firestore/geoPoint/1.0",Ur._jsonSchema={type:Rt("string",Ur._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Br{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Br._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,Br._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Br(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Br._jsonSchemaVersion="firestore/vectorValue/1.0",Br._jsonSchema={type:Rt("string",Br._jsonSchemaVersion),vectorValues:Rt("object")};const jA=/^__.*__$/;class UA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Po(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}function hx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Rg{constructor(e,t,n,i,a,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hx(this.Ac)&&jA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Bh(e)}Cc(e,t,n,i=!1){return new Rg({Ac:e,methodName:t,Dc:n,path:qt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fx(r){const e=r._freezeSettings(),t=Bh(r._databaseId);return new BA(r._databaseId,!!e.ignoreUndefinedProperties,t)}function zA(r,e,t,n,i,a={}){const l=r.Cc(a.merge||a.mergeFields?2:0,e,t,i);gx("Data must be an object, but it was:",l,n);const d=px(n,l);let f,p;if(a.merge)f=new ir(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const x=HA(e,_,t);if(!l.contains(x))throw new pe(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);$A(g,x)||g.push(x)}f=new ir(g),p=l.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=l.fieldTransforms;return new UA(new Wn(d),f,p)}function WA(r,e,t,n=!1){return Ag(t,r.Cc(n?4:3,e))}function Ag(r,e){if(mx(r=Qt(r)))return gx("Unsupported field value:",e,r),px(r,e);if(r instanceof dx)return(function(n,i){if(!hx(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let l=0;for(const d of n){let f=Ag(d,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(r,e)}return(function(n,i){if((n=Qt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return AP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=ct.fromDate(n);return{timestampValue:oh(i.serializer,a)}}if(n instanceof ct){const a=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:oh(i.serializer,a)}}if(n instanceof Ur)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hn)return{bytesValue:P1(i.serializer,n._byteString)};if(n instanceof Mt){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mg(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Br)return(function(l,d){return{mapValue:{fields:{[s1]:{stringValue:o1},[th]:{arrayValue:{values:l.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return dg(d.serializer,p)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${Ah(n)}`)})(r,e)}function px(r,e){const t={};return ZE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bo(r,((n,i)=>{const a=Ag(i,e.mc(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function mx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ct||r instanceof Ur||r instanceof Hn||r instanceof Mt||r instanceof dx||r instanceof Br)}function gx(r,e,t){if(!mx(t)||!XE(t)){const n=Ah(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function HA(r,e,t){if((e=Qt(e))instanceof Pg)return e._internalPath;if(typeof e=="string")return yx(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,t)}const YA=new RegExp("[~\\*/\\[\\]]");function yx(r,e,t){if(e.search(YA)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Pg(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function dh(r,e,t,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${n}`),l&&(f+=` in document ${i}`),f+=")"),new pe(X.INVALID_ARGUMENT,d+r+f)}function $A(r,e){return r.some((t=>t.isEqual(e)))}class vx{constructor(e,t,n,i,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qA extends vx{data(){return super.data()}}function Ng(r,e){return typeof e=="string"?yx(r,e):e instanceof Pg?e._internalPath:e._delegate._internalPath}function _x(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mg{}class KA extends Mg{}function Dm(r,e,...t){let n=[];e instanceof Mg&&n.push(e),n=n.concat(t),(function(a){const l=a.filter((f=>f instanceof Og)).length,d=a.filter((f=>f instanceof Yh)).length;if(l>1||l>0&&d>0)throw new pe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)r=i._apply(r);return r}class Yh extends KA{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Yh(e,t,n)}_apply(e){const t=this._parse(e);return wx(e._query,t),new Ao(e.firestore,e.converter,ym(e._query,t))}_parse(e){const t=fx(e.firestore);return(function(a,l,d,f,p,g,_){let x;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new pe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){J_(_,g);const P=[];for(const M of _)P.push(X_(f,a,M));x={arrayValue:{values:P}}}else x=X_(f,a,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||J_(_,g),x=WA(d,l,_,g==="in"||g==="not-in");return Pt.create(p,g,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xc(r,e,t){const n=e,i=Ng("where",r);return Yh._create(i,n,t)}class Og extends Mg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Og(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,a){let l=i;const d=a.getFlattenedFilters();for(const f of d)wx(l,f),l=ym(l,f)})(e._query,t),new Ao(e.firestore,e.converter,ym(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function X_(r,e,t){if(typeof(t=Qt(t))=="string"){if(t==="")throw new pe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(e)&&t.indexOf("/")!==-1)throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(st.fromString(t));if(!xe.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return f_(r,new xe(n))}if(t instanceof Mt)return f_(r,t._key);throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function J_(r,e){if(!Array.isArray(r)||r.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wx(r,e){const t=(function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class QA{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return bo(e,((i,a)=>{n[i]=this.convertValue(a,t)})),n}convertVectorValue(e){const t=e.fields?.[th].arrayValue?.values?.map((n=>xt(n.doubleValue)));return new Br(t)}convertGeoPoint(e){return new Ur(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Oh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const t=Ts(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=st.fromString(e);Je(L1(n),9688,{name:e});const i=new Pc(n.get(1),n.get(3)),a=new xe(n.popFirst(5));return i.isEqual(t)||xi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function GA(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mo extends vx{constructor(e,t,n,i,a,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=mo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Rt("string",mo._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Vd extends mo{data(e={}){return super.data(e)}}class go{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Vd(this._firestore,this._userDataWriter,n.key,n,new pc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const f=new Vd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new pc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Vd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new pc(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),g=l.indexOf(d.doc.key)),{type:XA(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}go._jsonSchemaVersion="firestore/querySnapshot/1.0",go._jsonSchema={type:Rt("string",go._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class Lg extends QA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,t)}}function JA(r){r=_s(r,Ao);const e=_s(r.firestore,Wa),t=Dg(e),n=new Lg(e);return _x(r._query),OA(t,r._query).then((i=>new go(e,n,r,i)))}function ZA(r){return Ex(_s(r.firestore,Wa),[new hg(r._key,Fr.none())])}function e2(r,e){const t=_s(r.firestore,Wa),n=ux(r),i=GA(r.converter,e);return Ex(t,[zA(fx(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Fr.exists(!1))]).then((()=>n))}function t2(r,...e){r=Qt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||G_(e[n])||(t=e[n++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(G_(e[n])){const f=e[n];e[n]=f.next?.bind(f),e[n+1]=f.error?.bind(f),e[n+2]=f.complete?.bind(f)}let a,l,d;if(r instanceof Mt)l=_s(r.firestore,Wa),d=ug(r._key.path),a={next:f=>{e[n]&&e[n](n2(l,r,f))},error:e[n+1],complete:e[n+2]};else{const f=_s(r,Ao);l=_s(f.firestore,Wa),d=f._query;const p=new Lg(l);a={next:g=>{e[n]&&e[n](new go(l,p,f,g))},error:e[n+1],complete:e[n+2]},_x(r._query)}return(function(p,g,_,x){const T=new ox(x),P=new X1(g,T,_);return p.asyncQueue.enqueueAndForget((async()=>Q1(await bm(p),P))),()=>{T.Nu(),p.asyncQueue.enqueueAndForget((async()=>G1(await bm(p),P)))}})(Dg(l),d,i,a)}function Ex(r,e){return(function(n,i){const a=new vs;return n.asyncQueue.enqueueAndForget((async()=>SA(await MA(n),i,a))),a.promise})(Dg(r),e)}function n2(r,e,t){const n=t.docs.get(e._key),i=new Lg(r);return new mo(r,i,e._key,n,new pc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){rl=i})(tl),Oa(new wo("firestore",((n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),d=new Wa(new HD(n.getProvider("auth-internal")),new qD(l,n.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pc(p.options.projectId,g)})(l,i),l);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),gs(e_,t_,e),gs(e_,t_,"esm2020")})();const r2={apiKey:"AIzaSyD41wfGccm__cUaXkFas-uGH0O8eursuE4",authDomain:"doctor-website-c5d1d.firebaseapp.com",projectId:"doctor-website-c5d1d",storageBucket:"doctor-website-c5d1d.firebasestorage.app",messagingSenderId:"198059748374",appId:"1:198059748374:web:7f42d6870e3f5321239937",measurementId:"G-CGHL6SXXWW"},xx=sE(r2),Sc=VA(xx),ic=FD(xx),Sx=B.createContext(),al=()=>B.useContext(Sx),i2=({children:r})=>{const[e,t]=B.useState(null),[n,i]=B.useState(!0);function a(g,_){return wb(ic,g,_)}function l(g,_){return Eb(ic,g,_)}function d(){return Cb(ic)}function f(){const g=new ui;return qb(ic,g)}B.useEffect(()=>kb(ic,_=>{t(_),i(!1)}),[]);const p={currentUser:e,signup:a,login:l,logout:d,googleSignIn:f};return E.jsx(Sx.Provider,{value:p,children:n?E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"white"},children:"Loading..."}):r})},s2=()=>{const r=Ja(),e=Za(),{currentUser:t,logout:n}=al(),[i,a]=B.useState(!1),[l,d]=B.useState(!0),[f,p]=B.useState(0);B.useEffect(()=>{const T=()=>{const P=window.scrollY;if(P<100){d(!0),p(P);return}P>f&&P>100?d(!1):P<f&&d(!0),p(P)};return window.addEventListener("scroll",T,{passive:!0}),()=>window.removeEventListener("scroll",T)},[f]);const g=()=>{a(!i)},_=()=>{a(!1)},x=async()=>{try{await n(),e("/login"),_()}catch(T){console.error("Failed to log out",T)}};return E.jsxs("div",{className:"layout",children:[E.jsx("header",{style:{position:"sticky",top:"20px",zIndex:100,padding:"0 24px",transform:l?"translateY(0)":"translateY(-150%)",transition:"transform 0.3s ease-in-out"},children:E.jsxs("div",{className:"glass-panel container",style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"80px",padding:"0 40px",marginTop:"20px",borderRadius:"var(--radius-full)"},children:[E.jsxs("div",{className:"logo",style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--primary-color)",display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx("span",{style:{fontSize:"2rem"},children:""}),E.jsxs("div",{children:["Happy Clinic",E.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"var(--text-secondary)",fontWeight:"500",letterSpacing:"0.05em"},children:"MULTI-SPECIALITY CARE"})]})]}),E.jsx("nav",{className:"nav desktop-nav",children:E.jsxs("ul",{style:{display:"flex",gap:"40px",listStyle:"none",alignItems:"center"},children:[["Home","About","Services","Specialists","Contact"].map(T=>{let P;T==="Home"?P="/":P=`/${T.toLowerCase()}`;const M=r.pathname===P;return E.jsx("li",{children:E.jsxs(Yt,{to:P,style:{fontWeight:"600",color:M?"var(--primary-color)":"var(--text-secondary)",position:"relative"},children:[T,M&&E.jsx("span",{style:{position:"absolute",bottom:"-5px",left:"0",width:"100%",height:"2px",backgroundColor:"var(--primary-color)",borderRadius:"2px"}})]})},T)}),t?E.jsx(E.Fragment,{children:E.jsx("li",{children:E.jsx(Yt,{to:"/dashboard",className:"btn btn-primary",style:{padding:"8px 20px",fontSize:"0.9rem"},children:"Dashboard"})})}):E.jsx("li",{children:E.jsx(Yt,{to:"/login",className:"btn",style:{padding:"8px 20px",fontSize:"0.9rem",border:"1px solid var(--primary-color)",color:"var(--primary-color)",background:"transparent"},children:"Login"})})]})}),E.jsx("button",{className:"mobile-menu-btn",onClick:g,style:{display:"none",background:"none",border:"none",fontSize:"1.8rem",cursor:"pointer",color:"var(--primary-color)",padding:"8px"},"aria-label":"Toggle menu",children:i?"":""})]})}),E.jsxs("div",{className:"mobile-sidebar",style:{position:"fixed",top:0,right:i?0:"-100%",width:"280px",height:"100vh",background:"linear-gradient(135deg, var(--primary-color), var(--primary-dark))",zIndex:1e3,transition:"right 0.3s ease-in-out",padding:"80px 30px 30px",boxShadow:i?"-4px 0 20px rgba(0,0,0,0.2)":"none"},children:[E.jsx("button",{onClick:_,style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255,255,255,0.2)",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"white",width:"40px",height:"40px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),E.jsx("nav",{children:E.jsxs("ul",{style:{listStyle:"none",padding:0},children:[["Home","About","Services","Specialists","Contact"].map(T=>{let P;T==="Home"?P="/":P=`/${T.toLowerCase()}`;const M=r.pathname===P;return E.jsx("li",{style:{marginBottom:"20px"},children:E.jsx(Yt,{to:P,onClick:_,style:{display:"block",padding:"15px 20px",color:"white",fontWeight:"600",fontSize:"1.1rem",backgroundColor:M?"rgba(255,255,255,0.2)":"transparent",borderRadius:"12px",transition:"all 0.2s ease"},children:T})},T)}),t?E.jsxs(E.Fragment,{children:[E.jsx("li",{style:{marginBottom:"20px"},children:E.jsx(Yt,{to:"/dashboard",onClick:_,style:{display:"block",padding:"15px 20px",color:"var(--primary-color)",fontWeight:"600",fontSize:"1.1rem",backgroundColor:"white",borderRadius:"12px",textAlign:"center"},children:"Dashboard"})}),E.jsx("li",{style:{marginBottom:"20px"},children:E.jsx("button",{onClick:x,style:{display:"block",width:"100%",padding:"15px 20px",color:"white",fontWeight:"600",fontSize:"1.1rem",backgroundColor:"rgba(255,0,0,0.2)",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"12px",cursor:"pointer"},children:"Log Out"})})]}):E.jsx("li",{style:{marginBottom:"20px"},children:E.jsx(Yt,{to:"/login",onClick:_,style:{display:"block",padding:"15px 20px",color:"var(--primary-color)",fontWeight:"600",fontSize:"1.1rem",backgroundColor:"white",borderRadius:"12px",textAlign:"center"},children:"Login"})})]})})]}),i&&E.jsx("div",{onClick:_,style:{position:"fixed",top:0,left:0,width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,0.5)",zIndex:999,transition:"opacity 0.3s ease"}}),E.jsx("main",{children:E.jsx(kI,{})}),r.pathname!=="/contact"&&E.jsx("footer",{style:{backgroundColor:"#1f2937",color:"white",padding:"60px 0 30px",marginTop:"100px"},children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"40px",marginBottom:"40px"},children:[E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"20px",color:"var(--primary-light)"},children:"Happy Clinic"}),E.jsx("p",{style:{color:"#9ca3af",lineHeight:"1.8"},children:"Providing expert Multi-Speciality care in Salem, Tamil Nadu."})]}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontSize:"1.2rem",marginBottom:"20px",color:"white"},children:"Quick Links"}),E.jsx("ul",{style:{listStyle:"none",padding:0},children:["Home","About","Services","Contact"].map(T=>E.jsx("li",{style:{marginBottom:"10px"},children:E.jsx(Yt,{to:T==="Home"?"/":`/${T.toLowerCase()}`,style:{color:"#9ca3af"},children:T})},T))})]}),E.jsxs("div",{children:[E.jsx("h4",{style:{fontSize:"1.2rem",marginBottom:"20px",color:"white"},children:"Contact"}),E.jsxs("p",{style:{color:"#9ca3af",lineHeight:"1.8"},children:[" Salem, Tamil Nadu",E.jsx("br",{})," contact@happyclinic.com",E.jsx("br",{})," +91 98765 43210"]})]})]}),E.jsx("div",{style:{borderTop:"1px solid #374151",paddingTop:"30px",textAlign:"center",color:"#9ca3af"},children:E.jsx("p",{children:" 2025 Happy Clinic. All rights reserved."})})]})})]})},hh=[{id:"dr_kalicharan",name:"Dr. Kalicharan P",specialization:"Pulmonology & Pediatrics",email:"sat998@gmail.com",image:"https://cdn-icons-png.flaticon.com/512/3774/3774299.png",description:"Specialized Pulmonology and Pediatric care delivered with compassion."},{id:"dr_karthik",name:"Dr. Karthik",specialization:"General & Orthopedics",email:"karthik@clinic.com",image:"https://cdn-icons-png.flaticon.com/512/3774/3774299.png",description:"Expert care in General Medicine and Orthopedics for all ages."}],o2=r=>hh.find(e=>e.email===r),a2=()=>E.jsx("div",{className:"home-page",style:{minHeight:"calc(100vh - 140px)",display:"flex",flexDirection:"column",justifyContent:"center",padding:"20px 0"},children:E.jsx("section",{style:{position:"relative"},children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(100%, 400px), 1fr))",gap:"40px",alignItems:"center"},children:[E.jsxs("div",{style:{textAlign:"left"},children:[E.jsx("span",{className:"animate-fade-in",style:{display:"inline-block",padding:"6px 16px",backgroundColor:"var(--primary-light)",color:"var(--primary-dark)",borderRadius:"var(--radius-full)",fontWeight:"600",fontSize:"0.8rem",marginBottom:"16px",letterSpacing:"0.05em",textTransform:"uppercase"},children:"Welcome to Happy Clinic"}),E.jsxs("h1",{className:"animate-slide-up delay-100",style:{fontSize:"clamp(2rem, 5vw, 3rem)",fontWeight:"800",lineHeight:"1.2",marginBottom:"16px",background:"linear-gradient(135deg, var(--text-primary), var(--primary-color))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:["Expert Care from ",E.jsx("br",{}),"Our Specialists"]}),E.jsx("p",{className:"animate-slide-up delay-200",style:{fontSize:"1rem",color:"var(--text-secondary)",marginBottom:"24px",lineHeight:"1.7",maxWidth:"500px"},children:"Specializing in Pulmonology, Pediatrics, General Medicine, and Orthopedics. Dedicated to your health and well-being."}),E.jsxs("div",{className:"animate-slide-up delay-300",style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[E.jsx(Yt,{to:"/contact",className:"btn btn-primary",style:{padding:"12px 28px",fontSize:"0.95rem"},children:"Book Appointment"}),E.jsx(Yt,{to:"/services",className:"btn btn-secondary",style:{padding:"12px 28px",fontSize:"0.95rem"},children:"Our Services"})]})]}),E.jsxs("div",{className:"animate-slide-up delay-200",children:[E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"16px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"700",color:"var(--primary-color)"},children:"15+"}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Years Exp"})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"16px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"700",color:"var(--primary-color)"},children:"2"}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Locations"})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"16px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"700",color:"var(--primary-color)"},children:"4+"}),E.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Specialties"})]})]}),E.jsx("div",{id:"doctors",style:{display:"flex",flexDirection:"column",gap:"12px"},children:hh.map(r=>E.jsxs("div",{className:"glass-panel",style:{padding:"16px 20px",display:"flex",alignItems:"center",gap:"16px",transition:"transform 0.2s ease"},children:[E.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",overflow:"hidden",backgroundColor:"var(--primary-light)",flexShrink:0},children:E.jsx("img",{src:r.image,alt:r.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),E.jsxs("div",{style:{flex:1,minWidth:0},children:[E.jsx("h3",{style:{fontSize:"1rem",fontWeight:"700",color:"var(--text-primary)",marginBottom:"2px"},children:r.name}),E.jsx("p",{style:{color:"var(--primary-color)",fontWeight:"500",fontSize:"0.85rem"},children:r.specialization})]}),E.jsx(Yt,{to:"/about",style:{padding:"6px 12px",fontSize:"0.75rem",fontWeight:"600",color:"var(--primary-color)",border:"1px solid var(--primary-color)",borderRadius:"var(--radius-full)",textDecoration:"none",whiteSpace:"nowrap"},children:"View"})]},r.id))})]})]}),E.jsx("div",{className:"animate-slide-up delay-400",style:{display:"flex",justifyContent:"center",gap:"12px",flexWrap:"wrap",marginTop:"40px"},children:[{icon:"",label:"Pulmonology"},{icon:"",label:"Pediatrics"},{icon:"",label:"Orthopedics"},{icon:"",label:"Easy Booking"},{icon:"",label:"2 Locations"}].map((r,e)=>E.jsxs("div",{className:"glass-panel",style:{padding:"8px 16px",display:"flex",alignItems:"center",gap:"8px",borderRadius:"var(--radius-full)",fontSize:"0.85rem",fontWeight:"500",color:"var(--text-secondary)"},children:[E.jsx("span",{children:r.icon}),E.jsx("span",{children:r.label})]},e))})]})})}),l2=()=>E.jsx("div",{style:{minHeight:"calc(100vh - 140px)",display:"flex",flexDirection:"column",justifyContent:"center",padding:"20px 0"},children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[E.jsx("h1",{style:{fontSize:"clamp(1.8rem, 4vw, 2.5rem)",fontWeight:"800",marginBottom:"12px",color:"var(--text-primary)"},children:"About Happy Clinic"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1rem",maxWidth:"600px",margin:"0 auto"},children:"Dedicated to providing exceptional healthcare with compassion and expertise since 2010."})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(100%, 350px), 1fr))",gap:"30px",alignItems:"center",marginBottom:"40px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"30px"},children:[E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("h3",{style:{color:"var(--primary-color)",marginBottom:"10px",fontSize:"1.2rem"},children:" Our Mission"}),E.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To deliver accessible, high-quality medical care to our community. We believe in treating patients like family, ensuring comfort, trust, and the best possible health outcomes."})]}),E.jsxs("div",{children:[E.jsx("h3",{style:{color:"var(--primary-color)",marginBottom:"10px",fontSize:"1.2rem"},children:" Our Vision"}),E.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To be the most trusted healthcare provider in Salem and Attur, known for our expertise in Pulmonology, Pediatrics, and Orthopedics."})]})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"20px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"5px"},children:"Expert Doctors"}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Highly qualified specialists"})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"20px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"5px"},children:"Modern Facilities"}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Advanced medical equipment"})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"20px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"5px"},children:"Patient First"}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Compassionate care always"})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"20px",textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"2rem",marginBottom:"10px"},children:""}),E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"5px"},children:"2 Locations"}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Convenient access"})]})]})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px",padding:"20px",backgroundColor:"var(--primary-light)",borderRadius:"16px"},children:[E.jsxs("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap"},children:[E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--primary-dark)"},children:"15+"}),E.jsx("div",{style:{fontSize:"0.8rem",color:"var(--primary-dark)",opacity:.8},children:"Years Experience"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--primary-dark)"},children:"10k+"}),E.jsx("div",{style:{fontSize:"0.8rem",color:"var(--primary-dark)",opacity:.8},children:"Happy Patients"})]})]}),E.jsxs("div",{style:{display:"flex",gap:"12px"},children:[E.jsx(Yt,{to:"/specialists",className:"btn",style:{backgroundColor:"white",color:"var(--primary-color)",fontWeight:"600",padding:"10px 20px",borderRadius:"var(--radius-full)"},children:"Meet Our Team"}),E.jsx(Yt,{to:"/contact",className:"btn btn-primary",style:{padding:"10px 20px"},children:"Book Visit"})]})]})]})}),c2=()=>{const r=[{icon:"",name:"Pulmonology",color:"var(--primary-color)",items:["Asthma","COPD","Allergies","Lung Tests"]},{icon:"",name:"Pediatrics",color:"var(--secondary-color)",items:["Vaccinations","Growth Check","Child Care","Nutrition"]},{icon:"",name:"General Medicine",color:"#3b82f6",items:["Fever/Flu","Diabetes","BP Control","Checkups"]},{icon:"",name:"Orthopedics",color:"#8b5cf6",items:["Joint Pain","Fractures","Arthritis","Sports Injury"]}];return E.jsx("div",{style:{minHeight:"calc(100vh - 140px)",display:"flex",flexDirection:"column",justifyContent:"center",padding:"10px 0"},children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[E.jsx("h1",{style:{fontSize:"clamp(1.8rem, 4vw, 2.5rem)",fontWeight:"800",marginBottom:"4px",background:"linear-gradient(135deg, var(--text-primary), var(--primary-color))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Our Services"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",maxWidth:"500px",margin:"0 auto"},children:"Comprehensive healthcare specializing in respiratory health, pediatrics, and orthopedics"})]}),E.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"16px",marginBottom:"24px",flexWrap:"nowrap",overflowX:"auto",paddingBottom:"10px"},children:r.map((e,t)=>E.jsxs("div",{className:"glass-panel",style:{padding:"20px",transition:"transform 0.3s ease",cursor:"default",flex:"1",minWidth:"220px",maxWidth:"280px"},onMouseOver:n=>n.currentTarget.style.transform="translateY(-4px)",onMouseOut:n=>n.currentTarget.style.transform="translateY(0)",children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[E.jsx("div",{style:{width:"44px",height:"44px",backgroundColor:`${e.color}15`,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.6rem"},children:e.icon}),E.jsx("h3",{style:{color:e.color,fontSize:"1rem",fontWeight:"700"},children:e.name})]}),E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:e.items.map((n,i)=>E.jsx("span",{style:{padding:"3px 8px",backgroundColor:`${e.color}10`,color:e.color,borderRadius:"6px",fontSize:"0.7rem",fontWeight:"500"},children:n},i))})]},t))}),E.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"20px",alignItems:"center",flexWrap:"wrap"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"12px 20px",display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"2px",fontSize:"0.9rem"},children:"Two Locations"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"Salem (Mon-Wed)  Attur (Thu-Sat)"})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"12px 20px",display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx("div",{style:{fontSize:"1.5rem"},children:""}),E.jsxs("div",{children:[E.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"2px",fontSize:"0.9rem"},children:"Clinic Hours"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"10:00 AM - 8:00 PM (Closed Sundays)"})]})]}),E.jsx(Yt,{to:"/contact",className:"btn btn-primary",style:{padding:"12px 24px",textAlign:"center",fontSize:"0.95rem"},children:"Book Consultation "})]})]})})},u2=()=>{const[r,e]=B.useState(0),t=[{id:"dr_kalicharan",name:"Dr. Kalicharan P",qualifications:["MBBS","MD Pulmonologist","Dip. in Pediatrics"],specializations:["Pulmonology","Pediatrics"],experience:"15+ Years",emoji:"",consultationFee:"500",languages:["English","Tamil","Hindi"],availability:{location:"Salem Clinic",days:"Mon - Wed",time:"10:00 AM - 8:00 PM"},bio:`Dr. Kalicharan P is a distinguished medical professional with over 15 years of experience 
                in treating respiratory disorders and pediatric conditions. His dual specialization allows 
                him to provide comprehensive care for patients of all ages.`,achievements:["Successfully treated over 10,000+ patients","Former Senior Consultant at Government Hospital, Salem","Published research on Pediatric Respiratory Disorders","Member of Indian Medical Association (IMA)","Recognized for excellence in patient care"],expertise:[{name:"Asthma & COPD",level:98},{name:"Pediatric Care",level:96},{name:"Allergy Treatment",level:97},{name:"Respiratory Infections",level:98},{name:"Vaccinations",level:96}]},{id:"dr_karthik",name:"Dr. Karthik",qualifications:["MBBS","MS Orthopedics","Fellowship in Sports Medicine"],specializations:["General Medicine","Orthopedics"],experience:"12+ Years",emoji:"",consultationFee:"400",languages:["English","Tamil"],availability:{location:"Attur Clinic",days:"Thu - Sat",time:"10:00 AM - 8:00 PM"},bio:`Dr. Karthik is an expert orthopedic surgeon and general physician with 12+ years of 
                experience. He specializes in treating musculoskeletal conditions, sports injuries, 
                and provides comprehensive primary healthcare services.`,achievements:["Over 5,000+ successful orthopedic treatments","Fellowship trained in Sports Medicine","Former Orthopedic Consultant at Apollo Hospitals","Member of Indian Orthopedic Association","Expert in minimally invasive procedures"],expertise:[{name:"Joint Care",level:98},{name:"Fracture Treatment",level:97},{name:"Sports Medicine",level:96},{name:"Arthritis",level:97},{name:"General Medicine",level:96}]}],n=t[r],i="var(--primary-color)";return E.jsx("div",{style:{minHeight:"calc(100vh - 140px)",display:"flex",flexDirection:"column",padding:"20px 0"},children:E.jsxs("div",{className:"container",children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[E.jsx("h1",{style:{fontSize:"clamp(1.8rem, 4vw, 2.5rem)",fontWeight:"800",marginBottom:"8px",color:"var(--text-primary)"},children:"Our Specialists"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Expert medical professionals dedicated to your health"})]}),E.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginBottom:"30px",flexWrap:"wrap"},children:t.map((a,l)=>E.jsxs("button",{onClick:()=>e(l),style:{padding:"12px 24px",borderRadius:"var(--radius-full)",border:r===l?"none":"2px solid var(--glass-border)",background:r===l?"linear-gradient(135deg, var(--primary-color), var(--primary-dark))":"var(--glass-bg)",color:r===l?"white":"var(--text-primary)",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx("span",{style:{fontSize:"1.2rem"},children:a.emoji}),a.name]},a.id))}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(min(100%, 350px), 1fr))",gap:"24px",alignItems:"start"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"24px"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"20px"},children:[E.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 12px",backgroundColor:"var(--primary-light)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem"},children:n.emoji}),E.jsx("h2",{style:{color:i,fontSize:"1.4rem",marginBottom:"8px"},children:n.name}),E.jsx("div",{style:{display:"flex",gap:"6px",justifyContent:"center",flexWrap:"wrap",marginBottom:"12px"},children:n.qualifications.map((a,l)=>E.jsx("span",{style:{padding:"3px 10px",backgroundColor:"var(--primary-light)",color:"var(--primary-dark)",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"600"},children:a},l))})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"20px"},children:[E.jsxs("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"var(--primary-light)",borderRadius:"12px"},children:[E.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"var(--primary-dark)"},children:n.experience}),E.jsx("div",{style:{fontSize:"0.7rem",color:"var(--primary-dark)",textTransform:"uppercase",opacity:.8},children:"Experience"})]}),E.jsxs("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"var(--primary-light)",borderRadius:"12px"},children:[E.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:"var(--primary-dark)"},children:n.consultationFee}),E.jsx("div",{style:{fontSize:"0.7rem",color:"var(--primary-dark)",textTransform:"uppercase",opacity:.8},children:"Consultation"})]})]}),E.jsxs("div",{style:{padding:"16px",backgroundColor:"var(--primary-light)",borderRadius:"12px",marginBottom:"16px"},children:[E.jsx("h4",{style:{color:"var(--primary-dark)",marginBottom:"10px",fontSize:"0.9rem"},children:" Availability"}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--primary-dark)",marginBottom:"4px",fontWeight:"600"},children:n.availability.location}),E.jsxs("p",{style:{fontSize:"0.85rem",color:"var(--primary-dark)",opacity:.8},children:[n.availability.days,"  ",n.availability.time]})]}),E.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"16px",alignItems:"center"},children:[E.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:" Languages:"}),n.languages.map((a,l)=>E.jsx("span",{style:{fontSize:"0.8rem",padding:"4px 10px",backgroundColor:"var(--glass-bg)",borderRadius:"8px",color:"var(--text-primary)",border:"1px solid var(--glass-border)"},children:a},l))]}),E.jsx(Yt,{to:"/contact",className:"btn btn-primary",style:{width:"100%",padding:"12px",textAlign:"center",display:"block"},children:"Book Appointment"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[E.jsx("h3",{style:{color:i,marginBottom:"10px",fontSize:"1rem"},children:"About"}),E.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem",lineHeight:"1.6"},children:n.bio})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[E.jsx("h3",{style:{color:i,marginBottom:"12px",fontSize:"1rem"},children:"Expertise"}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:n.expertise.map((a,l)=>E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[E.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-primary)"},children:a.name}),E.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[a.level,"%"]})]}),E.jsx("div",{style:{height:"6px",backgroundColor:"var(--primary-light)",borderRadius:"3px",overflow:"hidden"},children:E.jsx("div",{style:{width:`${a.level}%`,height:"100%",background:"linear-gradient(90deg, var(--primary-color), var(--primary-dark))",borderRadius:"3px",transition:"width 0.5s ease"}})})]},l))})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"20px"},children:[E.jsx("h3",{style:{color:i,marginBottom:"10px",fontSize:"1rem"},children:" Achievements"}),E.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.achievements.slice(0,4).map((a,l)=>E.jsxs("li",{style:{padding:"6px 0",fontSize:"0.85rem",color:"var(--text-primary)",display:"flex",alignItems:"flex-start",gap:"8px"},children:[E.jsx("span",{style:{color:"var(--success-color)"},children:""}),a]},l))})]})]})]})]})})};class Kc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const d2=()=>{if(!(typeof localStorage>"u"))return{get:r=>Promise.resolve(localStorage.getItem(r)),set:(r,e)=>Promise.resolve(localStorage.setItem(r,e)),remove:r=>Promise.resolve(localStorage.removeItem(r))}},$t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:d2()},Vg=r=>r?typeof r=="string"?{publicKey:r}:r.toString()==="[object Object]"?r:{}:{},h2=(r,e="https://api.emailjs.com")=>{if(!r)return;const t=Vg(r);$t.publicKey=t.publicKey,$t.blockHeadless=t.blockHeadless,$t.storageProvider=t.storageProvider,$t.blockList=t.blockList,$t.limitRate=t.limitRate,$t.origin=t.origin||e},Tx=async(r,e,t={})=>{const n=await fetch($t.origin+r,{method:"POST",headers:t,body:e}),i=await n.text(),a=new Kc(n.status,i);if(n.ok)return a;throw a},Ix=(r,e,t)=>{if(!r||typeof r!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},f2=r=>{if(r&&r.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},kx=r=>r.webdriver||!r.languages||r.languages.length===0,Cx=()=>new Kc(451,"Unavailable For Headless Browser"),p2=(r,e)=>{if(!Array.isArray(r))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},m2=r=>!r.list?.length||!r.watchVariable,g2=(r,e)=>r instanceof FormData?r.get(e):r[e],bx=(r,e)=>{if(m2(r))return!1;p2(r.list,r.watchVariable);const t=g2(e,r.watchVariable);return typeof t!="string"?!1:r.list.includes(t)},Dx=()=>new Kc(403,"Forbidden"),y2=(r,e)=>{if(typeof r!="number"||r<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},v2=async(r,e,t)=>{const n=Number(await t.get(r)||0);return e-Date.now()+n},Px=async(r,e,t)=>{if(!e.throttle||!t)return!1;y2(e.throttle,e.id);const n=e.id||r;return await v2(n,e.throttle,t)>0?!0:(await t.set(n,Date.now().toString()),!1)},Rx=()=>new Kc(429,"Too Many Requests"),_2=async(r,e,t,n)=>{const i=Vg(n),a=i.publicKey||$t.publicKey,l=i.blockHeadless||$t.blockHeadless,d=i.storageProvider||$t.storageProvider,f={...$t.blockList,...i.blockList},p={...$t.limitRate,...i.limitRate};return l&&kx(navigator)?Promise.reject(Cx()):(Ix(a,r,e),f2(t),t&&bx(f,t)?Promise.reject(Dx()):await Px(location.pathname,p,d)?Promise.reject(Rx()):Tx("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:r,template_id:e,template_params:t}),{"Content-type":"application/json"}))},w2=r=>{if(!r||r.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},E2=r=>typeof r=="string"?document.querySelector(r):r,x2=async(r,e,t,n)=>{const i=Vg(n),a=i.publicKey||$t.publicKey,l=i.blockHeadless||$t.blockHeadless,d=$t.storageProvider||i.storageProvider,f={...$t.blockList,...i.blockList},p={...$t.limitRate,...i.limitRate};if(l&&kx(navigator))return Promise.reject(Cx());const g=E2(t);Ix(a,r,e),w2(g);const _=new FormData(g);return bx(f,_)?Promise.reject(Dx()):await Px(location.pathname,p,d)?Promise.reject(Rx()):(_.append("lib_version","4.4.1"),_.append("service_id",r),_.append("template_id",e),_.append("user_id",a),Tx("/api/v1.0/email/send-form",_))},Z_={init:h2,send:_2,sendForm:x2,EmailJSResponseStatus:Kc},S2=[{date:"01-01",name:"New Year's Day"},{date:"01-26",name:"Republic Day"},{date:"08-15",name:"Independence Day"},{date:"10-02",name:"Gandhi Jayanti"},{date:"12-25",name:"Christmas"},{date:"03-14",name:"Holi"},{date:"10-20",name:"Diwali"}],Aa={SALEM:{name:"Salem",address:"123 Health Avenue, Medical District, Salem, Tamil Nadu",days:[1,2,3],displayDays:"Monday - Wednesday"},ATTUR:{name:"Attur",address:"456 Care Street, Attur, Tamil Nadu",days:[4,5,6],displayDays:"Thursday - Saturday"}},T2=["10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","01:00 PM","01:30 PM","02:00 PM","02:30 PM","03:00 PM","03:30 PM","04:00 PM","04:30 PM","05:00 PM","05:30 PM","06:00 PM","06:30 PM"],I2=(r,e=null)=>{const t=r.getDay();if(t===0)return{isOpen:!1,reason:"Sunday - Clinic Closed"};const n=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0"),a=`${n}-${i}`,l=S2.find(d=>d.date===a);if(l)return{isOpen:!1,reason:l.name};if(e){const d=Aa[e];if(d&&!d.days.includes(t))return{isOpen:!1,reason:`${d.name} clinic operates only on ${d.displayDays}`}}return{isOpen:!0}};function Ax(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=Ax(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Kt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=Ax(r))&&(n&&(n+=" "),n+=e);return n}const Nx=6048e5,k2=864e5,$h=6e4,qh=36e5,C2=1e3,ew=Symbol.for("constructDateFrom");function tt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&ew in r?r[ew](e):r instanceof Date?new r.constructor(e):new Date(e)}function we(r,e){return tt(e||r,r)}function or(r,e,t){const n=we(r,t?.in);return isNaN(e)?tt(t?.in||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function lr(r,e,t){const n=we(r,t?.in);if(isNaN(e))return tt(r,NaN);if(!e)return n;const i=n.getDate(),a=tt(r,n.getTime());a.setMonth(n.getMonth()+e+1,0);const l=a.getDate();return i>=l?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function Mx(r,e,t){return tt(r,+we(r)+e)}function b2(r,e,t){return Mx(r,e*qh)}let D2={};function No(){return D2}function Ti(r,e){const t=No(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=we(r,e?.in),a=i.getDay(),l=(a<n?7:0)+a-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Ha(r,e){return Ti(r,{...e,weekStartsOn:1})}function Ox(r,e){const t=we(r,e?.in),n=t.getFullYear(),i=tt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const a=Ha(i),l=tt(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const d=Ha(l);return t.getTime()>=a.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function fh(r){const e=we(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function bi(r,...e){const t=tt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Io(r,e){const t=we(r,e?.in);return t.setHours(0,0,0,0),t}function Ya(r,e,t){const[n,i]=bi(t?.in,r,e),a=Io(n),l=Io(i),d=+a-fh(a),f=+l-fh(l);return Math.round((d-f)/k2)}function P2(r,e){const t=Ox(r,e),n=tt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ha(n)}function Pm(r,e,t){const n=we(r,t?.in);return n.setTime(n.getTime()+e*$h),n}function Fg(r,e,t){return lr(r,e*3,t)}function R2(r,e,t){return Mx(r,e*1e3)}function ph(r,e,t){return or(r,e*7,t)}function mi(r,e,t){return lr(r,e*12,t)}function tw(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=tt.bind(null,i));const a=we(i,n);(!t||t<a||isNaN(+a))&&(t=a)}),tt(n,t||NaN)}function nw(r,e){let t,n=e?.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=tt.bind(null,i));const a=we(i,n);(!t||t>a||isNaN(+a))&&(t=a)}),tt(n,t||NaN)}function A2(r,e,t){const[n,i]=bi(t?.in,r,e);return+Io(n)==+Io(i)}function gi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function mh(r){return!(!gi(r)&&typeof r!="number"||isNaN(+we(r)))}function gh(r,e,t){const[n,i]=bi(t?.in,r,e),a=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return a*12+l}function hs(r,e){const t=we(r,e?.in);return Math.trunc(t.getMonth()/3)+1}function yh(r,e,t){const[n,i]=bi(t?.in,r,e),a=n.getFullYear()-i.getFullYear(),l=hs(n)-hs(i);return a*4+l}function vh(r,e,t){const[n,i]=bi(t?.in,r,e);return n.getFullYear()-i.getFullYear()}function N2(r,e,t){const[n,i]=bi(t?.in,r,e),a=rw(n,i),l=Math.abs(Ya(n,i));n.setDate(n.getDate()-a*l);const d=+(rw(n,i)===-a),f=a*(l-d);return f===0?0:f}function rw(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Lx(r,e){const t=we(r,e?.in);return t.setHours(23,59,59,999),t}function Vx(r,e){const t=we(r,e?.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Rm(r,e){const t=we(r,e?.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function Fx(r,e){const t=we(r,e?.in);return t.setDate(1),t.setHours(0,0,0,0),t}function jx(r,e){const t=we(r,e?.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Kh(r,e){const t=we(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function M2(r,e){const t=No(),n=t.weekStartsOn??t.locale?.options?.weekStartsOn??0,i=we(r,e?.in),a=i.getDay(),l=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const O2={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L2=(r,e,t)=>{let n;const i=O2[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Wp(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const V2={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F2={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},j2={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},U2={date:Wp({formats:V2,defaultWidth:"full"}),time:Wp({formats:F2,defaultWidth:"full"}),dateTime:Wp({formats:j2,defaultWidth:"full"})},B2={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},z2=(r,e,t,n)=>B2[r];function sc(r){return(e,t)=>{const n=t?.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,d=t?.width?String(t.width):l;i=r.formattingValues[d]||r.formattingValues[l]}else{const l=r.defaultWidth,d=t?.width?String(t.width):r.defaultWidth;i=r.values[d]||r.values[l]}const a=r.argumentCallback?r.argumentCallback(e):e;return i[a]}}const W2={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H2={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y2={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$2={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},K2={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Q2=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},G2={ordinalNumber:Q2,era:sc({values:W2,defaultWidth:"wide"}),quarter:sc({values:H2,defaultWidth:"wide",argumentCallback:r=>r-1}),month:sc({values:Y2,defaultWidth:"wide"}),day:sc({values:$2,defaultWidth:"wide"}),dayPeriod:sc({values:q2,defaultWidth:"wide",formattingValues:K2,defaultFormattingWidth:"wide"})};function oc(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],a=e.match(i);if(!a)return null;const l=a[0],d=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],f=Array.isArray(d)?J2(d,_=>_.test(l)):X2(d,_=>_.test(l));let p;p=r.valueCallback?r.valueCallback(f):f,p=t.valueCallback?t.valueCallback(p):p;const g=e.slice(l.length);return{value:p,rest:g}}}function X2(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function J2(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function Z2(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],a=e.match(r.parsePattern);if(!a)return null;let l=r.valueCallback?r.valueCallback(a[0]):a[0];l=t.valueCallback?t.valueCallback(l):l;const d=e.slice(i.length);return{value:l,rest:d}}}const eN=/^(\d+)(th|st|nd|rd)?/i,tN=/\d+/i,nN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rN={any:[/^b/i,/^(a|c)/i]},iN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sN={any:[/1/i,/2/i,/3/i,/4/i]},oN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hN={ordinalNumber:Z2({matchPattern:eN,parsePattern:tN,valueCallback:r=>parseInt(r,10)}),era:oc({matchPatterns:nN,defaultMatchWidth:"wide",parsePatterns:rN,defaultParseWidth:"any"}),quarter:oc({matchPatterns:iN,defaultMatchWidth:"wide",parsePatterns:sN,defaultParseWidth:"any",valueCallback:r=>r+1}),month:oc({matchPatterns:oN,defaultMatchWidth:"wide",parsePatterns:aN,defaultParseWidth:"any"}),day:oc({matchPatterns:lN,defaultMatchWidth:"wide",parsePatterns:cN,defaultParseWidth:"any"}),dayPeriod:oc({matchPatterns:uN,defaultMatchWidth:"any",parsePatterns:dN,defaultParseWidth:"any"})},Ux={code:"en-US",formatDistance:L2,formatLong:U2,formatRelative:z2,localize:G2,match:hN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fN(r,e){const t=we(r,e?.in);return Ya(t,Kh(t))+1}function jg(r,e){const t=we(r,e?.in),n=+Ha(t)-+P2(t);return Math.round(n/Nx)+1}function Ug(r,e){const t=we(r,e?.in),n=t.getFullYear(),i=No(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=tt(e?.in||r,0);l.setFullYear(n+1,0,a),l.setHours(0,0,0,0);const d=Ti(l,e),f=tt(e?.in||r,0);f.setFullYear(n,0,a),f.setHours(0,0,0,0);const p=Ti(f,e);return+t>=+d?n+1:+t>=+p?n:n-1}function pN(r,e){const t=No(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,i=Ug(r,e),a=tt(e?.in||r,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ti(a,e)}function Bx(r,e){const t=we(r,e?.in),n=+Ti(t,e)-+pN(t,e);return Math.round(n/Nx)+1}function et(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const os={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return et(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):et(t+1,2)},d(r,e){return et(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return et(r.getHours()%12||12,e.length)},H(r,e){return et(r.getHours(),e.length)},m(r,e){return et(r.getMinutes(),e.length)},s(r,e){return et(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return et(i,e.length)}},xa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iw={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return os.y(r,e)},Y:function(r,e,t,n){const i=Ug(r,n),a=i>0?i:1-i;if(e==="YY"){const l=a%100;return et(l,2)}return e==="Yo"?t.ordinalNumber(a,{unit:"year"}):et(a,e.length)},R:function(r,e){const t=Ox(r);return et(t,e.length)},u:function(r,e){const t=r.getFullYear();return et(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return et(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return et(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return os.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return et(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=Bx(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):et(i,e.length)},I:function(r,e,t){const n=jg(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):et(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):os.d(r,e)},D:function(r,e,t){const n=fN(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):et(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return et(a,2);case"eo":return t.ordinalNumber(a,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return et(a,e.length);case"co":return t.ordinalNumber(a,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return et(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=xa.noon:n===0?i=xa.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=xa.evening:n>=12?i=xa.afternoon:n>=4?i=xa.morning:i=xa.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return os.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):os.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):et(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):et(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):os.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):os.s(r,e)},S:function(r,e){return os.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return ow(n);case"XXXX":case"XX":return lo(n);case"XXXXX":case"XXX":default:return lo(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return ow(n);case"xxxx":case"xx":return lo(n);case"xxxxx":case"xxx":default:return lo(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sw(n,":");case"OOOO":default:return"GMT"+lo(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sw(n,":");case"zzzz":default:return"GMT"+lo(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return et(n,e.length)},T:function(r,e,t){return et(+r,e.length)}};function sw(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),a=n%60;return a===0?t+String(i):t+String(i)+e+et(a,2)}function ow(r,e){return r%60===0?(r>0?"-":"+")+et(Math.abs(r)/60,2):lo(r,e)}function lo(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=et(Math.trunc(n/60),2),a=et(n%60,2);return t+i+e+a}const aw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},zx=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},mN=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return aw(r,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",aw(n,e)).replace("{{time}}",zx(i,e))},Am={p:zx,P:mN},gN=/^D+$/,yN=/^Y+$/,vN=["D","DD","YY","YYYY"];function _N(r){return gN.test(r)}function wN(r){return yN.test(r)}function EN(r,e,t){const n=xN(r,e,t);if(console.warn(n),vN.includes(r))throw new RangeError(n)}function xN(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IN=/^'([^]*?)'?$/,kN=/''/g,CN=/[a-zA-Z]/;function lw(r,e,t){const n=No(),i=t?.locale??n.locale??Ux,a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=we(r,t?.in);if(!mh(d))throw new RangeError("Invalid time value");let f=e.match(TN).map(g=>{const _=g[0];if(_==="p"||_==="P"){const x=Am[_];return x(g,i.formatLong)}return g}).join("").match(SN).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const _=g[0];if(_==="'")return{isToken:!1,value:bN(g)};if(iw[_])return{isToken:!0,value:g};if(_.match(CN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const p={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return f.map(g=>{if(!g.isToken)return g.value;const _=g.value;(!t?.useAdditionalWeekYearTokens&&wN(_)||!t?.useAdditionalDayOfYearTokens&&_N(_))&&EN(_,e,String(r));const x=iw[_[0]];return x(d,_,i.localize,p)}).join("")}function bN(r){const e=r.match(IN);return e?e[1].replace(kN,"'"):r}function cw(r,e){return we(r,e?.in).getDate()}function DN(r,e){return we(r,e?.in).getDay()}function PN(r,e){const t=we(r,e?.in),n=t.getFullYear(),i=t.getMonth(),a=tt(t,0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}function RN(){return Object.assign({},No())}function yi(r,e){return we(r,e?.in).getHours()}function AN(r,e){const t=we(r,e?.in).getDay();return t===0?7:t}function vi(r,e){return we(r,e?.in).getMinutes()}function an(r,e){return we(r,e?.in).getMonth()}function Es(r){return we(r).getSeconds()}function Nm(r){return+we(r)}function Me(r,e){return we(r,e?.in).getFullYear()}function Ds(r,e){return+we(r)>+we(e)}function Mr(r,e){return+we(r)<+we(e)}function NN(r,e){return+we(r)==+we(e)}function MN(r,e){const t=ON(e)?new e(0):tt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function ON(r){return typeof r=="function"&&r.prototype?.constructor===r}const LN=10;class Wx{subPriority=0;validate(e,t){return!0}}class VN extends Wx{constructor(e,t,n,i,a){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,a&&(this.subPriority=a)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class FN extends Wx{priority=LN;subPriority=-1;constructor(e,t){super(),this.context=e||(n=>tt(t,n))}set(e,t){return t.timestampIsSet?e:tt(e,MN(e,this.context))}}class Qe{run(e,t,n,i){const a=this.parse(e,t,n,i);return a?{setter:new VN(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(e,t,n){return!0}}class jN extends Qe{priority=140;parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["R","u","t","T"]}const St={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Rr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Tt(r,e){return r&&{value:e(r.value),rest:r.rest}}function pt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ar(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,a=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*qh+a*$h+l*C2),rest:e.slice(t[0].length)}}function Hx(r){return pt(St.anyDigitsSigned,r)}function vt(r,e){switch(r){case 1:return pt(St.singleDigit,e);case 2:return pt(St.twoDigits,e);case 3:return pt(St.threeDigits,e);case 4:return pt(St.fourDigits,e);default:return pt(new RegExp("^\\d{1,"+r+"}"),e)}}function _h(r,e){switch(r){case 1:return pt(St.singleDigitSigned,e);case 2:return pt(St.twoDigitsSigned,e);case 3:return pt(St.threeDigitsSigned,e);case 4:return pt(St.fourDigitsSigned,e);default:return pt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Bg(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Yx(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const a=n+50,l=Math.trunc(a/100)*100,d=r>=a%100;i=r+l-(d?100:0)}return t?i:1-i}function $x(r){return r%400===0||r%4===0&&r%100!==0}class UN extends Qe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(e,t,n){const i=a=>({year:a,isTwoDigitYear:t==="yy"});switch(t){case"y":return Tt(vt(4,e),i);case"yo":return Tt(n.ordinalNumber(e,{unit:"year"}),i);default:return Tt(vt(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const i=e.getFullYear();if(n.isTwoDigitYear){const l=Yx(n.year,i);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const a=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(a,0,1),e.setHours(0,0,0,0),e}}class BN extends Qe{priority=130;parse(e,t,n){const i=a=>({year:a,isTwoDigitYear:t==="YY"});switch(t){case"Y":return Tt(vt(4,e),i);case"Yo":return Tt(n.ordinalNumber(e,{unit:"year"}),i);default:return Tt(vt(t.length,e),i)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,i){const a=Ug(e,i);if(n.isTwoDigitYear){const d=Yx(n.year,a);return e.setFullYear(d,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ti(e,i)}const l=!("era"in t)||t.era===1?n.year:1-n.year;return e.setFullYear(l,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),Ti(e,i)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class zN extends Qe{priority=130;parse(e,t){return _h(t==="R"?4:t.length,e)}set(e,t,n){const i=tt(e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Ha(i)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class WN extends Qe{priority=130;parse(e,t){return _h(t==="u"?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class HN extends Qe{priority=120;parse(e,t,n){switch(t){case"Q":case"QQ":return vt(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class YN extends Qe{priority=120;parse(e,t,n){switch(t){case"q":case"qq":return vt(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth((n-1)*3,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class $N extends Qe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(e,t,n){const i=a=>a-1;switch(t){case"M":return Tt(pt(St.month,e),i);case"MM":return Tt(vt(2,e),i);case"Mo":return Tt(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}}class qN extends Qe{priority=110;parse(e,t,n){const i=a=>a-1;switch(t){case"L":return Tt(pt(St.month,e),i);case"LL":return Tt(vt(2,e),i);case"Lo":return Tt(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function KN(r,e,t){const n=we(r,t?.in),i=Bx(n,t)-e;return n.setDate(n.getDate()-i*7),we(n,t?.in)}class QN extends Qe{priority=100;parse(e,t,n){switch(t){case"w":return pt(St.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return vt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,i){return Ti(KN(e,n,i),i)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function GN(r,e,t){const n=we(r,t?.in),i=jg(n,t)-e;return n.setDate(n.getDate()-i*7),n}class XN extends Qe{priority=100;parse(e,t,n){switch(t){case"I":return pt(St.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return vt(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ha(GN(e,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const JN=[31,28,31,30,31,30,31,31,30,31,30,31],ZN=[31,29,31,30,31,30,31,31,30,31,30,31];class eM extends Qe{priority=90;subPriority=1;parse(e,t,n){switch(t){case"d":return pt(St.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return vt(t.length,e)}}validate(e,t){const n=e.getFullYear(),i=$x(n),a=e.getMonth();return i?t>=1&&t<=ZN[a]:t>=1&&t<=JN[a]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class tM extends Qe{priority=90;subpriority=1;parse(e,t,n){switch(t){case"D":case"DD":return pt(St.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return vt(t.length,e)}}validate(e,t){const n=e.getFullYear();return $x(n)?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function zg(r,e,t){const n=No(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=we(r,t?.in),l=a.getDay(),f=(e%7+7)%7,p=7-i,g=e<0||e>6?e-(l+p)%7:(f+p)%7-(l+p)%7;return or(a,g,t)}class nM extends Qe{priority=90;parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=zg(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["D","i","e","c","t","T"]}class rM extends Qe{priority=90;parse(e,t,n,i){const a=l=>{const d=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+d};switch(t){case"e":case"ee":return Tt(vt(t.length,e),a);case"eo":return Tt(n.ordinalNumber(e,{unit:"day"}),a);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=zg(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class iM extends Qe{priority=90;parse(e,t,n,i){const a=l=>{const d=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+d};switch(t){case"c":case"cc":return Tt(vt(t.length,e),a);case"co":return Tt(n.ordinalNumber(e,{unit:"day"}),a);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,i){return e=zg(e,n,i),e.setHours(0,0,0,0),e}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function sM(r,e,t){const n=we(r,t?.in),i=AN(n,t),a=e-i;return or(n,a,t)}class oM extends Qe{priority=90;parse(e,t,n){const i=a=>a===0?7:a;switch(t){case"i":case"ii":return vt(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Tt(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return Tt(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Tt(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Tt(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return e=sM(e,n),e.setHours(0,0,0,0),e}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class aM extends Qe{priority=80;parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bg(n),0,0,0),e}incompatibleTokens=["b","B","H","k","t","T"]}class lM extends Qe{priority=80;parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bg(n),0,0,0),e}incompatibleTokens=["a","B","H","k","t","T"]}class cM extends Qe{priority=80;parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(Bg(n),0,0,0),e}incompatibleTokens=["a","b","t","T"]}class uM extends Qe{priority=70;parse(e,t,n){switch(t){case"h":return pt(St.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return vt(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const i=e.getHours()>=12;return i&&n<12?e.setHours(n+12,0,0,0):!i&&n===12?e.setHours(0,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["H","K","k","t","T"]}class dM extends Qe{priority=70;parse(e,t,n){switch(t){case"H":return pt(St.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return vt(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}incompatibleTokens=["a","b","h","K","k","t","T"]}class hM extends Qe{priority=70;parse(e,t,n){switch(t){case"K":return pt(St.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return vt(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}incompatibleTokens=["h","H","k","t","T"]}class fM extends Qe{priority=70;parse(e,t,n){switch(t){case"k":return pt(St.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return vt(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const i=n<=24?n%24:n;return e.setHours(i,0,0,0),e}incompatibleTokens=["a","b","h","H","K","t","T"]}class pM extends Qe{priority=60;parse(e,t,n){switch(t){case"m":return pt(St.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return vt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}incompatibleTokens=["t","T"]}class mM extends Qe{priority=50;parse(e,t,n){switch(t){case"s":return pt(St.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return vt(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}incompatibleTokens=["t","T"]}class gM extends Qe{priority=30;parse(e,t){const n=i=>Math.trunc(i*Math.pow(10,-t.length+3));return Tt(vt(t.length,e),n)}set(e,t,n){return e.setMilliseconds(n),e}incompatibleTokens=["t","T"]}class yM extends Qe{priority=10;parse(e,t){switch(t){case"X":return Ar(Rr.basicOptionalMinutes,e);case"XX":return Ar(Rr.basic,e);case"XXXX":return Ar(Rr.basicOptionalSeconds,e);case"XXXXX":return Ar(Rr.extendedOptionalSeconds,e);case"XXX":default:return Ar(Rr.extended,e)}}set(e,t,n){return t.timestampIsSet?e:tt(e,e.getTime()-fh(e)-n)}incompatibleTokens=["t","T","x"]}class vM extends Qe{priority=10;parse(e,t){switch(t){case"x":return Ar(Rr.basicOptionalMinutes,e);case"xx":return Ar(Rr.basic,e);case"xxxx":return Ar(Rr.basicOptionalSeconds,e);case"xxxxx":return Ar(Rr.extendedOptionalSeconds,e);case"xxx":default:return Ar(Rr.extended,e)}}set(e,t,n){return t.timestampIsSet?e:tt(e,e.getTime()-fh(e)-n)}incompatibleTokens=["t","T","X"]}class _M extends Qe{priority=40;parse(e){return Hx(e)}set(e,t,n){return[tt(e,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class wM extends Qe{priority=20;parse(e){return Hx(e)}set(e,t,n){return[tt(e,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const EM={G:new jN,y:new UN,Y:new BN,R:new zN,u:new WN,Q:new HN,q:new YN,M:new $N,L:new qN,w:new QN,I:new XN,d:new eM,D:new tM,E:new nM,e:new rM,c:new iM,i:new oM,a:new aM,b:new lM,B:new cM,h:new uM,H:new dM,K:new hM,k:new fM,m:new pM,s:new mM,S:new gM,X:new yM,x:new vM,t:new _M,T:new wM},xM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,TM=/^'([^]*?)'?$/,IM=/''/g,kM=/\S/,CM=/[a-zA-Z]/;function bM(r,e,t,n){const i=()=>tt(n?.in||t,NaN),a=RN(),l=n?.locale??a.locale??Ux,d=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,f=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0;if(!e)return r?i():we(t,n?.in);const p={firstWeekContainsDate:d,weekStartsOn:f,locale:l},g=[new FN(n?.in,t)],_=e.match(SM).map(b=>{const U=b[0];if(U in Am){const q=Am[U];return q(b,l.formatLong)}return b}).join("").match(xM),x=[];for(let b of _){const U=b[0],q=EM[U];if(q){const{incompatibleTokens:Q}=q;if(Array.isArray(Q)){const se=x.find(ce=>Q.includes(ce.token)||ce.token===U);if(se)throw new RangeError(`The format string mustn't contain \`${se.fullToken}\` and \`${b}\` at the same time`)}else if(q.incompatibleTokens==="*"&&x.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);x.push({token:U,fullToken:b});const ne=q.run(r,b,l.match,p);if(!ne)return i();g.push(ne.setter),r=ne.rest}else{if(U.match(CM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");if(b==="''"?b="'":U==="'"&&(b=DM(b)),r.indexOf(b)===0)r=r.slice(b.length);else return i()}}if(r.length>0&&kM.test(r))return i();const T=g.map(b=>b.priority).sort((b,U)=>U-b).filter((b,U,q)=>q.indexOf(b)===U).map(b=>g.filter(U=>U.priority===b).sort((U,q)=>q.subPriority-U.subPriority)).map(b=>b[0]);let P=we(t,n?.in);if(isNaN(+P))return i();const M={};for(const b of T){if(!b.validate(P,p))return i();const U=b.set(P,M,p);Array.isArray(U)?(P=U[0],Object.assign(M,U[1])):P=U}return P}function DM(r){return r.match(TM)[1].replace(IM,"'")}function PM(r,e,t){const[n,i]=bi(t?.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function RM(r,e,t){const[n,i]=bi(t?.in,r,e);return+Rm(n)==+Rm(i)}function AM(r,e,t){const[n,i]=bi(t?.in,r,e);return n.getFullYear()===i.getFullYear()}function Mc(r,e,t){const n=+we(r,t?.in),[i,a]=[+we(e.start,t?.in),+we(e.end,t?.in)].sort((l,d)=>l-d);return n>=i&&n<=a}function NM(r,e,t){return or(r,-1,t)}function MM(r,e){const t=()=>tt(e?.in,NaN),i=FM(r);let a;if(i.date){const p=jM(i.date,2);a=UM(p.restDateString,p.year)}if(!a||isNaN(+a))return t();const l=+a;let d=0,f;if(i.time&&(d=BM(i.time),isNaN(d)))return t();if(i.timezone){if(f=zM(i.timezone),isNaN(f))return t()}else{const p=new Date(l+d),g=we(0,e?.in);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return we(l+d+f,e?.in)}const Ed={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,VM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function FM(r){const e={},t=r.split(Ed.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Ed.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Ed.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=Ed.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function jM(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:r.slice((n[1]||n[2]).length)}}function UM(r,e){if(e===null)return new Date(NaN);const t=r.match(OM);if(!t)return new Date(NaN);const n=!!t[4],i=ac(t[1]),a=ac(t[2])-1,l=ac(t[3]),d=ac(t[4]),f=ac(t[5])-1;if(n)return qM(e,d,f)?WM(e,d,f):new Date(NaN);{const p=new Date(0);return!YM(e,a,l)||!$M(e,i)?new Date(NaN):(p.setUTCFullYear(e,a,Math.max(i,l)),p)}}function ac(r){return r?parseInt(r):1}function BM(r){const e=r.match(LM);if(!e)return NaN;const t=Hp(e[1]),n=Hp(e[2]),i=Hp(e[3]);return KM(t,n,i)?t*qh+n*$h+i*1e3:NaN}function Hp(r){return r&&parseFloat(r.replace(",","."))||0}function zM(r){if(r==="Z")return 0;const e=r.match(VM);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return QM(n,i)?t*(n*qh+i*$h):NaN}function WM(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const HM=[31,null,31,30,31,30,31,31,30,31,30,31];function qx(r){return r%400===0||r%4===0&&r%100!==0}function YM(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(HM[e]||(qx(r)?29:28))}function $M(r,e){return e>=1&&e<=(qx(r)?366:365)}function qM(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function KM(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function QM(r,e){return e>=0&&e<=59}function Rn(r,e,t){const n=we(r,t?.in),i=n.getFullYear(),a=n.getDate(),l=tt(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const d=PN(l);return n.setMonth(e,Math.min(a,d)),n}function Fd(r,e,t){const n=we(r,t?.in);return n.setHours(e),n}function jd(r,e,t){const n=we(r,t?.in);return n.setMinutes(e),n}function Ca(r,e,t){const n=we(r,t?.in),i=Math.trunc(n.getMonth()/3)+1,a=e-i;return Rn(n,n.getMonth()+a*3)}function Ud(r,e,t){const n=we(r,t?.in);return n.setSeconds(e),n}function Dr(r,e,t){const n=we(r,t?.in);return isNaN(+n)?tt(r,NaN):(n.setFullYear(e),n)}function yo(r,e,t){return lr(r,-e,t)}function Kx(r,e,t){return Fg(r,-1,t)}function uw(r,e,t){return ph(r,-1,t)}function $a(r,e,t){return mi(r,-e,t)}function Qh(){return typeof window<"u"}function ll(r){return Qx(r)?(r.nodeName||"").toLowerCase():"#document"}function Nn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(r){var e;return(e=(Qx(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function Qx(r){return Qh()?r instanceof Node||r instanceof Nn(r).Node:!1}function fn(r){return Qh()?r instanceof Element||r instanceof Nn(r).Element:!1}function Hr(r){return Qh()?r instanceof HTMLElement||r instanceof Nn(r).HTMLElement:!1}function dw(r){return!Qh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Nn(r).ShadowRoot}const GM=new Set(["inline","contents"]);function Qc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=$n(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!GM.has(i)}const XM=new Set(["table","td","th"]);function JM(r){return XM.has(ll(r))}const ZM=[":popover-open",":modal"];function Gh(r){return ZM.some(e=>{try{return r.matches(e)}catch{return!1}})}const eO=["transform","translate","scale","rotate","perspective"],tO=["transform","translate","scale","rotate","perspective","filter"],nO=["paint","layout","strict","content"];function Wg(r){const e=Hg(),t=fn(r)?$n(r):r;return eO.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||tO.some(n=>(t.willChange||"").includes(n))||nO.some(n=>(t.contain||"").includes(n))}function rO(r){let e=Ps(r);for(;Hr(e)&&!qa(e);){if(Wg(e))return e;if(Gh(e))return null;e=Ps(e)}return null}function Hg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iO=new Set(["html","body","#document"]);function qa(r){return iO.has(ll(r))}function $n(r){return Nn(r).getComputedStyle(r)}function Xh(r){return fn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ps(r){if(ll(r)==="html")return r;const e=r.assignedSlot||r.parentNode||dw(r)&&r.host||Yr(r);return dw(e)?e.host:e}function Gx(r){const e=Ps(r);return qa(e)?r.ownerDocument?r.ownerDocument.body:r.body:Hr(e)&&Qc(e)?e:Gx(e)}function Oc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Gx(r),a=i===((n=r.ownerDocument)==null?void 0:n.body),l=Nn(i);if(a){const d=Mm(l);return e.concat(l,l.visualViewport||[],Qc(i)?i:[],d&&t?Oc(d):[])}return e.concat(i,Oc(i,[],t))}function Mm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const Ka=Math.min,vo=Math.max,wh=Math.round,xd=Math.floor,zr=r=>({x:r,y:r}),sO={left:"right",right:"left",bottom:"top",top:"bottom"},oO={start:"end",end:"start"};function aO(r,e,t){return vo(r,Ka(e,t))}function Jh(r,e){return typeof r=="function"?r(e):r}function Qa(r){return r.split("-")[0]}function Gc(r){return r.split("-")[1]}function lO(r){return r==="x"?"y":"x"}function Yg(r){return r==="y"?"height":"width"}const cO=new Set(["top","bottom"]);function fo(r){return cO.has(Qa(r))?"y":"x"}function $g(r){return lO(fo(r))}function uO(r,e,t){t===void 0&&(t=!1);const n=Gc(r),i=$g(r),a=Yg(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Eh(l)),[l,Eh(l)]}function dO(r){const e=Eh(r);return[Om(r),e,Om(e)]}function Om(r){return r.replace(/start|end/g,e=>oO[e])}const hw=["left","right"],fw=["right","left"],hO=["top","bottom"],fO=["bottom","top"];function pO(r,e,t){switch(r){case"top":case"bottom":return t?e?fw:hw:e?hw:fw;case"left":case"right":return e?hO:fO;default:return[]}}function mO(r,e,t,n){const i=Gc(r);let a=pO(Qa(r),t==="start",n);return i&&(a=a.map(l=>l+"-"+i),e&&(a=a.concat(a.map(Om)))),a}function Eh(r){return r.replace(/left|right|bottom|top/g,e=>sO[e])}function gO(r){return{top:0,right:0,bottom:0,left:0,...r}}function Xx(r){return typeof r!="number"?gO(r):{top:r,right:r,bottom:r,left:r}}function xh(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var yO=typeof document<"u",vO=function(){},Sh=yO?B.useLayoutEffect:vO;const _O={...jm},wO=_O.useInsertionEffect,EO=wO||(r=>r());function xO(r){const e=B.useRef(()=>{});return EO(()=>{e.current=r}),B.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function pw(r,e,t){let{reference:n,floating:i}=r;const a=fo(e),l=$g(e),d=Yg(l),f=Qa(e),p=a==="y",g=n.x+n.width/2-i.width/2,_=n.y+n.height/2-i.height/2,x=n[d]/2-i[d]/2;let T;switch(f){case"top":T={x:g,y:n.y-i.height};break;case"bottom":T={x:g,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:_};break;case"left":T={x:n.x-i.width,y:_};break;default:T={x:n.x,y:n.y}}switch(Gc(e)){case"start":T[l]-=x*(t&&p?-1:1);break;case"end":T[l]+=x*(t&&p?-1:1);break}return T}const SO=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:l}=t,d=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:g,y:_}=pw(p,n,f),x=n,T={},P=0;for(let M=0;M<d.length;M++){const{name:b,fn:U}=d[M],{x:q,y:Q,data:ne,reset:se}=await U({x:g,y:_,initialPlacement:n,placement:x,strategy:i,middlewareData:T,rects:p,platform:l,elements:{reference:r,floating:e}});g=q??g,_=Q??_,T={...T,[b]:{...T[b],...ne}},se&&P<=50&&(P++,typeof se=="object"&&(se.placement&&(x=se.placement),se.rects&&(p=se.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):se.rects),{x:g,y:_}=pw(p,x,f)),M=-1)}return{x:g,y:_,placement:x,strategy:i,middlewareData:T}};async function TO(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:l,elements:d,strategy:f}=r,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:_="floating",altBoundary:x=!1,padding:T=0}=Jh(e,r),P=Xx(T),b=d[x?_==="floating"?"reference":"floating":_],U=xh(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),q=_==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,Q=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),ne=await(a.isElement==null?void 0:a.isElement(Q))?await(a.getScale==null?void 0:a.getScale(Q))||{x:1,y:1}:{x:1,y:1},se=xh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:q,offsetParent:Q,strategy:f}):q);return{top:(U.top-se.top+P.top)/ne.y,bottom:(se.bottom-U.bottom+P.bottom)/ne.y,left:(U.left-se.left+P.left)/ne.x,right:(se.right-U.right+P.right)/ne.x}}const IO=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:a,platform:l,elements:d,middlewareData:f}=e,{element:p,padding:g=0}=Jh(r,e)||{};if(p==null)return{};const _=Xx(g),x={x:t,y:n},T=$g(i),P=Yg(T),M=await l.getDimensions(p),b=T==="y",U=b?"top":"left",q=b?"bottom":"right",Q=b?"clientHeight":"clientWidth",ne=a.reference[P]+a.reference[T]-x[T]-a.floating[P],se=x[T]-a.reference[T],ce=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let C=ce?ce[Q]:0;(!C||!await(l.isElement==null?void 0:l.isElement(ce)))&&(C=d.floating[Q]||a.floating[P]);const k=ne/2-se/2,D=C/2-M[P]/2-1,N=Ka(_[U],D),O=Ka(_[q],D),V=N,R=C-M[P]-O,Ee=C/2-M[P]/2+k,Ie=aO(V,Ee,R),he=!f.arrow&&Gc(i)!=null&&Ee!==Ie&&a.reference[P]/2-(Ee<V?N:O)-M[P]/2<0,ge=he?Ee<V?Ee-V:Ee-R:0;return{[T]:x[T]+ge,data:{[T]:Ie,centerOffset:Ee-Ie-ge,...he&&{alignmentOffset:ge}},reset:he}}}),kO=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:a,rects:l,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:g=!0,crossAxis:_=!0,fallbackPlacements:x,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:M=!0,...b}=Jh(r,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const U=Qa(i),q=fo(d),Q=Qa(d)===d,ne=await(f.isRTL==null?void 0:f.isRTL(p.floating)),se=x||(Q||!M?[Eh(d)]:dO(d)),ce=P!=="none";!x&&ce&&se.push(...mO(d,M,P,ne));const C=[d,...se],k=await TO(e,b),D=[];let N=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&D.push(k[U]),_){const Ee=uO(i,l,ne);D.push(k[Ee[0]],k[Ee[1]])}if(N=[...N,{placement:i,overflows:D}],!D.every(Ee=>Ee<=0)){var O,V;const Ee=(((O=a.flip)==null?void 0:O.index)||0)+1,Ie=C[Ee];if(Ie&&(!(_==="alignment"?q!==fo(Ie):!1)||N.every(G=>fo(G.placement)===q?G.overflows[0]>0:!0)))return{data:{index:Ee,overflows:N},reset:{placement:Ie}};let he=(V=N.filter(ge=>ge.overflows[0]<=0).sort((ge,G)=>ge.overflows[1]-G.overflows[1])[0])==null?void 0:V.placement;if(!he)switch(T){case"bestFit":{var R;const ge=(R=N.filter(G=>{if(ce){const le=fo(G.placement);return le===q||le==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(le=>le>0).reduce((le,ae)=>le+ae,0)]).sort((G,le)=>G[1]-le[1])[0])==null?void 0:R[0];ge&&(he=ge);break}case"initialPlacement":he=d;break}if(i!==he)return{reset:{placement:he}}}return{}}}},CO=new Set(["left","top"]);async function bO(r,e){const{placement:t,platform:n,elements:i}=r,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=Qa(t),d=Gc(t),f=fo(t)==="y",p=CO.has(l)?-1:1,g=a&&f?-1:1,_=Jh(e,r);let{mainAxis:x,crossAxis:T,alignmentAxis:P}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return d&&typeof P=="number"&&(T=d==="end"?P*-1:P),f?{x:T*g,y:x*p}:{x:x*p,y:T*g}}const DO=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:a,placement:l,middlewareData:d}=e,f=await bO(e,r);return l===((t=d.offset)==null?void 0:t.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:a+f.y,data:{...f,placement:l}}}}};function Jx(r){const e=$n(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Hr(r),a=i?r.offsetWidth:t,l=i?r.offsetHeight:n,d=wh(t)!==a||wh(n)!==l;return d&&(t=a,n=l),{width:t,height:n,$:d}}function qg(r){return fn(r)?r:r.contextElement}function Na(r){const e=qg(r);if(!Hr(e))return zr(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:a}=Jx(e);let l=(a?wh(t.width):t.width)/n,d=(a?wh(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const PO=zr(0);function Zx(r){const e=Nn(r);return!Hg()||!e.visualViewport?PO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RO(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==Nn(r)?!1:e}function ko(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),a=qg(r);let l=zr(1);e&&(n?fn(n)&&(l=Na(n)):l=Na(r));const d=RO(a,t,n)?Zx(a):zr(0);let f=(i.left+d.x)/l.x,p=(i.top+d.y)/l.y,g=i.width/l.x,_=i.height/l.y;if(a){const x=Nn(a),T=n&&fn(n)?Nn(n):n;let P=x,M=Mm(P);for(;M&&n&&T!==P;){const b=Na(M),U=M.getBoundingClientRect(),q=$n(M),Q=U.left+(M.clientLeft+parseFloat(q.paddingLeft))*b.x,ne=U.top+(M.clientTop+parseFloat(q.paddingTop))*b.y;f*=b.x,p*=b.y,g*=b.x,_*=b.y,f+=Q,p+=ne,P=Nn(M),M=Mm(P)}}return xh({width:g,height:_,x:f,y:p})}function Zh(r,e){const t=Xh(r).scrollLeft;return e?e.left+t:ko(Yr(r)).left+t}function eS(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-Zh(r,t),i=t.top+e.scrollTop;return{x:n,y:i}}function AO(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const a=i==="fixed",l=Yr(n),d=e?Gh(e.floating):!1;if(n===l||d&&a)return t;let f={scrollLeft:0,scrollTop:0},p=zr(1);const g=zr(0),_=Hr(n);if((_||!_&&!a)&&((ll(n)!=="body"||Qc(l))&&(f=Xh(n)),Hr(n))){const T=ko(n);p=Na(n),g.x=T.x+n.clientLeft,g.y=T.y+n.clientTop}const x=l&&!_&&!a?eS(l,f):zr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-f.scrollLeft*p.x+g.x+x.x,y:t.y*p.y-f.scrollTop*p.y+g.y+x.y}}function NO(r){return Array.from(r.getClientRects())}function MO(r){const e=Yr(r),t=Xh(r),n=r.ownerDocument.body,i=vo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=vo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+Zh(r);const d=-t.scrollTop;return $n(n).direction==="rtl"&&(l+=vo(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:l,y:d}}const mw=25;function OO(r,e){const t=Nn(r),n=Yr(r),i=t.visualViewport;let a=n.clientWidth,l=n.clientHeight,d=0,f=0;if(i){a=i.width,l=i.height;const g=Hg();(!g||g&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}const p=Zh(n);if(p<=0){const g=n.ownerDocument,_=g.body,x=getComputedStyle(_),T=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,P=Math.abs(n.clientWidth-_.clientWidth-T);P<=mw&&(a-=P)}else p<=mw&&(a+=p);return{width:a,height:l,x:d,y:f}}const LO=new Set(["absolute","fixed"]);function VO(r,e){const t=ko(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,a=Hr(r)?Na(r):zr(1),l=r.clientWidth*a.x,d=r.clientHeight*a.y,f=i*a.x,p=n*a.y;return{width:l,height:d,x:f,y:p}}function gw(r,e,t){let n;if(e==="viewport")n=OO(r,t);else if(e==="document")n=MO(Yr(r));else if(fn(e))n=VO(e,t);else{const i=Zx(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return xh(n)}function tS(r,e){const t=Ps(r);return t===e||!fn(t)||qa(t)?!1:$n(t).position==="fixed"||tS(t,e)}function FO(r,e){const t=e.get(r);if(t)return t;let n=Oc(r,[],!1).filter(d=>fn(d)&&ll(d)!=="body"),i=null;const a=$n(r).position==="fixed";let l=a?Ps(r):r;for(;fn(l)&&!qa(l);){const d=$n(l),f=Wg(l);!f&&d.position==="fixed"&&(i=null),(a?!f&&!i:!f&&d.position==="static"&&!!i&&LO.has(i.position)||Qc(l)&&!f&&tS(r,l))?n=n.filter(g=>g!==l):i=d,l=Ps(l)}return e.set(r,n),n}function jO(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?Gh(e)?[]:FO(e,this._c):[].concat(t),n],d=l[0],f=l.reduce((p,g)=>{const _=gw(e,g,i);return p.top=vo(_.top,p.top),p.right=Ka(_.right,p.right),p.bottom=Ka(_.bottom,p.bottom),p.left=vo(_.left,p.left),p},gw(e,d,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function UO(r){const{width:e,height:t}=Jx(r);return{width:e,height:t}}function BO(r,e,t){const n=Hr(e),i=Yr(e),a=t==="fixed",l=ko(r,!0,a,e);let d={scrollLeft:0,scrollTop:0};const f=zr(0);function p(){f.x=Zh(i)}if(n||!n&&!a)if((ll(e)!=="body"||Qc(i))&&(d=Xh(e)),n){const T=ko(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else i&&p();a&&!n&&i&&p();const g=i&&!n&&!a?eS(i,d):zr(0),_=l.left+d.scrollLeft-f.x-g.x,x=l.top+d.scrollTop-f.y-g.y;return{x:_,y:x,width:l.width,height:l.height}}function Yp(r){return $n(r).position==="static"}function yw(r,e){if(!Hr(r)||$n(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Yr(r)===t&&(t=t.ownerDocument.body),t}function nS(r,e){const t=Nn(r);if(Gh(r))return t;if(!Hr(r)){let i=Ps(r);for(;i&&!qa(i);){if(fn(i)&&!Yp(i))return i;i=Ps(i)}return t}let n=yw(r,e);for(;n&&JM(n)&&Yp(n);)n=yw(n,e);return n&&qa(n)&&Yp(n)&&!Wg(n)?t:n||rO(r)||t}const zO=async function(r){const e=this.getOffsetParent||nS,t=this.getDimensions,n=await t(r.floating);return{reference:BO(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function WO(r){return $n(r).direction==="rtl"}const HO={convertOffsetParentRelativeRectToViewportRelativeRect:AO,getDocumentElement:Yr,getClippingRect:jO,getOffsetParent:nS,getElementRects:zO,getClientRects:NO,getDimensions:UO,getScale:Na,isElement:fn,isRTL:WO};function rS(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function YO(r,e){let t=null,n;const i=Yr(r);function a(){var d;clearTimeout(n),(d=t)==null||d.disconnect(),t=null}function l(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),a();const p=r.getBoundingClientRect(),{left:g,top:_,width:x,height:T}=p;if(d||e(),!x||!T)return;const P=xd(_),M=xd(i.clientWidth-(g+x)),b=xd(i.clientHeight-(_+T)),U=xd(g),Q={rootMargin:-P+"px "+-M+"px "+-b+"px "+-U+"px",threshold:vo(0,Ka(1,f))||1};let ne=!0;function se(ce){const C=ce[0].intersectionRatio;if(C!==f){if(!ne)return l();C?l(!1,C):n=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!rS(p,r.getBoundingClientRect())&&l(),ne=!1}try{t=new IntersectionObserver(se,{...Q,root:i.ownerDocument})}catch{t=new IntersectionObserver(se,Q)}t.observe(r)}return l(!0),a}function $O(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,p=qg(r),g=i||a?[...p?Oc(p):[],...Oc(e)]:[];g.forEach(U=>{i&&U.addEventListener("scroll",t,{passive:!0}),a&&U.addEventListener("resize",t)});const _=p&&d?YO(p,t):null;let x=-1,T=null;l&&(T=new ResizeObserver(U=>{let[q]=U;q&&q.target===p&&T&&(T.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var Q;(Q=T)==null||Q.observe(e)})),t()}),p&&!f&&T.observe(p),T.observe(e));let P,M=f?ko(r):null;f&&b();function b(){const U=ko(r);M&&!rS(M,U)&&t(),M=U,P=requestAnimationFrame(b)}return t(),()=>{var U;g.forEach(q=>{i&&q.removeEventListener("scroll",t),a&&q.removeEventListener("resize",t)}),_?.(),(U=T)==null||U.disconnect(),T=null,f&&cancelAnimationFrame(P)}}const qO=DO,KO=kO,vw=IO,QO=(r,e,t)=>{const n=new Map,i={platform:HO,...t},a={...i.platform,_c:n};return SO(r,e,{...i,platform:a})};var GO=typeof document<"u",XO=function(){},Bd=GO?B.useLayoutEffect:XO;function Th(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Th(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const a=i[n];if(!(a==="_owner"&&r.$$typeof)&&!Th(r[a],e[a]))return!1}return!0}return r!==r&&e!==e}function iS(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function _w(r,e){const t=iS(r);return Math.round(e*t)/t}function $p(r){const e=B.useRef(r);return Bd(()=>{e.current=r}),e}function JO(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:l}={},transform:d=!0,whileElementsMounted:f,open:p}=r,[g,_]=B.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,T]=B.useState(n);Th(x,n)||T(n);const[P,M]=B.useState(null),[b,U]=B.useState(null),q=B.useCallback(G=>{G!==ce.current&&(ce.current=G,M(G))},[]),Q=B.useCallback(G=>{G!==C.current&&(C.current=G,U(G))},[]),ne=a||P,se=l||b,ce=B.useRef(null),C=B.useRef(null),k=B.useRef(g),D=f!=null,N=$p(f),O=$p(i),V=$p(p),R=B.useCallback(()=>{if(!ce.current||!C.current)return;const G={placement:e,strategy:t,middleware:x};O.current&&(G.platform=O.current),QO(ce.current,C.current,G).then(le=>{const ae={...le,isPositioned:V.current!==!1};Ee.current&&!Th(k.current,ae)&&(k.current=ae,jw.flushSync(()=>{_(ae)}))})},[x,e,t,O,V]);Bd(()=>{p===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,_(G=>({...G,isPositioned:!1})))},[p]);const Ee=B.useRef(!1);Bd(()=>(Ee.current=!0,()=>{Ee.current=!1}),[]),Bd(()=>{if(ne&&(ce.current=ne),se&&(C.current=se),ne&&se){if(N.current)return N.current(ne,se,R);R()}},[ne,se,R,N,D]);const Ie=B.useMemo(()=>({reference:ce,floating:C,setReference:q,setFloating:Q}),[q,Q]),he=B.useMemo(()=>({reference:ne,floating:se}),[ne,se]),ge=B.useMemo(()=>{const G={position:t,left:0,top:0};if(!he.floating)return G;const le=_w(he.floating,g.x),ae=_w(he.floating,g.y);return d?{...G,transform:"translate("+le+"px, "+ae+"px)",...iS(he.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:le,top:ae}},[t,d,he.floating,g.x,g.y]);return B.useMemo(()=>({...g,update:R,refs:Ie,elements:he,floatingStyles:ge}),[g,R,Ie,he,ge])}const ZO=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?vw({element:n.current,padding:i}).fn(t):{}:n?vw({element:n,padding:i}).fn(t):{}}}},eL=(r,e)=>({...qO(r),options:[r,e]}),tL=(r,e)=>({...KO(r),options:[r,e]}),nL=(r,e)=>({...ZO(r),options:[r,e]}),rL={...jm};let ww=!1,iL=0;const Ew=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+iL++;function sL(){const[r,e]=B.useState(()=>ww?Ew():void 0);return Sh(()=>{r==null&&e(Ew())},[]),B.useEffect(()=>{ww=!0},[]),r}const oL=rL.useId,sS=oL||sL,aL=B.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:a,shift:l}},width:d=14,height:f=7,tipRadius:p=0,strokeWidth:g=0,staticOffset:_,stroke:x,d:T,style:{transform:P,...M}={},...b}=e,U=sS(),[q,Q]=B.useState(!1);if(Sh(()=>{if(!i)return;$n(i).direction==="rtl"&&Q(!0)},[i]),!i)return null;const[ne,se]=n.split("-"),ce=ne==="top"||ne==="bottom";let C=_;(ce&&l!=null&&l.x||!ce&&l!=null&&l.y)&&(C=null);const k=g*2,D=k/2,N=d/2*(p/-8+1),O=f/2*p/4,V=!!T,R=C&&se==="end"?"bottom":"top";let Ee=C&&se==="end"?"right":"left";C&&q&&(Ee=se==="end"?"left":"right");const Ie=a?.x!=null?C||a.x:"",he=a?.y!=null?C||a.y:"",ge=T||"M0,0"+(" H"+d)+(" L"+(d-N)+","+(f-O))+(" Q"+d/2+","+f+" "+N+","+(f-O))+" Z",G={top:V?"rotate(180deg)":"",left:V?"rotate(90deg)":"rotate(-90deg)",bottom:V?"":"rotate(180deg)",right:V?"rotate(-90deg)":"rotate(90deg)"}[ne];return E.jsxs("svg",{...b,"aria-hidden":!0,ref:t,width:V?d:d+k,height:d,viewBox:"0 0 "+d+" "+(f>d?f:d),style:{position:"absolute",pointerEvents:"none",[Ee]:Ie,[R]:he,[ne]:ce||V?"100%":"calc(100% - "+k/2+"px)",transform:[G,P].filter(le=>!!le).join(" "),...M},children:[k>0&&E.jsx("path",{clipPath:"url(#"+U+")",fill:"none",stroke:x,strokeWidth:k+(T?0:1),d:ge}),E.jsx("path",{stroke:k&&!T?b.fill:"none",d:ge}),E.jsx("clipPath",{id:U,children:E.jsx("rect",{x:-D,y:D*(V?-1:1),width:d+k,height:d})})]})});function lL(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const cL=B.createContext(null),uL=B.createContext(null),dL=()=>{var r;return((r=B.useContext(cL))==null?void 0:r.id)||null},hL=()=>B.useContext(uL);function fL(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=sS(),a=B.useRef({}),[l]=B.useState(()=>lL()),d=dL()!=null,[f,p]=B.useState(n.reference),g=xO((T,P,M)=>{a.current.openEvent=T?P:void 0,l.emit("openchange",{open:T,event:P,reason:M,nested:d}),t?.(T,P,M)}),_=B.useMemo(()=>({setPositionReference:p}),[]),x=B.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return B.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:x,events:l,floatingId:i,refs:_}),[e,g,x,l,i,_])}function pL(r){r===void 0&&(r={});const{nodeId:e}=r,t=fL({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[a,l]=B.useState(null),[d,f]=B.useState(null),g=i?.domReference||a,_=B.useRef(null),x=hL();Sh(()=>{g&&(_.current=g)},[g]);const T=JO({...r,elements:{...i,...d&&{reference:d}}}),P=B.useCallback(Q=>{const ne=fn(Q)?{getBoundingClientRect:()=>Q.getBoundingClientRect(),getClientRects:()=>Q.getClientRects(),contextElement:Q}:Q;f(ne),T.refs.setReference(ne)},[T.refs]),M=B.useCallback(Q=>{(fn(Q)||Q===null)&&(_.current=Q,l(Q)),(fn(T.refs.reference.current)||T.refs.reference.current===null||Q!==null&&!fn(Q))&&T.refs.setReference(Q)},[T.refs]),b=B.useMemo(()=>({...T.refs,setReference:M,setPositionReference:P,domReference:_}),[T.refs,M,P]),U=B.useMemo(()=>({...T.elements,domReference:g}),[T.elements,g]),q=B.useMemo(()=>({...T,...n,refs:b,elements:U,nodeId:e}),[T,b,U,e,n]);return Sh(()=>{n.dataRef.current.floatingContext=q;const Q=x?.nodesRef.current.find(ne=>ne.id===e);Q&&(Q.context=q)}),B.useMemo(()=>({...T,context:q,refs:b,elements:U}),[T,b,U,q])}var Lm=function(e,t){return Lm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},Lm(e,t)};function Xt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Lm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var je=function(){return je=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},je.apply(this,arguments)};function Or(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var mL=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,a=r.className,l=r.children,d=r.inline,f=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return K.createElement("div",{className:a,"aria-label":f,role:d?void 0:"dialog","aria-modal":d?void 0:"true"},l)},gL=function(r,e){var t=B.useRef(null),n=B.useRef(r);B.useEffect(function(){n.current=r},[r]);var i=B.useCallback(function(a){var l,d=a.composed&&a.composedPath&&a.composedPath().find(function(f){return f instanceof Node})||a.target;t.current&&!t.current.contains(d)&&(e&&d instanceof HTMLElement&&d.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,a))},[e]);return B.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},ef=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,a=r.style,l=r.ignoreClass,d=gL(t,l);return K.createElement("div",{className:n,style:a,ref:function(f){d.current=f,i&&(i.current=f)}},e)},ue;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(ue||(ue={}));function oS(){var r=typeof window<"u"?window:globalThis;return r}var Xc=12;function Xe(r){if(r==null)return new Date;var e=typeof r=="string"?MM(r):we(r);return Nr(e)?e:new Date}function qp(r,e,t,n,i){i===void 0&&(i=Xe());for(var a=Ga(t)||Ga(Kg()),l=Array.isArray(e)?e:[e],d=0,f=l;d<f.length;d++){var p=f[d],g=bM(r,p,i,{locale:a});if(Nr(g)&&(!n||r===dt(g,p,t)))return g}return null}function Nr(r,e){return mh(r)&&!Mr(r,new Date("1/1/1800"))}function dt(r,e,t){if(t==="en")return lw(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?Ga(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||Ga(Kg()),lw(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Pn(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&dt(r,i,n)||""}var aS=" - ";function yL(r,e,t){if(!r&&!e)return"";var n=r?Pn(r,t):"",i=e?Pn(e,t):"",a=t.rangeSeparator||aS;return"".concat(n).concat(a).concat(i)}function vL(r,e){if(!r?.length)return"";var t=r[0]?Pn(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Pn(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function Kp(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,a=i===void 0?0:i,l=e.second,d=l===void 0?0:l;return Fd(jd(Ud(r,d),a),n)}function _L(r){return jg(r)}function wL(r,e){return dt(r,"ddd",e)}function zd(r){return Io(r)}function xs(r,e,t){var n=Ga(e||Kg());return Ti(r,{locale:n,weekStartsOn:t})}function _i(r){return Fx(r)}function mc(r){return Kh(r)}function xw(r){return Rm(r)}function Sw(){return Io(Xe())}function Tw(r){return Lx(r)}function EL(r){return M2(r)}function xL(r){return Vx(r)}function Pr(r,e){return r&&e?AM(r,e):!r&&!e}function hn(r,e){return r&&e?PM(r,e):!r&&!e}function Ih(r,e){return r&&e?RM(r,e):!r&&!e}function Fe(r,e){return r&&e?A2(r,e):!r&&!e}function po(r,e){return r&&e?NN(r,e):!r&&!e}function co(r,e,t){var n,i=Io(e),a=Lx(t);try{n=Mc(r,{start:i,end:a})}catch{n=!1}return n}function Kg(){var r=oS();return r.__localeId__}function Ga(r){if(typeof r=="string"){var e=oS();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function SL(r,e,t){return e(dt(r,"EEEE",t))}function TL(r,e){return dt(r,"EEEEEE",e)}function IL(r,e){return dt(r,"EEE",e)}function Qg(r,e){return dt(Rn(Xe(),r),"LLLL",e)}function lS(r,e){return dt(Rn(Xe(),r),"LLL",e)}function kL(r,e){return dt(Ca(Xe(),r),"QQQ",e)}function zn(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.excludeDateIntervals,d=t.includeDates,f=t.includeDateIntervals,p=t.filterDate,g=t.disabled;return g?!0:Jc(r,{minDate:n,maxDate:i})||a&&a.some(function(_){return _ instanceof Date?Fe(r,_):Fe(r,_.date)})||l&&l.some(function(_){var x=_.start,T=_.end;return Mc(r,{start:x,end:T})})||d&&!d.some(function(_){return Fe(r,_)})||f&&!f.some(function(_){var x=_.start,T=_.end;return Mc(r,{start:x,end:T})})||p&&!p(Xe(r))||!1}function Gg(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(a){var l=a.start,d=a.end;return Mc(r,{start:l,end:d})}):n&&n.some(function(a){var l;return a instanceof Date?Fe(r,a):Fe(r,(l=a.date)!==null&&l!==void 0?l:new Date)})||!1}function cS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,d=t.filterDate;return Jc(r,{minDate:n?Fx(n):void 0,maxDate:i?Vx(i):void 0})||a?.some(function(f){return hn(r,f instanceof Date?f:f.date)})||l&&!l.some(function(f){return hn(r,f)})||d&&!d(Xe(r))||!1}function Sd(r,e,t,n){var i=Me(r),a=an(r),l=Me(e),d=an(e),f=Me(n);return i===l&&i===f?a<=t&&t<=d:i<l?f===i&&a<=t||f===l&&d>=t||f<l&&f>i:!1}function CL(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates;return Jc(r,{minDate:n,maxDate:i})||a&&a.some(function(d){return hn(d instanceof Date?d:d.date,r)})||l&&!l.some(function(d){return hn(d,r)})||!1}function Td(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,d=t.filterDate,f=t.disabled;return f?!0:Jc(r,{minDate:n,maxDate:i})||a?.some(function(p){return Ih(r,p instanceof Date?p:p.date)})||l&&!l.some(function(p){return Ih(r,p)})||d&&!d(Xe(r))||!1}function Id(r,e,t){if(!e||!t||!mh(e)||!mh(t))return!1;var n=Me(e),i=Me(t);return n<=r&&i>=r}function Wd(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,a=t.excludeDates,l=t.includeDates,d=t.filterDate,f=t.disabled;if(f)return!0;var p=new Date(r,0,1);return Jc(p,{minDate:n?Kh(n):void 0,maxDate:i?jx(i):void 0})||a?.some(function(g){return Pr(p,g instanceof Date?g:g.date)})||l&&!l.some(function(g){return Pr(p,g)})||d&&!d(Xe(p))||!1}function kd(r,e,t,n){var i=Me(r),a=hs(r),l=Me(e),d=hs(e),f=Me(n);return i===l&&i===f?a<=t&&t<=d:i<l?f===i&&a<=t||f===l&&d>=t||f<l&&f>i:!1}function Jc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,a=n.maxDate;return(t=i&&Ya(r,i)<0||a&&Ya(r,a)>0)!==null&&t!==void 0?t:!1}function Iw(r,e){return e.some(function(t){return yi(t)===yi(r)&&vi(t)===vi(r)&&Es(t)===Es(r)})}function kw(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,a=t.filterTime;return n&&Iw(r,n)||i&&!Iw(r,i)||a&&!a(r)||!1}function Cw(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Xe();i=Fd(i,yi(r)),i=jd(i,vi(r)),i=Ud(i,Es(r));var a=Xe();a=Fd(a,yi(t)),a=jd(a,vi(t)),a=Ud(a,Es(t));var l=Xe();l=Fd(l,yi(n)),l=jd(l,vi(n)),l=Ud(l,Es(n));var d;try{d=!Mc(i,{start:a,end:l})}catch{d=!1}return d}function bw(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=yo(r,1);return n&&gh(n,a)>0||i&&i.every(function(l){return gh(l,a)>0})||!1}function Dw(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=lr(r,1);return n&&gh(a,n)>0||i&&i.every(function(l){return gh(a,l)>0})||!1}function bL(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=Kh(r),l=Kx(a);return n&&yh(n,l)>0||i&&i.every(function(d){return yh(d,l)>0})||!1}function DL(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=jx(r),l=Fg(a,1);return n&&yh(l,n)>0||i&&i.every(function(d){return yh(l,d)>0})||!1}function Pw(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,a=$a(r,1);return n&&vh(n,a)>0||i&&i.every(function(l){return vh(l,a)>0})||!1}function PL(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,a=i===void 0?Xc:i,l=mc($a(r,a)),d=fi(l,a).endPeriod,f=n&&Me(n);return f&&f>d||!1}function Rw(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,a=mi(r,1);return n&&vh(a,n)>0||i&&i.every(function(l){return vh(a,l)>0})||!1}function RL(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,a=i===void 0?Xc:i,l=mi(r,a),d=fi(l,a).startPeriod,f=n&&Me(n);return f&&f<d||!1}function uS(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Ya(i,e)>=0});return nw(n)}else return t?nw(t):e}function dS(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return Ya(i,e)<=0});return tw(n)}else return t?tw(t):e}function Aw(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,a=r.length;i<a;i++){var l=r[i];if(gi(l)){var d=dt(l,"MM.dd.yyyy"),f=n.get(d)||[];f.includes(e)||(f.push(e),n.set(d,f))}else if(typeof l=="object"){var p=Object.keys(l),g=(t=p[0])!==null&&t!==void 0?t:"",_=l[g];if(typeof g=="string"&&Array.isArray(_))for(var x=0,T=_.length;x<T;x++){var P=_[x];if(P){var d=dt(P,"MM.dd.yyyy"),f=n.get(d)||[];f.includes(g)||(f.push(g),n.set(d,f))}}}}return n}function AL(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function NL(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,a=n.holidayName;if(gi(i)){var l=dt(i,"MM.dd.yyyy"),d=t.get(l)||{className:"",holidayNames:[]};if(!("className"in d&&d.className===e&&AL(d.holidayNames,[a]))){d.className=e;var f=d.holidayNames;d.holidayNames=f?Or(Or([],f,!0),[a],!1):[a],t.set(l,d)}}}),t}function ML(r,e,t,n,i){for(var a=i.length,l=[],d=0;d<a;d++){var f=r,p=i[d];p&&(f=b2(f,yi(p)),f=Pm(f,vi(p)),f=R2(f,Es(p)));var g=Pm(r,(t+1)*n);Ds(f,e)&&Mr(f,g)&&p!=null&&l.push(p)}return l}function Nw(r){return r<10?"0".concat(r):"".concat(r)}function fi(r,e){e===void 0&&(e=Xc);var t=Math.ceil(Me(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function OL(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function Mw(r){var e=r.getSeconds(),t=r.getMilliseconds();return we(r.getTime()-e*1e3-t)}function LL(r,e){return Mw(r).getTime()===Mw(e).getTime()}function Ow(r){if(!gi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function Qp(r,e){if(!gi(r)||!gi(e))throw new Error("Invalid date received");var t=Ow(r),n=Ow(e);return Mr(t,n)}function hS(r){return r.key===ue.Space}var VL=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=K.createRef(),n.onTimeChange=function(i){var a,l;n.setState({time:i});var d=n.props.date,f=d instanceof Date&&!isNaN(+d),p=f?d:new Date;if(i?.includes(":")){var g=i.split(":"),_=g[0],x=g[1];p.setHours(Number(_)),p.setMinutes(Number(x))}(l=(a=n.props).onChange)===null||l===void 0||l.call(a,p)},n.renderTimeInput=function(){var i=n.state.time,a=n.props,l=a.date,d=a.timeString,f=a.customTimeInput;return f?B.cloneElement(f,{date:l,value:i,onChange:n.onTimeChange}):K.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||d)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return K.createElement("div",{className:"react-datepicker__input-time-container"},K.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),K.createElement("div",{className:"react-datepicker-time__input-container"},K.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(B.Component),FL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=B.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isSameDay=function(n){return Fe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),a=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!a},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return Gg(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Fe(t.props.day,xs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Fe(n,xs(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,a=n.highlightDates;if(!a)return!1;var l=dt(i,"MM.dd.yyyy");return a.get(l)},t.getHolidaysClass=function(){var n,i=t.props,a=i.day,l=i.holidays;if(!l)return[void 0];var d=dt(a,"MM.dd.yyyy");return l.has(d)?[(n=l.get(d))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:co(i,a,l)},t.isInSelectingRange=function(){var n,i=t.props,a=i.day,l=i.selectsStart,d=i.selectsEnd,f=i.selectsRange,p=i.selectsDisabledDaysInRange,g=i.startDate,_=i.swapRange,x=i.endDate,T=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;if(!(l||d||f)||!T||!p&&t.isDisabled())return!1;if(l&&x&&(Mr(T,x)||po(T,x)))return co(a,T,x);if(d&&g&&(Ds(T,g)||po(T,g)))return co(a,g,T);if(f&&g&&!x){if(po(T,g)||Ds(T,g))return co(a,g,T);if(_&&Mr(T,g))return co(a,T,g)}return!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.startDate,d=i.selectsStart,f=i.swapRange,p=i.selectsRange,g=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Fe(a,g):p&&f&&l&&g?Fe(a,Mr(g,l)?g:l):Fe(a,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,a=i.day,l=i.endDate,d=i.selectsEnd,f=i.selectsRange,p=i.swapRange,g=i.startDate,_=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return d?Fe(a,_):f&&p&&g&&_?Fe(a,Mr(_,g)?g:_):f?Fe(a,_):Fe(a,l)},t.isRangeStart=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Fe(a,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,a=n.startDate,l=n.endDate;return!a||!l?!1:Fe(l,i)},t.isWeekend=function(){var n=DN(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===an(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(an(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Xe())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return Kt("react-datepicker__day",i,"react-datepicker__day--"+wL(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,a=n.ariaLabelPrefixWhenEnabled,l=a===void 0?"Choose":a,d=n.ariaLabelPrefixWhenDisabled,f=d===void 0?"Not available":d,p=t.isDisabled()||t.isExcluded()?f:l;return"".concat(p," ").concat(dt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,a=n.holidays,l=a===void 0?new Map:a,d=n.excludeDates,f=dt(i,"MM.dd.yyyy"),p=[];return l.has(f)&&p.push.apply(p,l.get(f).holidayNames),t.isExcluded()&&p.push(d?.filter(function(g){return g instanceof Date?Fe(g,i):Fe(g?.date,i)}).map(function(g){if(!(g instanceof Date))return g?.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,a=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Fe(i,n))?0:-1;return a},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(cw(t.props.day),t.props.day):cw(t.props.day)},t.render=function(){return K.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&K.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(B.Component),jL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=B.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,a,l=n.key;l===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(a=(i=t.props).handleOnKeyDown)===null||a===void 0||a.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.props.date,t.props.selected)&&Fe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Fe(t.props.date,t.props.selected)&&Fe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!n?.isInputFocused&&Fe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,a=t.ariaLabelPrefix,l=a===void 0?e.defaultProps.ariaLabelPrefix:a,d=t.onClick,f={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!d&&!i,"react-datepicker__week-number--selected":!!d&&Fe(this.props.date,this.props.selected)};return K.createElement("div",{ref:this.weekNumberEl,className:Kt(f),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(B.Component),UL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,a){for(var l,d,f,p=new Date(n),g=0;g<7;g++){var _=new Date(n);_.setDate(_.getDate()+g);var x=!t.isDisabled(_);if(x){p=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,a),t.props.showWeekPicker&&t.handleDayClick(p,a),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((f=(d=t.props).setOpen)===null||f===void 0||f.call(d,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):_L(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=or(n,6),a=new Date(n);a<=i;){if(!t.isDisabled(a))return!1;a=or(a,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],a=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,a):void 0;i.push(K.createElement(jL,je({key:"W"},e.defaultProps,t.props,{weekNumber:a,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(d){var f=or(n,d);return K.createElement(FL,je({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,onClick:t.handleDayClick.bind(t,f),onMouseEnter:t.handleDayMouseEnter.bind(t,f)}))}))},t.startOfWeek=function(){return xs(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Fe(t.startOfWeek(),t.props.selected)&&Fe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Fe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return K.createElement("div",{className:Kt(t,n),role:"row"},this.renderDays())},e})(B.Component),lc,BL=6,Ma={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Gp=(lc={},lc[Ma.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},lc[Ma.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},lc[Ma.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},lc),Cd=1;function Lw(r,e){return r?Ma.FOUR_COLUMNS:e?Ma.TWO_COLUMNS:Ma.THREE_COLUMNS}var zL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Or([],Array(12),!0).map(function(){return B.createRef()}),t.QUARTER_REFS=Or([],Array(4),!0).map(function(){return B.createRef()}),t.isDisabled=function(n){return zn(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(n){return Gg(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var a,l;(l=(a=t.props).onDayClick)===null||l===void 0||l.call(a,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,a;(a=(i=t.props).onDayMouseEnter)===null||a===void 0||a.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate;return!l||!d?!1:hn(Rn(a,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate;return!l||!d?!1:Ih(Ca(a,n),l)},t.isRangeEndMonth=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate;return!l||!d?!1:hn(Rn(a,n),d)},t.isRangeEndQuarter=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate;return!l||!d?!1:Ih(Ca(a,n),d)},t.isInSelectingRangeMonth=function(n){var i,a=t.props,l=a.day,d=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,g=a.startDate,_=a.endDate,x=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(d||f||p)||!x?!1:d&&_?Sd(x,_,n,l):f&&g||p&&g&&!_?Sd(g,x,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,d=a.startDate,f=a.selectsStart,p=Rn(l,n),g=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return f?hn(p,g):hn(p,d)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var a=t.props,l=a.day,d=a.endDate,f=a.selectsEnd,p=a.selectsRange,g=Rn(l,n),_=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return f||p?hn(g,_):hn(g,d)},t.isInSelectingRangeQuarter=function(n){var i,a=t.props,l=a.day,d=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,g=a.startDate,_=a.endDate,x=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(d||f||p)||!x?!1:d&&_?kd(x,_,n,l):f&&g||p&&g&&!_?kd(g,x,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,a=or(n,6);return hn(n,i)||hn(a,i)},t.isCurrentMonth=function(n,i){return Me(n)===Me(Xe())&&i===an(Xe())},t.isCurrentQuarter=function(n,i){return Me(n)===Me(Xe())&&i===hs(Xe())},t.isSelectedMonth=function(n,i,a){return an(a)===i&&Me(n)===Me(a)},t.isSelectMonthInList=function(n,i,a){return a.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,a){return hs(a)===i&&Me(n)===Me(a)},t.isSelectQuarterInList=function(n,i,a){return a.some(function(l){return t.isSelectedQuarter(n,i,l)})},t.isMonthSelected=function(){var n=t.props,i=n.day,a=n.selected,l=n.selectedDates,d=n.selectsMultiple,f=an(i);return d?l?.some(function(p){return t.isSelectedMonth(i,f,p)}):!!a&&t.isSelectedMonth(i,f,a)},t.isQuarterSelected=function(){var n=t.props,i=n.day,a=n.selected,l=n.selectedDates,d=n.selectsMultiple,f=hs(i);return d?l?.some(function(p){return t.isSelectedQuarter(i,f,p)}):!!a&&t.isSelectedQuarter(i,f,a)},t.renderWeeks=function(){if(!Nr(t.props.day))return[];for(var n=[],i=t.props.fixedHeight,a=0,l=!1,d=xs(_i(t.props.day),t.props.locale,t.props.calendarStartDay),f=function(P){return t.props.showWeekPicker?xs(P,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(P){return t.props.showWeekPicker?xs(P,t.props.locale,t.props.calendarStartDay):t.props.selected},g=t.props.selected?p(t.props.selected):void 0,_=t.props.preSelection?f(t.props.preSelection):void 0;n.push(K.createElement(UL,je({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:a,day:d,month:an(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:g,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!l;){a++,d=ph(d,1);var x=i&&a>=BL,T=!i&&!t.isWeekInMonth(d);if(x||T)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var a=t.isMonthDisabledForLabelDate(i),l=a.isDisabled,d=a.labelDate;l||t.handleDayClick(_i(d),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),a=i.isDisabled,l=i.labelDate;a||t.handleDayMouseEnter(_i(l))},t.handleMonthNavigation=function(n,i){var a,l,d,f;(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(f=(d=t.MONTH_REFS[n])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus()},t.handleKeyboardNavigation=function(n,i,a){var l,d=t.props,f=d.selected,p=d.preSelection,g=d.setPreSelection,_=d.minDate,x=d.maxDate,T=d.showFourColumnMonthYearPicker,P=d.showTwoColumnMonthYearPicker;if(p){var M=Lw(T,P),b=t.getVerticalOffset(M),U=(l=Gp[M])===null||l===void 0?void 0:l.grid,q=function(C,k,D){var N,O,V=k,R=D;switch(C){case ue.ArrowRight:V=lr(k,Cd),R=D===11?0:D+Cd;break;case ue.ArrowLeft:V=yo(k,Cd),R=D===0?11:D-Cd;break;case ue.ArrowUp:V=yo(k,b),R=!((N=U?.[0])===null||N===void 0)&&N.includes(D)?D+12-b:D-b;break;case ue.ArrowDown:V=lr(k,b),R=!((O=U?.[U.length-1])===null||O===void 0)&&O.includes(D)?D-12+b:D+b;break}return{newCalculatedDate:V,newCalculatedMonth:R}},Q=function(C,k,D){for(var N=40,O=C,V=!1,R=0,Ee=q(O,k,D),Ie=Ee.newCalculatedDate,he=Ee.newCalculatedMonth;!V;){if(R>=N){Ie=k,he=D;break}if(_&&Ie<_){O=ue.ArrowRight;var ge=q(O,Ie,he);Ie=ge.newCalculatedDate,he=ge.newCalculatedMonth}if(x&&Ie>x){O=ue.ArrowLeft;var ge=q(O,Ie,he);Ie=ge.newCalculatedDate,he=ge.newCalculatedMonth}if(CL(Ie,t.props)){var ge=q(O,Ie,he);Ie=ge.newCalculatedDate,he=ge.newCalculatedMonth}else V=!0;R++}return{newCalculatedDate:Ie,newCalculatedMonth:he}};if(i===ue.Enter){t.isMonthDisabled(a)||(t.onMonthClick(n,a),g?.(f));return}var ne=Q(i,p,a),se=ne.newCalculatedDate,ce=ne.newCalculatedMonth;switch(i){case ue.ArrowRight:case ue.ArrowLeft:case ue.ArrowUp:case ue.ArrowDown:t.handleMonthNavigation(ce,se);break}}},t.getVerticalOffset=function(n){var i,a;return(a=(i=Gp[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&a!==void 0?a:0},t.onMonthKeyDown=function(n,i){var a=t.props,l=a.disabledKeyboardNavigation,d=a.handleOnMonthKeyDown,f=n.key;f!==ue.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,f,i),d&&d(n)},t.onQuarterClick=function(n,i){var a=Ca(t.props.day,i);Td(a,t.props)||t.handleDayClick(xw(a),n)},t.onQuarterMouseEnter=function(n){var i=Ca(t.props.day,n);Td(i,t.props)||t.handleDayMouseEnter(xw(i))},t.handleQuarterNavigation=function(n,i){var a,l,d,f;t.isDisabled(i)||t.isExcluded(i)||((l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,i),(f=(d=t.QUARTER_REFS[n-1])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())},t.onQuarterKeyDown=function(n,i){var a,l,d=n.key;if(!t.props.disabledKeyboardNavigation)switch(d){case ue.Enter:t.onQuarterClick(n,i),(l=(a=t.props).setPreSelection)===null||l===void 0||l.call(a,t.props.selected);break;case ue.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Fg(t.props.preSelection,1));break;case ue.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,Kx(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,a=t.props,l=a.day,d=a.disabled,f=a.minDate,p=a.maxDate,g=a.excludeDates,_=a.includeDates,x=Rn(l,n);return d?{isDisabled:!0,labelDate:Rn(l,n)}:{isDisabled:(i=(f||p||g||_)&&cS(x,t.props))!==null&&i!==void 0?i:!1,labelDate:x}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate,f=i.preSelection,p=i.monthClassName,g=p?p(Rn(a,n)):void 0,_=t.getSelection();return Kt("react-datepicker__month-text","react-datepicker__month-".concat(n),g,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(a,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&f&&t.isSelectedMonth(a,n,f)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&d?Sd(l,d,n,a):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(a,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=an(t.props.preSelection),a=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=hs(t.props.preSelection),a=Td(t.props.day,t.props),l=n===i&&!(a||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,a=i.chooseDayAriaLabelPrefix,l=a===void 0?"Choose":a,d=i.disabledDayAriaLabelPrefix,f=d===void 0?"Not available":d,p=i.day,g=i.locale,_=Rn(p,n),x=t.isDisabled(_)||t.isExcluded(_)?f:l;return"".concat(x," ").concat(dt(_,"MMMM yyyy",g))},t.getQuarterClassNames=function(n){var i=t.props,a=i.day,l=i.startDate,d=i.endDate,f=i.minDate,p=i.maxDate,g=i.excludeDates,_=i.includeDates,x=i.filterDate,T=i.preSelection,P=i.disabledKeyboardNavigation,M=i.disabled,b=(f||p||g||_||x||M)&&Td(Ca(a,n),t.props),U=t.getSelection();return Kt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":U?t.isSelectQuarterInList(a,n,U):void 0,"react-datepicker__quarter-text--keyboard-selected":!P&&T&&t.isSelectedQuarter(a,n,T)&&!t.isQuarterSelected()&&!b,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&d?kd(l,d,n,a):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(a,n)})},t.getMonthContent=function(n){var i=t.props,a=i.showFullMonthYearPicker,l=i.renderMonthContent,d=i.locale,f=i.day,p=lS(n,d),g=Qg(n,d);return l?l(n,p,g,f):a?g:p},t.getQuarterContent=function(n){var i,a=t.props,l=a.renderQuarterContent,d=a.locale,f=kL(n,d);return(i=l?.(n,f))!==null&&i!==void 0?i:f},t.renderMonths=function(){var n,i=t.props,a=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,d=i.day,f=i.selected,p=(n=Gp[Lw(l,a)])===null||n===void 0?void 0:n.grid;return p?.map(function(g,_){return K.createElement("div",{className:"react-datepicker__month-wrapper",key:_},g.map(function(x,T){return K.createElement("div",{ref:t.MONTH_REFS[x],key:T,onClick:function(P){t.onMonthClick(P,x)},onKeyDown:function(P){hS(P)&&(P.preventDefault(),P.key=ue.Enter),t.onMonthKeyDown(P,x)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(x)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(x)}:void 0,tabIndex:Number(t.getTabIndex(x)),className:t.getMonthClassNames(x),"aria-disabled":t.isMonthDisabled(x),role:"option","aria-label":t.getAriaLabel(x),"aria-current":t.isCurrentMonth(d,x)?"date":void 0,"aria-selected":f?t.isSelectedMonth(d,x,f):void 0},t.getMonthContent(x))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,a=n.selected,l=[1,2,3,4];return K.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(d,f){return K.createElement("div",{key:f,ref:t.QUARTER_REFS[f],role:"option",onClick:function(p){t.onQuarterClick(p,d)},onKeyDown:function(p){t.onQuarterKeyDown(p,d)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(d)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(d)}:void 0,className:t.getQuarterClassNames(d),"aria-selected":a?t.isSelectedQuarter(i,d,a):void 0,tabIndex:Number(t.getQuarterTabIndex(d)),"aria-current":t.isCurrentQuarter(i,d)?"date":void 0},t.getQuarterContent(d))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,a=n.selectsStart,l=n.selectsEnd,d=n.showMonthYearPicker,f=n.showQuarterYearPicker,p=n.showWeekPicker;return Kt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(a||l)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,a=t.selectsMultiple;if(a)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,a=t.day,l=t.ariaLabelPrefix,d=l===void 0?"Month ":l,f=d?d.trim()+" ":"",p=Nr(a)?"".concat(f).concat(dt(a,"MMMM, yyyy",this.props.locale)):"",g=n||i;return g?K.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"listbox"},n?this.renderMonths():this.renderQuarters()):K.createElement("div",{role:"table"},this.props.dayNamesHeader&&K.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),K.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":p,role:"rowgroup"},this.renderWeeks()))},e})(B.Component),WL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(n){return t.props.month===n},t.handleOptionKeyDown=function(n,i){var a;switch(i.key){case"Enter":i.preventDefault(),t.onChange(n);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var l=(n+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(a=t.monthOptionButtonsRef[l])===null||a===void 0||a.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(n,i){return K.createElement("div",{ref:function(a){t.monthOptionButtonsRef[i]=a,t.isSelectedMonth(i)&&a?.focus()},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?K.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return K.createElement(ef,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),HL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,a){return K.createElement("option",{key:i,value:a},i)})},t.renderSelectMode=function(n){return K.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return K.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return K.createElement(WL,je({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,a=[t.renderReadView(!i,n)];return i&&a.unshift(t.renderDropdown(n)),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return lS(a,t.props.locale)}:function(a){return Qg(a,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return K.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(B.Component);function YL(r,e){for(var t=[],n=_i(r),i=_i(e);!Ds(n,i);)t.push(Xe(n)),n=lr(n,1);return t}var $L=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var a=Nm(i),l=Pr(n.props.date,i)&&hn(n.props.date,i);return K.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:n.onChange.bind(n,a),"aria-selected":l?"true":void 0},l?K.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",dt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:YL(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=Kt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return K.createElement(ef,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),qL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=_i(t.props.minDate),i=_i(t.props.maxDate),a=[];!Ds(n,i);){var l=Nm(n);a.push(K.createElement("option",{key:l,value:l},dt(n,t.props.dateFormat,t.props.locale))),n=lr(n,1)}return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return K.createElement("select",{value:Nm(_i(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=dt(t.props.date,t.props.dateFormat,t.props.locale);return K.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},K.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return K.createElement($L,je({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Xe(n);Pr(t.props.date,i)&&hn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(B.Component),KL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,a;t.list&&(t.list.scrollTop=(a=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&a!==void 0?a:0)})},t.handleClick=function(n){var i,a;(t.props.minTime||t.props.maxTime)&&Cw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&kw(n,t.props)||(a=(i=t.props).onChange)===null||a===void 0||a.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&LL(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&Cw(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&kw(n,t.props)},t.liClasses=function(n){var i,a=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&a.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&a.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(yi(n)*3600+vi(n)*60+Es(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},t.handleOnKeyDown=function(n,i){var a,l;n.key===ue.Space&&(n.preventDefault(),n.key=ue.Enter),(n.key===ue.ArrowUp||n.key===ue.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ue.ArrowDown||n.key===ue.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ue.Enter&&t.handleClick(i),(l=(a=t.props).handleOnKeyDown)===null||l===void 0||l.call(a,n)},t.renderTimes=function(){for(var n,i=[],a=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,d=t.props.selected||t.props.openToDate||Xe(),f=zd(d),p=t.props.injectTimes&&t.props.injectTimes.sort(function(b,U){return b.getTime()-U.getTime()}),g=60*OL(d),_=g/l,x=0;x<_;x++){var T=Pm(f,x*l);if(i.push(T),p){var P=ML(f,T,x,l,p);i=i.concat(P)}}var M=i.reduce(function(b,U){return U.getTime()<=d.getTime()?U:b},i[0]);return i.map(function(b){return K.createElement("li",{key:b.valueOf(),onClick:t.handleClick.bind(t,b),className:t.liClasses(b),ref:function(U){b===M&&(t.centerLi=U)},onKeyDown:function(U){t.handleOnKeyDown(U,b)},tabIndex:b===M?0:-1,role:"option","aria-selected":t.isSelectedTime(b)?"true":void 0,"aria-disabled":t.isDisabledTime(b)?"true":void 0},dt(b,a,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?K.createElement(K.Fragment,null):K.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},K.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return K.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),K.createElement("div",{className:"react-datepicker__time"},K.createElement("div",{className:"react-datepicker__time-box"},K.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){t.list=a},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e})(B.Component),Vw=3,QL=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Or([],Array(n.props.yearItemNumber),!0).map(function(){return B.createRef()}),n.isDisabled=function(i){return zn(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return Gg(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var a=function(){var l,d;(d=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||d===void 0||d.focus()};window.requestAnimationFrame(a)},n.handleYearClick=function(i,a){n.props.onDayClick&&n.props.onDayClick(i,a)},n.handleYearNavigation=function(i,a){var l,d,f,p,g=n.props,_=g.date,x=g.yearItemNumber;if(!(_===void 0||x===void 0)){var T=fi(_,x).startPeriod;n.isDisabled(a)||n.isExcluded(a)||((d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,a),i-T<0?n.updateFocusOnPaginate(x-(T-i)):i-T>=x?n.updateFocusOnPaginate(Math.abs(x-(i-T))):(p=(f=n.YEAR_REFS[i-T])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,a){return Fe(i,a)},n.isCurrentYear=function(i){return i===Me(Xe())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Pr(Dr(Xe(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Pr(Dr(Xe(),i),n.props.endDate)},n.isInRange=function(i){return Id(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var a=n.props,l=a.selectsStart,d=a.selectsEnd,f=a.selectsRange,p=a.startDate,g=a.endDate;return!(l||d||f)||!n.selectingDate()?!1:l&&g?Id(i,n.selectingDate(),g):d&&p||f&&p&&!g?Id(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,d=l.startDate,f=l.selectsStart,p=Dr(Xe(),i);return f?Pr(p,(a=n.selectingDate())!==null&&a!==void 0?a:null):Pr(p,d??null)},n.isSelectingRangeEnd=function(i){var a;if(!n.isInSelectingRange(i))return!1;var l=n.props,d=l.endDate,f=l.selectsEnd,p=l.selectsRange,g=Dr(Xe(),i);return f||p?Pr(g,(a=n.selectingDate())!==null&&a!==void 0?a:null):Pr(g,d??null)},n.isKeyboardSelected=function(i){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var a=n.props,l=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,g=a.filterDate,_=a.selected,x=mc(Dr(n.props.date,i)),T=(l||d||f||p||g)&&Wd(i,n.props),P=!!_&&Fe(x,mc(_)),M=Fe(x,mc(n.props.preSelection));return!n.props.inline&&!P&&M&&!T}},n.isSelectedYear=function(i){var a=n.props,l=a.selectsMultiple,d=a.selected,f=a.selectedDates;return l?f?.some(function(p){return i===Me(p)}):!!d&&i===Me(d)},n.onYearClick=function(i,a){var l=n.props.date;l!==void 0&&n.handleYearClick(mc(Dr(l,a)),i)},n.onYearKeyDown=function(i,a){var l,d,f=i.key,p=n.props,g=p.date,_=p.yearItemNumber,x=p.handleOnKeyDown;if(f!==ue.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(f){case ue.Enter:if(n.props.selected==null)break;n.onYearClick(i,a),(d=(l=n.props).setPreSelection)===null||d===void 0||d.call(l,n.props.selected);break;case ue.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(a+1,mi(n.props.preSelection,1));break;case ue.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(a-1,$a(n.props.preSelection,1));break;case ue.ArrowUp:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var T=fi(g,_).startPeriod,P=Vw,M=a-P;if(M<T){var b=_%P;a>=T&&a<T+b?P=b:P+=b,M=a-P}n.handleYearNavigation(M,$a(n.props.preSelection,P));break}case ue.ArrowDown:{if(g===void 0||_===void 0||n.props.preSelection==null)break;var U=fi(g,_).endPeriod,P=Vw,M=a+P;if(M>U){var b=_%P;a<=U&&a>U-b?P=b:P+=b,M=a+P}n.handleYearNavigation(M,mi(n.props.preSelection,P));break}}x&&x(i)},n.getYearClassNames=function(i){var a=n.props,l=a.date,d=a.disabled,f=a.minDate,p=a.maxDate,g=a.excludeDates,_=a.includeDates,x=a.filterDate,T=a.yearClassName;return Kt("react-datepicker__year-text","react-datepicker__year-".concat(i),l?T?.(Dr(l,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(f||p||g||_||x||d)&&Wd(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var a=Me(n.props.preSelection),l=Wd(i,n.props);return i===a&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,a=i.date,l=i.yearItemNumber,d=i.onYearMouseEnter,f=i.onYearMouseLeave;if(a===void 0)return null;for(var p=fi(a,l),g=p.startPeriod,_=p.endPeriod,x=function(M){n.push(K.createElement("div",{ref:T.YEAR_REFS[M-g],onClick:function(b){t.onYearClick(b,M)},onKeyDown:function(b){hS(b)&&(b.preventDefault(),b.key=ue.Enter),t.onYearKeyDown(b,M)},tabIndex:Number(T.getYearTabIndex(M)),className:T.getYearClassNames(M),onMouseEnter:T.props.usePointerEvent?void 0:function(b){return d(b,M)},onPointerEnter:T.props.usePointerEvent?function(b){return d(b,M)}:void 0,onMouseLeave:T.props.usePointerEvent?void 0:function(b){return f(b,M)},onPointerLeave:T.props.usePointerEvent?function(b){return f(b,M)}:void 0,key:M,"aria-current":T.isCurrentYear(M)?"date":void 0},T.getYearContent(M)))},T=this,P=g;P<=_;P++)x(P);return K.createElement("div",{className:"react-datepicker__year"},K.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(B.Component);function GL(r,e,t,n){for(var i=[],a=0;a<2*e+1;a++){var l=r+e-a,d=!0;t&&(d=Me(t)<=l),n&&d&&(d=Me(n)>=l),d&&i.push(l)}return i}var XL=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(d,f){var p;switch(f.key){case"Enter":f.preventDefault(),n.onChange(d);break;case"Escape":f.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{f.preventDefault();var g=d+(f.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[g]&&((p=n.yearOptionButtonsRef[g])===null||p===void 0||p.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var d=n.props.year,f=n.state.yearsList.map(function(_){return K.createElement("div",{ref:function(x){n.yearOptionButtonsRef[_]=x,_===d&&x?.focus()},role:"button",tabIndex:0,className:d===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),onKeyDown:n.handleOptionKeyDown.bind(n,_),"aria-selected":d===_?"true":void 0},d===_?K.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),p=n.props.minDate?Me(n.props.minDate):null,g=n.props.maxDate?Me(n.props.maxDate):null;return(!g||!n.state.yearsList.find(function(_){return _===g}))&&f.unshift(K.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(_){return _===p}))&&f.push(K.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},K.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),f},n.onChange=function(d){n.props.onChange(d)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(d){var f=n.state.yearsList.map(function(p){return p+d});n.setState({yearsList:f})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,a=t.scrollableYearDropdown,l=i||(a?10:5);return n.state={yearsList:GL(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=B.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(a){return a.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=Kt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return K.createElement(ef,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(B.Component),JL=(function(r){Xt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Me(t.props.minDate):1900,i=t.props.maxDate?Me(t.props.maxDate):2100,a=[],l=n;l<=i;l++)a.push(K.createElement("option",{key:l,value:l},l));return a},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return K.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return K.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},K.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),K.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return K.createElement(XL,je({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var a;(a=t.onSelect)===null||a===void 0||a.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var a,l;(l=(a=t.props).onSelect)===null||l===void 0||l.call(a,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return K.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(B.Component),ZL=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],fS="react-datepicker-ignore-onclickoutside",e4=function(r){var e=(r.className||"").split(/\s+/);return ZL.some(function(t){return e.indexOf(t)>=0})},t4=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var a,l;e4(i.target)&&((l=(a=n.props).onDropdownFocus)===null||l===void 0||l.call(a,i))},n.getDateInView=function(){var i=n.props,a=i.preSelection,l=i.selected,d=i.openToDate,f=uS(n.props),p=dS(n.props),g=Xe(),_=d||l||a;return _||(f&&Mr(g,f)?f:p&&Ds(g,p)?p:g)},n.increaseMonth=function(){n.setState(function(i){var a=i.date;return{date:lr(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var a=i.date;return{date:yo(a,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,a,l){n.props.onSelect(i,a,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,a){n.setState({selectingDate:Dr(Xe(),a)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,a)},n.handleYearMouseLeave=function(i,a){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,a)},n.handleYearChange=function(i){var a,l,d,f;(l=(a=n.props).onYearChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(f=(d=n.props).setOpen)===null||f===void 0||f.call(d,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!zn(i,n.props))return i;for(var a=_i(i),l=xL(i),d=N2(l,a),f=null,p=0;p<=d;p++){var g=or(a,p);if(!zn(g,n.props)){f=g;break}}return f},n.handleMonthChange=function(i){var a,l,d,f=(a=n.getEnabledPreSelectionDateForMonth(i))!==null&&a!==void 0?a:i;n.handleCustomMonthChange(f),n.props.adjustDateOnChange&&(n.props.onSelect(f),(d=(l=n.props).setOpen)===null||d===void 0||d.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(f)},n.handleCustomMonthChange=function(i){var a,l;(l=(a=n.props).onMonthChange)===null||l===void 0||l.call(a,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(a){var l=a.date;return{date:Dr(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(a){var l=a.date;return{date:Rn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(a){var l=a.date;return{date:Dr(Rn(l,an(i)),Me(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){if(i===void 0&&(i=n.state.date),!Nr(i))return[];var a=n.props.disabled,l=xs(i,n.props.locale,n.props.calendarStartDay),d=[];return n.props.showWeekNumbers&&d.push(K.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},K.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),K.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),d.concat([0,1,2,3,4,5,6].map(function(f){var p=or(l,f),g=n.formatWeekday(p,n.props.locale),_=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return K.createElement("div",{key:f,role:"columnheader",className:Kt("react-datepicker__day-name",_,a?"react-datepicker__day-name--disabled":"")},K.createElement("span",{className:"react-datepicker__sr-only"},dt(p,"EEEE",n.props.locale)),K.createElement("span",{"aria-hidden":"true"},g))}))},n.formatWeekday=function(i,a){return n.props.formatWeekDay?SL(i,n.props.formatWeekDay,a):n.props.useWeekdaysShort?IL(i,a):TL(i,a)},n.decreaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:$a(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,a,l;if(!n.props.renderCustomHeader){var d=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,f=n.props.showPreviousMonths?d-1:0,p=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:f,g=yo(n.state.date,p),_;switch(!0){case n.props.disabled:_=!0;break;case n.props.showMonthYearPicker:_=Pw(n.state.date,n.props);break;case n.props.showYearPicker:_=PL(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=bL(n.state.date,n.props);break;default:_=bw(g,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var x=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],T=["react-datepicker__navigation","react-datepicker__navigation--previous"],P=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(P=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(T.push("react-datepicker__navigation--previous--disabled"),P=void 0);var M=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,U=b.previousMonthButtonLabel,q=U===void 0?e.defaultProps.previousMonthButtonLabel:U,Q=b.previousYearButtonLabel,ne=Q===void 0?e.defaultProps.previousYearButtonLabel:Q,se=n.props,ce=se.previousMonthAriaLabel,C=ce===void 0?typeof q=="string"?q:"Previous Month":ce,k=se.previousYearAriaLabel,D=k===void 0?typeof ne=="string"?ne:"Previous Year":k;return K.createElement("button",{type:"button",className:T.join(" "),onClick:P,onKeyDown:n.props.handleOnKeyDown,"aria-label":M?D:C},K.createElement("span",{className:x.join(" ")},M?ne:q))}}},n.increaseYear=function(){n.setState(function(i){var a,l=i.date;return{date:mi(l,n.props.showYearPicker?(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var a;switch(!0){case n.props.disabled:a=!0;break;case n.props.showMonthYearPicker:a=Rw(n.state.date,n.props);break;case n.props.showYearPicker:a=RL(n.state.date,n.props);break;case n.props.showQuarterYearPicker:a=DL(n.state.date,n.props);break;default:a=Dw(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&a||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],d=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var f=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(f=n.increaseYear),a&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),f=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,g=n.props,_=g.nextMonthButtonLabel,x=_===void 0?e.defaultProps.nextMonthButtonLabel:_,T=g.nextYearButtonLabel,P=T===void 0?e.defaultProps.nextYearButtonLabel:T,M=n.props,b=M.nextMonthAriaLabel,U=b===void 0?typeof x=="string"?x:"Next Month":b,q=M.nextYearAriaLabel,Q=q===void 0?typeof P=="string"?P:"Next Year":q;return K.createElement("button",{type:"button",className:l.join(" "),onClick:f,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?Q:U},K.createElement("span",{className:d.join(" ")},p?P:x))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var a=["react-datepicker__current-month"];return n.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),K.createElement("h2",{className:a.join(" ")},Nr(i)?dt(i,n.props.dateFormat,n.props.locale):"")},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return K.createElement(JL,je({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Me(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return K.createElement(HL,je({},e.defaultProps,n.props,{month:an(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return K.createElement(qL,je({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(Sw(),i),n.props.setPreSelection&&n.props.setPreSelection(Sw())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return K.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(i){return K.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(i))},n.renderDefaultHeader=function(i){var a=i.monthDate,l=i.i;return K.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(a),K.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)))},n.renderCustomHeader=function(i){var a,l,d=i.monthDate,f=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=n.props,g=p.showYearPicker,_=p.yearItemNumber,x;if(g){var T=fi(d,_),P=T.startPeriod,M=T.endPeriod;x={startYear:P,endYear:M}}var b=bw(n.state.date,n.props),U=Dw(n.state.date,n.props),q=Pw(n.state.date,n.props),Q=Rw(n.state.date,n.props);return K.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(a=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(a,je(je(je({},n.state),g&&{visibleYearsRange:x}),{customHeaderCount:f,monthDate:d,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:b,nextMonthButtonDisabled:U,prevYearButtonDisabled:q,nextYearButtonDisabled:Q})))},n.renderYearHeader=function(i){var a=i.monthDate,l=n.props,d=l.showYearPicker,f=l.yearItemNumber,p=f===void 0?e.defaultProps.yearItemNumber:f,g=fi(a,p),_=g.startPeriod,x=g.endPeriod;return K.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},d?"".concat(_," - ").concat(x):Me(a))},n.renderHeader=function(i){var a=i.monthDate,l=i.i,d=l===void 0?0:l,f={monthDate:a,i:d};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(f);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(f);default:return n.renderDefaultHeader(f)}},n.renderMonths=function(){var i,a;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],d=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,f=n.props.showPreviousMonths?d-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mi(n.state.date,f):yo(n.state.date,f),g=(a=n.props.monthSelectedIn)!==null&&a!==void 0?a:f,_=0;_<d;++_){var x=_-g+f,T=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mi(p,x):lr(p,x),P="month-".concat(_),M=_<d-1,b=_>0;l.push(K.createElement("div",{key:P,ref:function(U){n.monthContainer=U??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:T,i:_}),K.createElement(zL,je({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:T,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:M,monthShowsDuplicateDaysStart:b,dayNamesHeader:n.renderDayNamesHeader(T)}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return K.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),K.createElement(QL,je({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return K.createElement(KL,je({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,a=i&&Nr(i)&&!!n.props.selected,l=a?"".concat(Nw(i.getHours()),":").concat(Nw(i.getMinutes())):"";if(n.props.showTimeInput)return K.createElement(VL,je({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i;if(!Nr(n.state.date))return K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var a=fi(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=a.startPeriod,d=a.endPeriod,f;return n.props.showYearPicker?f="".concat(l," - ").concat(d):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?f=Me(n.state.date):f="".concat(Qg(an(n.state.date),n.props.locale)," ").concat(Me(n.state.date)),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&f)},n.renderChildren=function(){if(n.props.children)return K.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=B.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:fS,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Xc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&Nr(this.props.preSelection)&&(!Fe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!hn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Fe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||mL;return K.createElement(ef,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},K.createElement("div",{style:{display:"contents"},ref:this.containerRef},K.createElement(t,{className:Kt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(B.Component),n4=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,a="react-datepicker__calendar-icon";if(typeof e=="string")return K.createElement("i",{className:"".concat(a," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(K.isValidElement(e)){var l=e;return K.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(a," ").concat(n),onClick:function(d){typeof l.props.onClick=="function"&&l.props.onClick(d),typeof i=="function"&&i(d)}})}return K.createElement("svg",{className:"".concat(a," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},K.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},pS=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return AT.createPortal(this.props.children,this.el)},e})(B.Component),r4="[tabindex], a, button, input, select, textarea",i4=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},mS=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(r4),1,-1).filter(i4)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=B.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?K.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},K.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,K.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(B.Component);function s4(r){function e(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,a=B.useRef(null),l=pL(je({open:!i,whileElementsMounted:$O,placement:t.popperPlacement,middleware:Or([tL({padding:15}),eL(10),nL({element:a})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),d=je(je({},t),{hidePopper:i,popperProps:je(je({},l),{arrowRef:a})});return K.createElement(r,je({},d))}return e.displayName="withFloating(".concat(r.displayName||r.name||"Component",")"),e}var o4=function(r){var e=r.className,t=r.wrapperClassName,n=r.hidePopper,i=n===void 0?!0:n,a=r.popperComponent,l=r.targetComponent,d=r.enableTabLoop,f=r.popperOnKeyDown,p=r.portalId,g=r.portalHost,_=r.popperProps,x=r.showArrow,T=void 0;if(!i){var P=Kt("react-datepicker-popper",e);T=K.createElement(mS,{enableTabLoop:d},K.createElement("div",{ref:_.refs.setFloating,style:_.floatingStyles,className:P,"data-placement":_.placement,onKeyDown:f},a,x&&K.createElement(aL,{ref:_.arrowRef,context:_.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}r.popperContainer&&(T=B.createElement(r.popperContainer,{},T)),p&&!i&&(T=K.createElement(pS,{portalId:p,portalHost:g},T));var M=Kt("react-datepicker-wrapper",t);return K.createElement(K.Fragment,null,K.createElement("div",{ref:_.refs.setReference,className:M},l),T)},a4=s4(o4);function l4(r,e){return r&&e?an(r)!==an(e)||Me(r)!==Me(e):r!==e}var Xp="Date input not valid.",c4=(function(r){Xt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Xe()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(a,l){var d=new Date(l.date);return Nr(d)?Or(Or([],a,!0),[je(je({},l),{date:d})],!1):a},[])},n.calcInitialState=function(){var i,a=n.getPreSelection(),l=uS(n.props),d=dS(n.props),f=l&&Mr(a,zd(l))?l:d&&Ds(a,Tw(d))?d:a;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:f,highlightDates:Aw(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var i,a=n.props,l=a.locale,d=a.startDate,f=a.endDate,p=a.rangeSeparator,g=a.selected,_=a.selectedDates,x=a.selectsMultiple,T=a.selectsRange,P=a.value,M=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,b=n.state.inputValue;return typeof P=="string"?P:typeof b=="string"?b:T?yL(d,f,{dateFormat:M,locale:l,rangeSeparator:p}):x?vL(_??[],{dateFormat:M,locale:l}):Pn(g,{dateFormat:M,locale:l})},n.resetHiddenStatus=function(){n.setState(je(je({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(je(je({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.focus)===null||a===void 0||a.call(i,{preventScroll:!0})},n.setBlur=function(){var i,a;(a=(i=n.input)===null||i===void 0?void 0:i.blur)===null||a===void 0||a.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,a){a===void 0&&(a=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:Jp},function(){i||n.setState(function(l){return{focused:a?l.focused:!1}},function(){!a&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return gi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var a,l,d=n.state.wasHidden,f=d?n.state.open:!0;d&&n.resetHiddenStatus(),n.state.preventFocus||((l=(a=n.props).onFocus)===null||l===void 0||l.call(a,i),f&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(je(je({},n.state),{inputValue:null}))},n.handleBlur=function(i){var a,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(a=n.props).onBlur)===null||l===void 0||l.call(a,i)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var a,l;n.props.inline||n.setOpen(!1),(l=(a=n.props).onClickOutside)===null||l===void 0||l.call(a,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,a,l,d,f,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var _=p[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,p),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:_?.target instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:u4});var x=n.props,T=x.selectsRange,P=x.startDate,M=x.endDate,b=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,U=(a=n.props.strictParsing)!==null&&a!==void 0?a:e.defaultProps.strictParsing,q=_?.target instanceof HTMLInputElement?_.target.value:"";if(T){var Q=n.props.rangeSeparator,ne=Q.trim(),se=q.split(b.includes(ne)?Q:ne,2).map(function(R){return R.trim()}),ce=se[0],C=se[1],k=qp(ce??"",b,n.props.locale,U),D=k?qp(C??"",b,n.props.locale,U):null,N=P?.getTime()!==k?.getTime(),O=M?.getTime()!==D?.getTime();if(!N&&!O||k&&zn(k,n.props)||D&&zn(D,n.props))return;(d=(l=n.props).onChange)===null||d===void 0||d.call(l,[k,D],_)}else{var V=qp(q,b,n.props.locale,U,(f=n.props.selected)!==null&&f!==void 0?f:void 0);(V||!q)&&n.setSelected(V,_,!0)}}},n.handleSelect=function(i,a,l){var d;if(!n.props.readOnly){var f=n.props,p=f.selectsRange,g=f.startDate,_=f.endDate,x=f.locale,T=f.swapRange,P=(d=n.props.dateFormat)!==null&&d!==void 0?d:e.defaultProps.dateFormat,M=!p||g&&!_&&(T||!Qp(i,g));if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&M&&n.sendFocusBackToInput(),n.props.onChangeRaw){var b=Pn(i,{dateFormat:P,locale:x});n.props.onChangeRaw(a,{date:i,formattedDate:b})}n.setSelected(i,a,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(i):M&&n.setOpen(!1)}},n.setSelected=function(i,a,l,d){var f,p,g=i;if(n.props.showYearPicker){if(g!==null&&Wd(Me(g),n.props))return}else if(n.props.showMonthYearPicker){if(g!==null&&cS(g,n.props))return}else if(g!==null&&zn(g,n.props))return;var _=n.props,x=_.onChange,T=_.selectsRange,P=_.startDate,M=_.endDate,b=_.selectsMultiple,U=_.selectedDates,q=_.minTime,Q=_.swapRange;if(!po(n.props.selected,g)||n.props.allowSameDay||T||b)if(g!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(g=Kp(g,{hour:yi(n.props.selected),minute:vi(n.props.selected),second:Es(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&q&&(g=Kp(g,{hour:q.getHours(),minute:q.getMinutes(),second:q.getSeconds()})),n.props.inline||n.setState({preSelection:g}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:d})),T){var ne=!P&&!M,se=P&&!M,ce=!P&&!!M,C=P&&M;ne?x?.([g,null],a):se?g===null?x?.([null,null],a):Qp(g,P)?x?.(Q?[g,P]:[g,null],a):x?.([P,g],a):ce&&(g&&Qp(g,M)?x?.([g,M],a):x?.([g,null],a)),C&&x?.([g,null],a)}else if(b){if(g!==null)if(!U?.length)x?.([g],a);else{var k=U.some(function(N){return Fe(N,g)});if(k){var D=U.filter(function(N){return!Fe(N,g)});x?.(D,a)}else x?.(Or(Or([],U,!0),[g],!1),a)}}else x?.(g,a);l||((p=(f=n.props).onSelect)===null||p===void 0||p.call(f,g,a),n.setState({inputValue:null}))},n.setPreSelection=function(i){if(!n.props.readOnly){var a=gi(n.props.minDate),l=gi(n.props.maxDate),d=!0;if(i){var f=zd(i);if(a&&l)d=co(i,n.props.minDate,n.props.maxDate);else if(a){var p=zd(n.props.minDate);d=Ds(i,p)||po(f,p)}else if(l){var g=Tw(n.props.maxDate);d=Mr(i,g)||po(f,g)}}d&&n.setState({preSelection:i})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var a,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var d=n.props.selected?n.props.selected:n.getPreSelection(),f=n.props.selected?i:Kp(d,{hour:yi(i),minute:vi(i)});n.setState({preSelection:f}),(l=(a=n.props).onChange)===null||l===void 0||l.call(a,f),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,a;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(a=(i=n.props).onInputClick)===null||a===void 0||a.call(i)},n.onInputKeyDown=function(i){var a,l,d,f,p,g;(l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i);var _=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===ue.ArrowDown||_===ue.ArrowUp||_===ue.Enter)&&((d=n.onInputClick)===null||d===void 0||d.call(n));return}if(n.state.open){if(_===ue.ArrowDown||_===ue.ArrowUp){i.preventDefault();var x=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',T=((f=n.calendar)===null||f===void 0?void 0:f.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(x);T instanceof HTMLElement&&T.focus({preventScroll:!0});return}var P=Xe(n.state.preSelection);_===ue.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===Jp?(n.handleSelect(P,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(P)):n.setOpen(!1)):_===ue.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===ue.Tab&&n.setOpen(!1),n.inputOk()||(g=(p=n.props).onInputError)===null||g===void 0||g.call(p,{code:1,msg:Xp})}},n.onPortalKeyDown=function(i){var a=i.key;a===ue.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var a,l,d,f,p,g,_=n.props,x=_.minDate,T=_.maxDate,P=_.disabledKeyboardNavigation,M=_.showWeekPicker,b=_.shouldCloseOnSelect,U=_.locale,q=_.calendarStartDay,Q=_.adjustDateOnChange,ne=_.inline;if((l=(a=n.props).onKeyDown)===null||l===void 0||l.call(a,i),!P){var se=i.key,ce=i.shiftKey,C=Xe(n.state.preSelection),k=function(Ie,he){var ge=he;switch(Ie){case ue.ArrowRight:ge=M?ph(he,1):or(he,1);break;case ue.ArrowLeft:ge=M?uw(he):NM(he);break;case ue.ArrowUp:ge=uw(he);break;case ue.ArrowDown:ge=ph(he,1);break;case ue.PageUp:ge=ce?$a(he,1):yo(he,1);break;case ue.PageDown:ge=ce?mi(he,1):lr(he,1);break;case ue.Home:ge=xs(he,U,q);break;case ue.End:ge=EL(he);break}return ge},D=function(Ie,he){for(var ge=40,G=Ie,le=!1,ae=0,j=k(Ie,he);!le;){if(ae>=ge){j=he;break}x&&j<x&&(G=ue.ArrowRight,j=zn(x,n.props)?k(G,j):x),T&&j>T&&(G=ue.ArrowLeft,j=zn(T,n.props)?k(G,j):T),zn(j,n.props)?((G===ue.PageUp||G===ue.Home)&&(G=ue.ArrowRight),(G===ue.PageDown||G===ue.End)&&(G=ue.ArrowLeft),j=k(G,j)):le=!0,ae++}return j};if(se===ue.Enter){i.preventDefault(),n.handleSelect(C,i),!b&&n.setPreSelection(C);return}else if(se===ue.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:Xp});return}var N=null;switch(se){case ue.ArrowLeft:case ue.ArrowRight:case ue.ArrowUp:case ue.ArrowDown:case ue.PageUp:case ue.PageDown:case ue.Home:case ue.End:N=D(se,C);break}if(!N){(g=(p=n.props).onInputError)===null||g===void 0||g.call(p,{code:1,msg:Xp});return}if(i.preventDefault(),n.setState({lastPreSelectChange:Jp}),Q&&n.setSelected(N),n.setPreSelection(N),ne){var O=an(C),V=an(N),R=Me(C),Ee=Me(N);O!==V||R!==Ee?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var a=i.key;a===ue.Escape&&(i.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var a=n.props,l=a.selectsRange,d=a.onChange;d?.(l?[null,null]:null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,a;return!n.props.inline&&!n.isCalendarOpen()?null:K.createElement(t4,je({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:NL(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(a=n.props.dropdownMode)!==null&&a!==void 0?a:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i,a=n.props.locale,l=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Pn(n.props.startDate,{dateFormat:f,locale:a}),". ").concat(n.props.endDate?"End date: "+Pn(n.props.endDate,{dateFormat:f,locale:a}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Pn(n.props.selected,{dateFormat:l,locale:a})):n.props.showYearPicker?p="Selected year: ".concat(Pn(n.props.selected,{dateFormat:"yyyy",locale:a})):n.props.showMonthYearPicker?p="Selected month: ".concat(Pn(n.props.selected,{dateFormat:"MMMM yyyy",locale:a})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Pn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):p="Selected date: ".concat(Pn(n.props.selected,{dateFormat:f,locale:a})),K.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var i,a,l=Kt(n.props.className,(i={},i[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,i)),d=n.props.customInput||K.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref";return B.cloneElement(d,(a={},a[f]=function(p){n.input=p},a.value=n.getInputValue(),a.onBlur=n.handleBlur,a.onChange=n.handleChange,a.onClick=n.onInputClick,a.onFocus=n.handleFocus,a.onKeyDown=n.onInputKeyDown,a.id=n.props.id,a.name=n.props.name,a.form=n.props.form,a.autoFocus=n.props.autoFocus,a.placeholder=n.props.placeholderText,a.disabled=n.props.disabled,a.autoComplete=n.props.autoComplete,a.className=Kt(d.props.className,l),a.title=n.props.title,a.readOnly=n.props.readOnly,a.required=n.props.required,a.tabIndex=n.props.tabIndex,a["aria-describedby"]=n.props.ariaDescribedBy,a["aria-invalid"]=n.props.ariaInvalid,a["aria-labelledby"]=n.props.ariaLabelledBy,a["aria-required"]=n.props.ariaRequired,a))},n.renderClearButton=function(){var i=n.props,a=i.isClearable,l=i.disabled,d=i.selected,f=i.startDate,p=i.endDate,g=i.clearButtonTitle,_=i.clearButtonClassName,x=_===void 0?"":_,T=i.ariaLabelClose,P=T===void 0?"Close":T,M=i.selectedDates,b=i.readOnly;return a&&!b&&(d!=null||f!=null||p!=null||M?.length)?K.createElement("button",{type:"button",className:Kt("react-datepicker__close-icon",x,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":P,onClick:n.onClearClick,title:g,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:fS,readOnly:!1,rangeSeparator:aS,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Xc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,a,l,d;t.inline&&l4(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Aw(this.props.highlightDates)}),!n.focused&&!po(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((a=(i=this.props).onCalendarOpen)===null||a===void 0||a.call(i)),n.open===!0&&this.state.open===!1&&((d=(l=this.props).onCalendarClose)===null||d===void 0||d.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,a=t.calendarIconClassname,l=t.calendarIconClassName,d=t.toggleCalendarOnIconClick,f=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),K.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&K.createElement(n4,je({icon:i,className:Kt(l,!l&&a,f&&"react-datepicker-ignore-onclickoutside")},d?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?K.createElement(mS,{enableTabLoop:this.props.enableTabLoop},K.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=K.createElement(pS,je({portalId:this.props.portalId},this.props),n)),K.createElement("div",null,this.renderInputContainer(),n)}return K.createElement(a4,je({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(B.Component),u4="input",Jp="navigate";const d4=()=>{const{currentUser:r}=al(),[e,t]=B.useState(""),[n,i]=B.useState(""),[a,l]=B.useState(null),[d,f]=B.useState(null),[p,g]=B.useState({name:"",phone:"",reason:""}),[_,x]=B.useState(!1),[T,P]=B.useState(null),[M,b]=B.useState([]),[U,q]=B.useState(!1);B.useEffect(()=>{r&&g(C=>({...C,name:r.displayName||""}))},[r]),B.useEffect(()=>{if(a&&e&&n){const C=a.toISOString().split("T")[0],k=Dm(uh(Sc,"appointments"),xc("date","==",C),xc("location","==",e),xc("doctorId","==",n)),D=t2(k,N=>{const O=[];N.forEach(V=>{O.push(V.data().slot)}),b(O)},N=>{console.error("Error fetching slots:",N),b([])});return()=>D()}},[a,e,n]);const Q=C=>{const k=C.getDay(),D=new Date;D.setHours(0,0,0,0);const N=new Date(C);return N.setHours(0,0,0,0),N<D||k===0?!1:e==="SALEM"?k===1||k===2||k===3:e==="ATTUR"?k===4||k===5||k===6:!1},ne=C=>{if(l(C),P(null),C&&e){const k=I2(C,e);f(k)}else f(null)},se=C=>{const k=C.target.value;t(k),l(null),P(null),f(null)},ce=async C=>{C.preventDefault(),q(!0);try{const k=a.toISOString().split("T")[0],D=hh.find(O=>O.id===n);await e2(uh(Sc,"appointments"),{date:k,location:e,slot:T,doctorId:n,doctorName:D?.name,...p,userId:r?r.uid:null,createdAt:new Date});const N=Aa[e]?.name||e;await Z_.send("service_2ptkq4x","template_yk6ftoh",{to_name:D?.name||"Doctor",from_name:p.name,message:`New appointment request for ${D?.name}

Location: ${N}
Date: ${k}
Time: ${T}
Phone: ${p.phone}
Reason: ${p.reason}`,reply_to:"sat998@gmail.com"},"4MX1QNdStuiJl3xZ7"),await Z_.send("service_2ptkq4x","template_yk6ftoh",{to_name:p.name,from_name:`${D?.name} Clinic`,message:`Your appointment with ${D?.name} is confirmed!

Location: ${N} Clinic
Date: ${k}
Time: ${T}

We look forward to seeing you!

For any changes, please call: +91 98765 43210`,reply_to:p.phone||"noreply@clinic.com"},"4MX1QNdStuiJl3xZ7"),console.log("Appointment booked:",{date:k,slot:T,doctor:D?.name,...p}),x(!0)}catch(k){console.error("Error booking appointment:",k),alert("There was an error booking your appointment. Please check your connection or try again.")}finally{q(!1)}};return _?E.jsxs("div",{id:"success-message",className:"glass-panel animate-fade-in",style:{textAlign:"center",padding:"60px 40px",color:"var(--success-color)"},children:[E.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:""}),E.jsx("h3",{className:"heading-md",style:{color:"var(--success-color)"},children:"Request Sent!"}),E.jsxs("p",{style:{fontSize:"1.1rem",color:"var(--text-secondary)",marginBottom:"30px"},children:["We will contact you shortly to confirm your visit at",E.jsx("br",{}),E.jsxs("strong",{children:[Aa[e]?.name," clinic"]}),E.jsx("br",{}),"on ",E.jsxs("strong",{children:[a?.toLocaleDateString()," at ",T]}),"."]}),E.jsx("button",{className:"btn btn-primary",onClick:()=>{x(!1),g({name:"",phone:"",reason:""}),t(""),i(""),l(null),P(null)},children:"Book Another"})]}):E.jsxs("div",{className:"glass-panel animate-slide-up",style:{padding:"40px"},children:[E.jsx("h2",{className:"heading-md",style:{color:"var(--primary-color)",fontSize:"2rem"},children:"Book Appointment"}),E.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"30px"},children:"Select a doctor, location, and time slot."}),E.jsxs("form",{onSubmit:ce,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Select Doctor"}),E.jsxs("select",{id:"doctor-select",value:n,onChange:C=>i(C.target.value),style:{width:"100%",padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid transparent",backgroundColor:"rgba(255,255,255,0.8)",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)",cursor:"pointer"},onFocus:C=>C.target.style.borderColor="var(--primary-color)",onBlur:C=>C.target.style.borderColor="transparent",required:!0,children:[E.jsx("option",{value:"",children:"-- Choose Specialist --"}),hh.map(C=>E.jsxs("option",{value:C.id,children:[C.name," - ",C.specialization]},C.id))]})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Select Clinic Location"}),E.jsxs("select",{id:"clinic-location",value:e,onChange:se,disabled:!n,style:{width:"100%",padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid transparent",backgroundColor:"rgba(255,255,255,0.8)",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)",cursor:n?"pointer":"not-allowed",opacity:n?1:.6},onFocus:C=>C.target.style.borderColor="var(--primary-color)",onBlur:C=>C.target.style.borderColor="transparent",required:!0,children:[E.jsx("option",{value:"",children:"-- Choose Location --"}),E.jsx("option",{value:"SALEM",children:"Salem (Mon-Wed)"}),E.jsx("option",{value:"ATTUR",children:"Attur (Thu-Sat)"})]})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Select Date"}),E.jsx("div",{className:"custom-datepicker-wrapper",children:E.jsx(c4,{selected:a,onChange:ne,minDate:new Date,filterDate:Q,disabled:!e,placeholderText:e?"Select an available date":"Please select a location first",dateFormat:"MMMM d, yyyy",className:"glass-input",wrapperClassName:"w-full",required:!0})}),d&&!d.isOpen&&E.jsxs("div",{id:"clinic-status-closed",className:"animate-fade-in",style:{color:"var(--error-color)",marginTop:"12px",fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#fef2f2",padding:"10px",borderRadius:"8px"},children:[E.jsx("span",{children:""})," Clinic is closed: ",d.reason]})]}),d&&d.isOpen&&E.jsxs("div",{className:"form-group animate-fade-in",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Available Slots"}),E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"10px"},children:T2.map(C=>{const k=M.includes(C),D=T===C;let N=!1;if(a){const V=new Date;if(a.toDateString()===V.toDateString()){const[Ee,Ie]=C.split(" ");let[he,ge]=Ee.split(":").map(Number);Ie==="AM"&&he===12&&(he=0),Ie==="PM"&&he!==12&&(he+=12);const G=V.getHours(),le=V.getMinutes();(he<G||he===G&&ge<=le)&&(N=!0)}}const O=k||N;return E.jsx("button",{type:"button",disabled:O,onClick:()=>P(C),style:{padding:"10px",borderRadius:"8px",border:D?"2px solid var(--primary-color)":"1px solid #e5e7eb",backgroundColor:D?"var(--primary-light)":O?"#f3f4f6":"white",color:D?"var(--primary-dark)":O?"#9ca3af":"var(--text-primary)",cursor:O?"not-allowed":"pointer",opacity:O?.6:1,fontWeight:D?"600":"normal",transition:"all 0.2s ease",textDecoration:N?"line-through":"none"},title:N?"Past time":k?"Already booked":"Available",children:C},C)})}),T&&E.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"var(--primary-color)"},children:["Selected: ",E.jsx("strong",{children:T})]})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Patient Name"}),E.jsx("input",{id:"patient-name",type:"text",value:p.name,onChange:C=>g({...p,name:C.target.value}),placeholder:"e.g. John Doe",style:{width:"100%",padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid transparent",backgroundColor:"rgba(255,255,255,0.8)",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},onFocus:C=>C.target.style.borderColor="var(--primary-color)",onBlur:C=>C.target.style.borderColor="transparent",required:!0})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Phone Number"}),E.jsx("input",{id:"patient-phone",type:"tel",value:p.phone,onChange:C=>g({...p,phone:C.target.value}),placeholder:"+91 98765 43210",style:{width:"100%",padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid transparent",backgroundColor:"rgba(255,255,255,0.8)",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},onFocus:C=>C.target.style.borderColor="var(--primary-color)",onBlur:C=>C.target.style.borderColor="transparent",required:!0})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"32px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"0.9rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Reason for Visit"}),E.jsx("textarea",{id:"patient-reason",value:p.reason,onChange:C=>g({...p,reason:C.target.value}),placeholder:"Briefly describe your symptoms...",style:{width:"100%",padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid transparent",backgroundColor:"rgba(255,255,255,0.8)",fontSize:"1rem",transition:"all 0.3s ease",outline:"none",minHeight:"120px",fontFamily:"inherit",boxShadow:"inset 0 2px 4px rgba(0,0,0,0.05)"},onFocus:C=>C.target.style.borderColor="var(--primary-color)",onBlur:C=>C.target.style.borderColor="transparent"})]}),E.jsx("button",{id:"submit-btn",type:"submit",className:"btn btn-primary",style:{width:"100%",fontSize:"1.1rem"},disabled:!a||d&&!d.isOpen||!T||U,children:U?"Processing...":"Confirm Appointment"})]})]})},h4=()=>{const r=[{name:"WhatsApp",icon:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z",color:"#25D366",href:"https://wa.me/919876543210"},{name:"Instagram",icon:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z",color:"#E1306C",href:"https://instagram.com/drkalicharanp"},{name:"Facebook",icon:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z",color:"#1877F2",href:"https://facebook.com/drkalicharanp"},{name:"X",icon:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",color:"#14171A",href:"https://x.com/drkalicharanp"}],[e,t]=B.useState(!1),n=i=>{i.target.id==="booking-modal-overlay"&&t(!1)};return E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{height:"calc(100vh - 80px)",padding:"40px 60px",display:"flex",alignItems:"center",background:"linear-gradient(135deg, #fef7ed 0%, #fef3e2 30%, #e0f2fe 70%, #dbeafe 100%)",overflow:"hidden",position:"relative"},children:[E.jsxs("div",{style:{flex:1,zIndex:2,maxWidth:"500px"},children:[E.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"10px",padding:"10px 18px",backgroundColor:"rgba(255,255,255,0.9)",borderRadius:"50px",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",marginBottom:"24px"},children:[E.jsx("div",{style:{display:"flex",gap:"2px"},children:[1,2,3,4,5].map(i=>E.jsx("span",{style:{color:"#f59e0b",fontSize:"1rem"},children:""},i))}),E.jsx("span",{style:{color:"#64748b",fontSize:"0.9rem",fontWeight:"500"},children:"Trusted by 500+ patients"})]}),E.jsxs("h1",{style:{fontSize:"clamp(2.2rem, 4.5vw, 3.2rem)",fontWeight:"800",lineHeight:"1.15",color:"#1e293b",marginBottom:"28px"},children:["The New",E.jsx("br",{}),"Level of ",E.jsx("span",{style:{color:"#0d9488"},children:"Care"}),E.jsx("br",{}),"for Your ",E.jsx("span",{style:{color:"#0891b2"},children:"Health"})]}),E.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"28px",flexWrap:"wrap"},children:[E.jsxs("a",{href:"tel:+919876543210",style:{padding:"14px 20px",background:"linear-gradient(145deg, #ffffff, #f1f5f9)",borderRadius:"60px",boxShadow:"0 4px 20px rgba(0,0,0,0.06), 0 0 0 1px rgba(16, 185, 129, 0.1)",textDecoration:"none",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.3s ease"},onMouseOver:i=>{i.currentTarget.style.transform="translateY(-3px) scale(1.02)",i.currentTarget.style.boxShadow="0 12px 35px rgba(16, 185, 129, 0.25), 0 0 0 2px rgba(16, 185, 129, 0.3)"},onMouseOut:i=>{i.currentTarget.style.transform="translateY(0) scale(1)",i.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.06), 0 0 0 1px rgba(16, 185, 129, 0.1)"},children:[E.jsx("div",{style:{width:"44px",height:"44px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)"},children:E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:E.jsx("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56a.977.977 0 00-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"})})}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"0.7rem",color:"#10b981",fontWeight:"700",letterSpacing:"1px",marginBottom:"2px"},children:"CALL US"}),E.jsx("div",{style:{fontWeight:"700",color:"#1e293b",fontSize:"0.95rem",whiteSpace:"nowrap"},children:"+91 98765 43210"})]})]}),E.jsxs("a",{href:"mailto:contact@happyclinic.com",style:{padding:"14px 20px",background:"linear-gradient(145deg, #ffffff, #f1f5f9)",borderRadius:"60px",boxShadow:"0 4px 20px rgba(0,0,0,0.06), 0 0 0 1px rgba(59, 130, 246, 0.1)",textDecoration:"none",display:"flex",alignItems:"center",gap:"12px",transition:"all 0.3s ease"},onMouseOver:i=>{i.currentTarget.style.transform="translateY(-3px) scale(1.02)",i.currentTarget.style.boxShadow="0 12px 35px rgba(59, 130, 246, 0.25), 0 0 0 2px rgba(59, 130, 246, 0.3)"},onMouseOut:i=>{i.currentTarget.style.transform="translateY(0) scale(1)",i.currentTarget.style.boxShadow="0 4px 20px rgba(0,0,0,0.06), 0 0 0 1px rgba(59, 130, 246, 0.1)"},children:[E.jsx("div",{style:{width:"44px",height:"44px",background:"linear-gradient(135deg, #3b82f6, #2563eb)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(59, 130, 246, 0.4)"},children:E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",children:E.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"0.7rem",color:"#3b82f6",fontWeight:"700",letterSpacing:"1px",marginBottom:"2px"},children:"EMAIL US"}),E.jsx("div",{style:{fontWeight:"700",color:"#1e293b",fontSize:"0.95rem",whiteSpace:"nowrap"},children:"contact@happyclinic.com"})]})]})]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[E.jsx("button",{onClick:()=>t(!0),style:{padding:"18px 40px",fontSize:"1.05rem",fontWeight:"700",borderRadius:"50px",border:"none",background:"linear-gradient(135deg, #0d9488, #0891b2)",color:"white",cursor:"pointer",boxShadow:"0 10px 35px rgba(13, 148, 136, 0.35)",transition:"all 0.3s ease"},onMouseOver:i=>{i.currentTarget.style.transform="translateY(-3px)",i.currentTarget.style.boxShadow="0 15px 45px rgba(13, 148, 136, 0.45)"},onMouseOut:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="0 10px 35px rgba(13, 148, 136, 0.35)"},children:"Book Appointment "}),E.jsx("div",{style:{display:"flex",gap:"10px"},children:r.map((i,a)=>E.jsx("a",{href:i.href,target:"_blank",rel:"noopener noreferrer",style:{width:"46px",height:"46px",borderRadius:"14px",backgroundColor:"rgba(255,255,255,0.95)",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",display:"flex",alignItems:"center",justifyContent:"center",color:i.color,transition:"all 0.2s ease",border:"1px solid rgba(0,0,0,0.05)"},onMouseOver:l=>l.currentTarget.style.transform="translateY(-3px)",onMouseOut:l=>l.currentTarget.style.transform="translateY(0)",children:E.jsx("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:i.icon})})},a))})]})]}),E.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-30%, -50%)",width:"420px",height:"420px",zIndex:1},children:E.jsx("img",{src:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=600&q=80",alt:"Wellness",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"30px",boxShadow:"0 30px 60px rgba(0,0,0,0.15)"}})}),E.jsxs("div",{style:{position:"absolute",right:"60px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"20px",zIndex:2},children:[E.jsxs("div",{style:{padding:"28px",background:"linear-gradient(145deg, #ffffff, #f8fafc)",borderRadius:"24px",boxShadow:"0 15px 50px rgba(0,0,0,0.1)",textAlign:"center",width:"200px",border:"1px solid rgba(255,255,255,0.8)"},children:[E.jsx("div",{style:{fontSize:"0.8rem",color:"#94a3b8",marginBottom:"8px",fontWeight:"600",letterSpacing:"0.5px"},children:"HAPPY PATIENTS"}),E.jsx("div",{style:{fontSize:"3rem",fontWeight:"800",background:"linear-gradient(135deg, #0d9488, #0891b2)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"500+"}),E.jsxs("div",{style:{fontSize:"0.85rem",color:"#64748b",marginTop:"4px"},children:["Just Trust Us ",E.jsx("br",{}),"We'll Take Care of You"]})]}),E.jsxs("div",{style:{padding:"22px",background:"linear-gradient(145deg, #ffffff, #f8fafc)",borderRadius:"20px",boxShadow:"0 15px 50px rgba(0,0,0,0.1)",width:"200px",border:"1px solid rgba(255,255,255,0.8)"},children:[E.jsxs("div",{style:{fontSize:"0.8rem",fontWeight:"700",color:"#1e293b",marginBottom:"14px",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx("span",{style:{width:"28px",height:"28px",background:"linear-gradient(135deg, #8b5cf6, #7c3aed)",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.9rem"},children:""}),"Clinic Hours"]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[E.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"rgba(16, 185, 129, 0.1)",borderRadius:"10px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("span",{style:{color:"#10b981",fontWeight:"700",fontSize:"0.85rem"},children:"Salem"}),E.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:"Mon-Wed"})]}),E.jsx("div",{style:{color:"#1e293b",fontSize:"0.8rem",fontWeight:"600",marginTop:"4px"},children:"10:00 AM - 8:00 PM"})]}),E.jsxs("div",{style:{padding:"10px 12px",backgroundColor:"rgba(59, 130, 246, 0.1)",borderRadius:"10px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("span",{style:{color:"#3b82f6",fontWeight:"700",fontSize:"0.85rem"},children:"Attur"}),E.jsx("span",{style:{color:"#64748b",fontSize:"0.75rem"},children:"Thu-Sat"})]}),E.jsx("div",{style:{color:"#1e293b",fontSize:"0.8rem",fontWeight:"600",marginTop:"4px"},children:"10:00 AM - 8:00 PM"})]})]}),E.jsx("div",{style:{marginTop:"10px",padding:"6px 10px",backgroundColor:"rgba(239, 68, 68, 0.08)",borderRadius:"20px",textAlign:"center",fontSize:"0.75rem",color:"#ef4444",fontWeight:"600"},children:" Closed Sundays"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[E.jsxs("div",{style:{padding:"12px 18px",backgroundColor:"rgba(255,255,255,0.95)",borderRadius:"50px",boxShadow:"0 8px 25px rgba(0,0,0,0.08)",display:"flex",alignItems:"center",gap:"10px",fontSize:"0.85rem",color:"#1e293b",fontWeight:"500"},children:[E.jsx("span",{children:""}),E.jsx("span",{children:"Expert Care Always"})]}),E.jsxs("div",{style:{padding:"12px 18px",backgroundColor:"rgba(255,255,255,0.95)",borderRadius:"50px",boxShadow:"0 8px 25px rgba(0,0,0,0.08)",display:"flex",alignItems:"center",gap:"10px",fontSize:"0.85rem",color:"#1e293b",fontWeight:"500"},children:[E.jsx("span",{children:""}),E.jsx("span",{children:"Personalized Treatment"})]})]})]})]}),e&&E.jsx("div",{id:"booking-modal-overlay",onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",backdropFilter:"blur(8px)"},children:E.jsxs("div",{className:"animate-slide-up",style:{width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",position:"relative",borderRadius:"24px",background:"linear-gradient(145deg, #fefefe, #f8fafc)",boxShadow:"0 25px 80px rgba(0,0,0,0.2)"},onClick:i=>i.stopPropagation(),children:[E.jsx("button",{onClick:()=>t(!1),style:{position:"absolute",top:"16px",right:"16px",width:"40px",height:"40px",borderRadius:"50%",border:"none",backgroundColor:"rgba(0,0,0,0.08)",color:"#1e293b",fontSize:"1.3rem",cursor:"pointer",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},children:""}),E.jsx(d4,{})]})})]})},f4=()=>{const[r,e]=B.useState(""),[t,n]=B.useState(""),[i,a]=B.useState(""),[l,d]=B.useState(!1),{login:f}=al(),p=Za(),g=async _=>{_.preventDefault();try{a(""),d(!0),await f(r,t),p("/dashboard")}catch(x){a("Failed to log in: "+x.message)}d(!1)};return E.jsx("div",{className:"container section-padding",style:{minHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{className:"glass-panel animate-slide-up",style:{maxWidth:"400px",width:"100%",padding:"40px"},children:[E.jsx("h2",{className:"heading-md",style:{textAlign:"center",marginBottom:"30px",color:"var(--primary-color)"},children:"Welcome Back"}),i&&E.jsx("div",{style:{color:"var(--error-color)",backgroundColor:"#fef2f2",padding:"10px",borderRadius:"8px",marginBottom:"20px",fontSize:"0.9rem"},children:i}),E.jsxs("form",{onSubmit:g,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Email"}),E.jsx("input",{type:"email",className:"glass-input",value:r,onChange:_=>e(_.target.value),required:!0,placeholder:"Enter your email"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"30px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Password"}),E.jsx("input",{type:"password",className:"glass-input",value:t,onChange:_=>n(_.target.value),required:!0,placeholder:"Enter your password"})]}),E.jsx("button",{disabled:l,type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"20px"},children:l?"Logging in...":"Log In"})]}),E.jsxs("div",{style:{marginTop:"30px",textAlign:"center",fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Need an account? ",E.jsx(Yt,{to:"/signup",style:{color:"var(--primary-color)",fontWeight:"600"},children:"Sign Up"})]})]})})},p4=()=>{const[r,e]=B.useState(""),[t,n]=B.useState(""),[i,a]=B.useState(""),[l,d]=B.useState(""),[f,p]=B.useState(""),[g,_]=B.useState(!1),{signup:x}=al(),T=Za(),P=async M=>{if(M.preventDefault(),i!==l)return p("Passwords do not match");try{p(""),_(!0);const b=await x(t,i);await Sb(b.user,{displayName:r}),T("/dashboard")}catch(b){p("Failed to create an account: "+b.message)}_(!1)};return E.jsx("div",{className:"container section-padding",style:{minHeight:"80vh",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{className:"glass-panel animate-slide-up",style:{maxWidth:"400px",width:"100%",padding:"40px"},children:[E.jsx("h2",{className:"heading-md",style:{textAlign:"center",marginBottom:"30px",color:"var(--primary-color)"},children:"Create Account"}),f&&E.jsx("div",{style:{color:"var(--error-color)",backgroundColor:"#fef2f2",padding:"10px",borderRadius:"8px",marginBottom:"20px",fontSize:"0.9rem"},children:f}),E.jsxs("form",{onSubmit:P,children:[E.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Full Name"}),E.jsx("input",{type:"text",className:"glass-input",value:r,onChange:M=>e(M.target.value),required:!0,placeholder:"John Doe"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Email"}),E.jsx("input",{type:"email",className:"glass-input",value:t,onChange:M=>n(M.target.value),required:!0,placeholder:"Enter your email"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Password"}),E.jsx("input",{type:"password",className:"glass-input",value:i,onChange:M=>a(M.target.value),required:!0,placeholder:"Create a password"})]}),E.jsxs("div",{className:"form-group",style:{marginBottom:"30px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"var(--text-secondary)"},children:"Confirm Password"}),E.jsx("input",{type:"password",className:"glass-input",value:l,onChange:M=>d(M.target.value),required:!0,placeholder:"Confirm your password"})]}),E.jsx("button",{disabled:g,type:"submit",className:"btn btn-primary",style:{width:"100%",marginBottom:"20px"},children:g?"Creating Account...":"Sign Up"})]}),E.jsxs("div",{style:{textAlign:"center",fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Already have an account? ",E.jsx(Yt,{to:"/login",style:{color:"var(--primary-color)",fontWeight:"600"},children:"Log In"})]})]})})},m4=()=>{const{currentUser:r,logout:e}=al(),[t,n]=B.useState([]),[i,a]=B.useState(!0),l=Za(),d=r?o2(r.email):null,f=!!d;B.useEffect(()=>{(async()=>{if(r)try{let P;f?P=Dm(uh(Sc,"appointments"),xc("doctorId","==",d.id)):P=Dm(uh(Sc,"appointments"),xc("userId","==",r.uid));const M=await JA(P),b=[];M.forEach(U=>{b.push({id:U.id,...U.data()})}),b.sort((U,q)=>new Date(q.date)-new Date(U.date)),n(b)}catch(P){console.error("Error fetching appointments:",P)}finally{a(!1)}})()},[r,f,d]);const p=async()=>{try{await e(),l("/login")}catch(T){console.error("Failed to log out",T)}},g=async T=>{if(window.confirm("Are you sure you want to cancel this appointment?"))try{await ZA(ux(Sc,"appointments",T)),n(P=>P.filter(M=>M.id!==T)),alert("Appointment cancelled successfully.")}catch(P){console.error("Error cancelling appointment:",P),alert("Failed to cancel appointment.")}},_=t.filter(T=>new Date(T.date)>=new Date().setHours(0,0,0,0)),x=t.filter(T=>new Date(T.date)<new Date().setHours(0,0,0,0));return E.jsx("div",{className:"container section-padding",style:{minHeight:"80vh"},children:E.jsxs("div",{className:"glass-panel animate-slide-up",style:{padding:"40px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",flexWrap:"wrap",gap:"20px"},children:[E.jsxs("div",{children:[E.jsx("h2",{className:"heading-md",style:{color:"var(--primary-color)"},children:f?`Dr. ${d.name.split(" ")[1]} Dashboard`:"My Dashboard"}),E.jsxs("p",{style:{color:"var(--text-secondary)"},children:["Welcome back, ",E.jsx("strong",{children:r?.displayName||r?.email})]})]}),E.jsx("button",{onClick:p,className:"btn",style:{border:"1px solid var(--error-color)",color:"var(--error-color)",background:"transparent"},children:"Log Out"})]}),f?E.jsxs("div",{children:[E.jsxs("h3",{className:"heading-sm",style:{marginBottom:"20px",borderBottom:"2px solid var(--primary-light)",paddingBottom:"10px"},children:["Your Appointments (",t.length,")"]}),i?E.jsx("p",{children:"Loading appointments..."}):t.length>0?E.jsx("div",{style:{overflowX:"auto"},children:E.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"600px"},children:[E.jsx("thead",{children:E.jsxs("tr",{style:{backgroundColor:"var(--primary-light)",color:"var(--primary-dark)"},children:[E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Date"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Time"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Location"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Patient"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Phone"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Reason"}),E.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600"},children:"Action"})]})}),E.jsx("tbody",{children:t.map((T,P)=>E.jsxs("tr",{style:{borderBottom:"1px solid rgba(0,0,0,0.1)",backgroundColor:P%2===0?"transparent":"rgba(0,0,0,0.02)"},children:[E.jsx("td",{style:{padding:"12px"},children:T.date}),E.jsx("td",{style:{padding:"12px"},children:E.jsx("span",{style:{background:"var(--primary-light)",color:"var(--primary-dark)",padding:"4px 8px",borderRadius:"12px",fontSize:"0.85rem"},children:T.slot})}),E.jsx("td",{style:{padding:"12px"},children:Aa[T.location]?.name||T.location}),E.jsx("td",{style:{padding:"12px",fontWeight:"600"},children:T.name}),E.jsx("td",{style:{padding:"12px"},children:T.phone}),E.jsx("td",{style:{padding:"12px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:T.reason}),E.jsx("td",{style:{padding:"12px"},children:E.jsx("button",{onClick:()=>g(T.id),style:{background:"#fee2e2",color:"#ef4444",border:"none",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600"},children:"Cancel"})})]},T.id))})]})}):E.jsx("div",{style:{textAlign:"center",padding:"40px",background:"rgba(0,0,0,0.02)",borderRadius:"16px"},children:E.jsx("p",{style:{color:"var(--text-secondary)"},children:"No appointments found."})})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{marginBottom:"40px"},children:[E.jsx("h3",{className:"heading-sm",style:{marginBottom:"20px",borderBottom:"2px solid var(--primary-light)",paddingBottom:"10px"},children:"Upcoming Appointments"}),i?E.jsx("p",{children:"Loading appointments..."}):_.length>0?E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:_.map(T=>E.jsxs("div",{className:"glass-panel",style:{padding:"20px",borderLeft:"4px solid var(--primary-color)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[E.jsx("span",{style:{fontWeight:"700",color:"var(--primary-color)"},children:T.date}),E.jsx("span",{style:{background:"var(--primary-light)",color:"var(--primary-dark)",padding:"2px 8px",borderRadius:"12px",fontSize:"0.8rem"},children:T.slot})]}),E.jsxs("h4",{style:{fontSize:"1.1rem",marginBottom:"5px"},children:[Aa[T.location]?.name||T.location," Clinic"]}),T.doctorName&&E.jsxs("p",{style:{fontSize:"0.9rem",fontWeight:"600",color:"var(--text-primary)"},children:["With ",T.doctorName]}),E.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Reason: ",T.reason]})]},T.id))}):E.jsxs("div",{style:{textAlign:"center",padding:"40px",background:"rgba(0,0,0,0.02)",borderRadius:"16px"},children:[E.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"20px"},children:"No upcoming appointments."}),E.jsx(Yt,{to:"/contact",className:"btn btn-primary",children:"Book Now"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"heading-sm",style:{marginBottom:"20px",borderBottom:"2px solid #eee",paddingBottom:"10px",color:"var(--text-secondary)"},children:"Past History"}),x.length>0?E.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:x.map(T=>E.jsxs("div",{style:{padding:"20px",background:"rgba(0,0,0,0.02)",borderRadius:"12px",border:"1px solid rgba(0,0,0,0.05)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[E.jsx("span",{style:{fontWeight:"600",color:"var(--text-secondary)"},children:T.date}),E.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:T.slot})]}),E.jsxs("p",{style:{fontSize:"0.95rem",color:"var(--text-primary)"},children:[Aa[T.location]?.name||T.location," Clinic"]}),T.doctorName&&E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:T.doctorName})]},T.id))}):E.jsx("p",{style:{color:"var(--text-secondary)"},children:"No past appointment history."})]})]})]})})},g4=({children:r})=>{const{currentUser:e,loading:t}=al();return t?E.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:"Loading..."}):e?r:E.jsx(II,{to:"/login"})};function y4(){return E.jsx(bI,{children:E.jsxs(Cr,{path:"/",element:E.jsx(s2,{}),children:[E.jsx(Cr,{index:!0,element:E.jsx(a2,{})}),E.jsx(Cr,{path:"about",element:E.jsx(l2,{})}),E.jsx(Cr,{path:"services",element:E.jsx(c2,{})}),E.jsx(Cr,{path:"specialists",element:E.jsx(u2,{})}),E.jsx(Cr,{path:"contact",element:E.jsx(h4,{})}),E.jsx(Cr,{path:"login",element:E.jsx(f4,{})}),E.jsx(Cr,{path:"signup",element:E.jsx(p4,{})}),E.jsx(Cr,{path:"dashboard",element:E.jsx(g4,{children:E.jsx(m4,{})})})]})})}RT.createRoot(document.getElementById("root")).render(E.jsx(K.StrictMode,{children:E.jsx(OI,{children:E.jsx(i2,{children:E.jsx(y4,{})})})}));
